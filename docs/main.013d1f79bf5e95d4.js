(self.webpackChunkricva=self.webpackChunkricva||[]).push([[179],{2011:(Dt,Ne,U)=>{"use strict";U.d(Ne,{Dh:()=>Ce,GT:()=>z,cc:()=>Ve,hO:()=>Ke,on:()=>Y,pX:()=>fe,xv:()=>Ie});var c=U(4650),q=U(9260),N=U(4976);Dt=U.hmd(Dt);const le=["ngOnDestroy"],fe=(be,wt,st,Pe={})=>new Proxy(be,{get:(Ee,me)=>st.runOutsideAngular(()=>{var We;if(be[me])return!(null===(We=Pe?.spy)||void 0===We)&&We.get&&Pe.spy.get(me,be[me]),be[me];if(le.indexOf(me)>-1)return()=>{};const Ye=wt.toPromise().then(de=>{const Qe=de&&de[me];return"function"==typeof Qe?Qe.bind(de):Qe&&Qe.then?Qe.then(Nt=>st.run(()=>Nt)):st.run(()=>Qe)});return new Proxy(()=>{},{get:(de,Qe)=>Ye[Qe],apply:(de,Qe,Nt)=>Ye.then(mt=>{var Gt;const nt=mt&&mt(...Nt);return!(null===(Gt=Pe?.spy)||void 0===Gt)&&Gt.apply&&Pe.spy.apply(me,Nt,nt),nt})})})}),z=(be,wt)=>{wt.forEach(st=>{Object.getOwnPropertyNames(st.prototype||st).forEach(Pe=>{Object.defineProperty(be.prototype,Pe,Object.getOwnPropertyDescriptor(st.prototype||st,Pe))})})};class we{constructor(wt){return wt}}const Ce=new c.OlP("angularfire2.app.options"),Ie=new c.OlP("angularfire2.app.name");function Y(be,wt,st){const Ee="object"==typeof st&&st||{};Ee.name=Ee.name||"string"==typeof st&&st||"[DEFAULT]";const We=q.Z.apps.filter(Ye=>Ye&&Ye.name===Ee.name)[0]||wt.runOutsideAngular(()=>q.Z.initializeApp(be,Ee));try{JSON.stringify(be)!==JSON.stringify(We.options)&&Z("error",`${We.name} Firebase App already initialized with different options${Dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new we(We)}const Z=(be,...wt)=>{(0,c.X6Q)()&&typeof console<"u"&&console[be](...wt)},ne={provide:we,useFactory:Y,deps:[Ce,c.R0b,[new c.FiY,Ie]]};let Ke=(()=>{class be{constructor(st){q.Z.registerVersion("angularfire",N.q4.full,"core"),q.Z.registerVersion("angularfire",N.q4.full,"app-compat"),q.Z.registerVersion("angular",c.q4F.full,st.toString())}static initializeApp(st,Pe){return{ngModule:be,providers:[{provide:Ce,useValue:st},{provide:Ie,useValue:Pe}]}}}return be.\u0275fac=function(st){return new(st||be)(c.LFG(c.Lbi))},be.\u0275mod=c.oAB({type:be}),be.\u0275inj=c.cJS({providers:[ne]}),be})();function Ve(be,wt,st,Pe,Ee){const[,me,We]=globalThis.\u0275AngularfireInstanceCache.find(Ye=>Ye[0]===be)||[];if(me)return function Me(be,wt){try{return be.toString()===wt.toString()}catch{return be===wt}}(Ee,We)||(De("error",`${wt} was already initialized on the ${st} Firebase App with different settings.${tt?" You may need to reload as Firebase is not HMR aware.":""}`),De("warn",{is:Ee,was:We})),me;{const Ye=Pe();return globalThis.\u0275AngularfireInstanceCache.push([be,Ye,Ee]),Ye}}const tt=!!Dt.hot,De=(be,...wt)=>{(0,c.X6Q)()&&typeof console<"u"&&console[be](...wt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(Dt,Ne,U)=>{"use strict";U.d(Ne,{q4:()=>yr,iC:()=>Oc,fc:()=>Eu,HU:()=>Pc,vb:()=>zl,JM:()=>pf});var c=U(4650),q=U(259),N=U(5861),le=U(6881),fe=U(2090),z=U(4859),we=U(1877);let Ie,Y;const Ke=new WeakMap,Ve=new WeakMap,Me=new WeakMap,tt=new WeakMap,De=new WeakMap;let st={get(w,T,M){if(w instanceof IDBTransaction){if("done"===T)return Ve.get(w);if("objectStoreNames"===T)return w.objectStoreNames||Me.get(w);if("store"===T)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return We(w[T])},set:(w,T,M)=>(w[T]=M,!0),has:(w,T)=>w instanceof IDBTransaction&&("done"===T||"store"===T)||T in w};function me(w){return"function"==typeof w?function Ee(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ne(){return Y||(Y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...T){return w.apply(Ye(this),T),We(Ke.get(this))}:function(...T){return We(w.apply(Ye(this),T))}:function(T,...M){const H=w.call(Ye(this),T,...M);return Me.set(H,T.sort?T.sort():[T]),We(H)}}(w):(w instanceof IDBTransaction&&function wt(w){if(Ve.has(w))return;const T=new Promise((M,H)=>{const Q=()=>{w.removeEventListener("complete",ie),w.removeEventListener("error",ve),w.removeEventListener("abort",ve)},ie=()=>{M(),Q()},ve=()=>{H(w.error||new DOMException("AbortError","AbortError")),Q()};w.addEventListener("complete",ie),w.addEventListener("error",ve),w.addEventListener("abort",ve)});Ve.set(w,T)}(w),((w,T)=>T.some(M=>w instanceof M))(w,function Z(){return Ie||(Ie=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,st):w)}function We(w){if(w instanceof IDBRequest)return function be(w){const T=new Promise((M,H)=>{const Q=()=>{w.removeEventListener("success",ie),w.removeEventListener("error",ve)},ie=()=>{M(We(w.result)),Q()},ve=()=>{H(w.error),Q()};w.addEventListener("success",ie),w.addEventListener("error",ve)});return T.then(M=>{M instanceof IDBCursor&&Ke.set(M,w)}).catch(()=>{}),De.set(T,w),T}(w);if(tt.has(w))return tt.get(w);const T=me(w);return T!==w&&(tt.set(w,T),De.set(T,w)),T}const Ye=w=>De.get(w),Nt=["get","getKey","getAll","getAllKeys","count"],mt=["put","add","delete","clear"],Gt=new Map;function nt(w,T){if(!(w instanceof IDBDatabase)||T in w||"string"!=typeof T)return;if(Gt.get(T))return Gt.get(T);const M=T.replace(/FromIndex$/,""),H=T!==M,Q=mt.includes(M);if(!(M in(H?IDBIndex:IDBObjectStore).prototype)||!Q&&!Nt.includes(M))return;const ie=function(){var ve=(0,N.Z)(function*(et,...Je){const Ct=this.transaction(et,Q?"readwrite":"readonly");let Et=Ct.store;return H&&(Et=Et.index(Je.shift())),(yield Promise.all([Et[M](...Je),Q&&Ct.done]))[0]});return function(Je){return ve.apply(this,arguments)}}();return Gt.set(T,ie),ie}!function Pe(w){st=w(st)}(w=>({...w,get:(T,M,H)=>nt(T,M)||w.get(T,M,H),has:(T,M)=>!!nt(T,M)||w.has(T,M)}));const Nr="@firebase/installations",jr="w:0.6.4",ae="FIS_v2",ut=new fe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function xt(w){return w instanceof fe.ZR&&w.code.includes("request-failed")}function an({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function gt(w){return{token:w.token,requestStatus:2,expiresIn:Ut(w.expiresIn),creationTime:Date.now()}}function Wt(w,T){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,N.Z)(function*(w,T){const H=(yield T.json()).error;return ut.create("request-failed",{requestName:w,serverCode:H.code,serverMessage:H.message,serverStatus:H.status})})).apply(this,arguments)}function Yt({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function Zn(w,{refreshToken:T}){const M=Yt(w);return M.append("Authorization",function Jn(w){return`${ae} ${w}`}(T)),M}function Mn(w){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,N.Z)(function*(w){const T=yield w();return T.status>=500&&T.status<600?w():T})).apply(this,arguments)}function Ut(w){return Number(w.replace("s","000"))}function rt(w,T){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,N.Z)(function*({appConfig:w,heartbeatServiceProvider:T},{fid:M}){const H=an(w),Q=Yt(w),ie=T.getImmediate({optional:!0});if(ie){const Ct=yield ie.getHeartbeatsHeader();Ct&&Q.append("x-firebase-client",Ct)}const et={method:"POST",headers:Q,body:JSON.stringify({fid:M,authVersion:ae,appId:w.appId,sdkVersion:jr})},Je=yield Mn(()=>fetch(H,et));if(Je.ok){const Ct=yield Je.json();return{fid:Ct.fid||M,registrationStatus:2,refreshToken:Ct.refreshToken,authToken:gt(Ct.authToken)}}throw yield Wt("Create Installation",Je)})).apply(this,arguments)}function un(w){return new Promise(T=>{setTimeout(T,w)})}const yi=/^[cdef][\w-]{21}$/;function pn(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const M=function Nn(w){return function dn(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return yi.test(M)?M:""}catch{return""}}function Qt(w){return`${w.appName}!${w.appId}`}const ft=new Map;function Tt(w,T){const M=Qt(w);fr(M,T),function ur(w,T){const M=function Xn(){return!It&&"BroadcastChannel"in self&&(It=new BroadcastChannel("[Firebase] FID Change"),It.onmessage=w=>{fr(w.data.key,w.data.fid)}),It}();M&&M.postMessage({key:w,fid:T}),function en(){0===ft.size&&It&&(It.close(),It=null)}()}(M,T)}function fr(w,T){const M=ft.get(w);if(M)for(const H of M)H(T)}let It=null;const Kn="firebase-installations-store";let Cn=null;function or(){return Cn||(Cn=function de(w,T,{blocked:M,upgrade:H,blocking:Q,terminated:ie}={}){const ve=indexedDB.open(w,T),et=We(ve);return H&&ve.addEventListener("upgradeneeded",Je=>{H(We(ve.result),Je.oldVersion,Je.newVersion,We(ve.transaction))}),M&&ve.addEventListener("blocked",()=>M()),et.then(Je=>{ie&&Je.addEventListener("close",()=>ie()),Q&&Je.addEventListener("versionchange",()=>Q())}).catch(()=>{}),et}("firebase-installations-database",1,{upgrade:(w,T)=>{0===T&&w.createObjectStore(Kn)}})),Cn}function $n(w,T){return pr.apply(this,arguments)}function pr(){return(pr=(0,N.Z)(function*(w,T){const M=Qt(w),Q=(yield or()).transaction(Kn,"readwrite"),ie=Q.objectStore(Kn),ve=yield ie.get(M);return yield ie.put(T,M),yield Q.done,(!ve||ve.fid!==T.fid)&&Tt(w,T.fid),T})).apply(this,arguments)}function sr(w){return _i.apply(this,arguments)}function _i(){return(_i=(0,N.Z)(function*(w){const T=Qt(w),H=(yield or()).transaction(Kn,"readwrite");yield H.objectStore(Kn).delete(T),yield H.done})).apply(this,arguments)}function gr(w,T){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,N.Z)(function*(w,T){const M=Qt(w),Q=(yield or()).transaction(Kn,"readwrite"),ie=Q.objectStore(Kn),ve=yield ie.get(M),et=T(ve);return void 0===et?yield ie.delete(M):yield ie.put(et,M),yield Q.done,et&&(!ve||ve.fid!==et.fid)&&Tt(w,et.fid),et})).apply(this,arguments)}function K(w){return W.apply(this,arguments)}function W(){return(W=(0,N.Z)(function*(w){let T;const M=yield gr(w.appConfig,H=>{const Q=B(H),ie=V(w,Q);return T=ie.registrationPromise,ie.installationEntry});return""===M.fid?{installationEntry:yield T}:{installationEntry:M,registrationPromise:T}})).apply(this,arguments)}function B(w){return xe(w||{fid:pn(),registrationStatus:0})}function V(w,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(ut.create("app-offline"))};const M={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},H=function F(w,T){return te.apply(this,arguments)}(w,M);return{installationEntry:M,registrationPromise:H}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Se(w)}:{installationEntry:T}}function te(){return(te=(0,N.Z)(function*(w,T){try{const M=yield rt(w,T);return $n(w.appConfig,M)}catch(M){throw xt(M)&&409===M.customData.serverCode?yield sr(w.appConfig):yield $n(w.appConfig,{fid:T.fid,registrationStatus:0}),M}})).apply(this,arguments)}function Se(w){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,N.Z)(function*(w){let T=yield bt(w.appConfig);for(;1===T.registrationStatus;)yield un(100),T=yield bt(w.appConfig);if(0===T.registrationStatus){const{installationEntry:M,registrationPromise:H}=yield K(w);return H||M}return T})).apply(this,arguments)}function bt(w){return gr(w,T=>{if(!T)throw ut.create("installation-not-found");return xe(T)})}function xe(w){return function it(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function ct(w,T){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,N.Z)(function*({appConfig:w,heartbeatServiceProvider:T},M){const H=Bt(w,M),Q=Zn(w,M),ie=T.getImmediate({optional:!0});if(ie){const Ct=yield ie.getHeartbeatsHeader();Ct&&Q.append("x-firebase-client",Ct)}const et={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:jr,appId:w.appId}})},Je=yield Mn(()=>fetch(H,et));if(Je.ok)return gt(yield Je.json());throw yield Wt("Generate Auth Token",Je)})).apply(this,arguments)}function Bt(w,{fid:T}){return`${an(w)}/${T}/authTokens:generate`}function rn(w){return In.apply(this,arguments)}function In(){return(In=(0,N.Z)(function*(w,T=!1){let M;const H=yield gr(w.appConfig,ie=>{if(!qt(ie))throw ut.create("not-registered");const ve=ie.authToken;if(!T&&bn(ve))return ie;if(1===ve.requestStatus)return M=ce(w,T),ie;{if(!navigator.onLine)throw ut.create("app-offline");const et=on(ie);return M=je(w,et),et}});return M?yield M:H.authToken})).apply(this,arguments)}function ce(w,T){return se.apply(this,arguments)}function se(){return(se=(0,N.Z)(function*(w,T){let M=yield $e(w.appConfig);for(;1===M.authToken.requestStatus;)yield un(100),M=yield $e(w.appConfig);const H=M.authToken;return 0===H.requestStatus?rn(w,T):H})).apply(this,arguments)}function $e(w){return gr(w,T=>{if(!qt(T))throw ut.create("not-registered");return function Fr(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function je(w,T){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,N.Z)(function*(w,T){try{const M=yield ct(w,T),H=Object.assign(Object.assign({},T),{authToken:M});return yield $n(w.appConfig,H),M}catch(M){if(!xt(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const H=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield $n(w.appConfig,H)}else yield sr(w.appConfig);throw M}})).apply(this,arguments)}function qt(w){return void 0!==w&&2===w.registrationStatus}function bn(w){return 2===w.requestStatus&&!function qn(w){const T=Date.now();return T<w.creationTime||w.creationTime+w.expiresIn<T+36e5}(w)}function on(w){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:T})}function si(){return(si=(0,N.Z)(function*(w){const T=w,{installationEntry:M,registrationPromise:H}=yield K(T);return H?H.catch(console.error):rn(T).catch(console.error),M.fid})).apply(this,arguments)}function Ns(){return(Ns=(0,N.Z)(function*(w,T=!1){const M=w;return yield fn(M),(yield rn(M,T)).token})).apply(this,arguments)}function fn(w){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,N.Z)(function*(w){const{registrationPromise:T}=yield K(w);T&&(yield T)})).apply(this,arguments)}function Er(w){return ut.create("missing-app-config-values",{valueName:w})}const Ir="installations",io=w=>{const T=w.getProvider("app").getImmediate(),M=function pl(w){if(!w||!w.options)throw Er("App Configuration");if(!w.name)throw Er("App Name");const T=["projectId","apiKey","appId"];for(const M of T)if(!w.options[M])throw Er(M);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(T);return{app:T,appConfig:M,heartbeatServiceProvider:(0,le._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Ls=w=>{const T=w.getProvider("app").getImmediate(),M=(0,le._getProvider)(T,Ir).getImmediate();return{getId:()=>function Ai(w){return si.apply(this,arguments)}(M),getToken:Q=>function ks(w){return Ns.apply(this,arguments)}(M,Q)}};(function vi(){(0,le._registerComponent)(new z.wA(Ir,io,"PUBLIC")),(0,le._registerComponent)(new z.wA("installations-internal",Ls,"PRIVATE"))})(),(0,le.registerVersion)(Nr,"0.6.4"),(0,le.registerVersion)(Nr,"0.6.4","esm2017");const Vs="@firebase/remote-config",Pn=new fe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class vl{constructor(T,M,H,Q){this.client=T,this.storage=M,this.storageCache=H,this.logger=Q}isCachedDataFresh(T,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-M,Q=H<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${Q}.`),Q}fetch(T){var M=this;return(0,N.Z)(function*(){const[H,Q]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Q&&M.isCachedDataFresh(T.cacheMaxAgeMillis,H))return Q;T.eTag=Q&&Q.eTag;const ie=yield M.client.fetch(T),ve=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ie.status&&ve.push(M.storage.setLastSuccessfulFetchResponse(ie)),yield Promise.all(ve),ie})()}}function Hs(w=navigator){return w.languages&&w.languages[0]||w.language}class wo{constructor(T,M,H,Q,ie,ve){this.firebaseInstallations=T,this.sdkVersion=M,this.namespace=H,this.projectId=Q,this.apiKey=ie,this.appId=ve}fetch(T){var M=this;return(0,N.Z)(function*(){const[H,Q]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),ve=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,et={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Je={sdk_version:M.sdkVersion,app_instance_id:H,app_instance_id_token:Q,app_id:M.appId,language_code:Hs()},Ct={method:"POST",headers:et,body:JSON.stringify(Je)},Et=fetch(ve,Ct),jt=new Promise((Br,Is)=>{T.signal.addEventListener(()=>{const Ka=new Error("The operation was aborted.");Ka.name="AbortError",Is(Ka)})});let Ur;try{yield Promise.race([Et,jt]),Ur=yield Et}catch(Br){let Is="fetch-client-network";throw"AbortError"===Br?.name&&(Is="fetch-timeout"),Pn.create(Is,{originalErrorMessage:Br?.message})}let Ln=Ur.status;const Pt=Ur.headers.get("ETag")||void 0;let Li,Za;if(200===Ur.status){let Br;try{Br=yield Ur.json()}catch(Is){throw Pn.create("fetch-client-parse",{originalErrorMessage:Is?.message})}Li=Br.entries,Za=Br.state}if("INSTANCE_STATE_UNSPECIFIED"===Za?Ln=500:"NO_CHANGE"===Za?Ln=304:("NO_TEMPLATE"===Za||"EMPTY_CONFIG"===Za)&&(Li={}),304!==Ln&&200!==Ln)throw Pn.create("fetch-status",{httpStatus:Ln});return{status:Ln,eTag:Pt,config:Li}})()}}class wl{constructor(T,M){this.client=T,this.storage=M}fetch(T){var M=this;return(0,N.Z)(function*(){const H=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(T,H)})()}attemptFetch(T,{throttleEndTimeMillis:M,backoffCount:H}){var Q=this;return(0,N.Z)(function*(){yield function $s(w,T){return new Promise((M,H)=>{const Q=Math.max(T-Date.now(),0),ie=setTimeout(M,Q);w.addEventListener(()=>{clearTimeout(ie),H(Pn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,M);try{const ie=yield Q.client.fetch(T);return yield Q.storage.deleteThrottleMetadata(),ie}catch(ie){if(!function sc(w){if(!(w instanceof fe.ZR&&w.customData))return!1;const T=Number(w.customData.httpStatus);return 429===T||500===T||503===T||504===T}(ie))throw ie;const ve={throttleEndTimeMillis:Date.now()+(0,fe.$s)(H),backoffCount:H+1};return yield Q.storage.setThrottleMetadata(ve),Q.attemptFetch(T,ve)}})()}}class bl{constructor(T,M,H,Q,ie){this.app=T,this._client=M,this._storageCache=H,this._storage=Q,this._logger=ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function er(w,T){const M=w.target.error||void 0;return Pn.create(T,{originalErrorMessage:M&&M?.message})}const so="app_namespace_store";class su{constructor(T,M,H,Q=function Sd(){return new Promise((w,T)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=H=>{T(er(H,"storage-open"))},M.onsuccess=H=>{w(H.target.result)},M.onupgradeneeded=H=>{0===H.oldVersion&&H.target.result.createObjectStore(so,{keyPath:"compositeKey"})}}catch(M){T(Pn.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=T,this.appName=M,this.namespace=H,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var M=this;return(0,N.Z)(function*(){const H=yield M.openDbPromise;return new Promise((Q,ie)=>{const et=H.transaction([so],"readonly").objectStore(so),Je=M.createCompositeKey(T);try{const Ct=et.get(Je);Ct.onerror=Et=>{ie(er(Et,"storage-get"))},Ct.onsuccess=Et=>{const jt=Et.target.result;Q(jt?jt.value:void 0)}}catch(Ct){ie(Pn.create("storage-get",{originalErrorMessage:Ct?.message}))}})})()}set(T,M){var H=this;return(0,N.Z)(function*(){const Q=yield H.openDbPromise;return new Promise((ie,ve)=>{const Je=Q.transaction([so],"readwrite").objectStore(so),Ct=H.createCompositeKey(T);try{const Et=Je.put({compositeKey:Ct,value:M});Et.onerror=jt=>{ve(er(jt,"storage-set"))},Et.onsuccess=()=>{ie()}}catch(Et){ve(Pn.create("storage-set",{originalErrorMessage:Et?.message}))}})})()}delete(T){var M=this;return(0,N.Z)(function*(){const H=yield M.openDbPromise;return new Promise((Q,ie)=>{const et=H.transaction([so],"readwrite").objectStore(so),Je=M.createCompositeKey(T);try{const Ct=et.delete(Je);Ct.onerror=Et=>{ie(er(Et,"storage-delete"))},Ct.onsuccess=()=>{Q()}}catch(Ct){ie(Pn.create("storage-delete",{originalErrorMessage:Ct?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class An{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,N.Z)(function*(){const M=T.storage.getLastFetchStatus(),H=T.storage.getLastSuccessfulFetchTimestampMillis(),Q=T.storage.getActiveConfig(),ie=yield M;ie&&(T.lastFetchStatus=ie);const ve=yield H;ve&&(T.lastSuccessfulFetchTimestampMillis=ve);const et=yield Q;et&&(T.activeConfig=et)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Gr(){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,N.Z)(function*(){if(!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}let ai,dr;!function as(){(0,le._registerComponent)(new z.wA("remote-config",function w(T,{instanceIdentifier:M}){const H=T.getProvider("app").getImmediate(),Q=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Pn.create("registration-window");if(!(0,fe.hl)())throw Pn.create("indexed-db-unavailable");const{projectId:ie,apiKey:ve,appId:et}=H.options;if(!ie)throw Pn.create("registration-project-id");if(!ve)throw Pn.create("registration-api-key");if(!et)throw Pn.create("registration-app-id");const Je=new su(et,H.name,M=M||"firebase"),Ct=new An(Je),Et=new we.Yd(Vs);Et.logLevel=we.in.ERROR;const jt=new wo(Q,le.SDK_VERSION,M,ie,ve,et),Ur=new wl(jt,Je),Ln=new vl(Ur,Je,Ct,Et),Pt=new bl(H,Ln,Ct,Je,Et);return function oc(w){const T=(0,fe.m9)(w);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Pt),Pt},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(Vs,"0.4.4"),(0,le.registerVersion)(Vs,"0.4.4","esm2017")}();const ls=new WeakMap,li=new WeakMap,mr=new WeakMap,Fo=new WeakMap,Lt=new WeakMap;let xa={get(w,T,M){if(w instanceof IDBTransaction){if("done"===T)return li.get(w);if("objectStoreNames"===T)return w.objectStoreNames||mr.get(w);if("store"===T)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return Pi(w[T])},set:(w,T,M)=>(w[T]=M,!0),has:(w,T)=>w instanceof IDBTransaction&&("done"===T||"store"===T)||T in w};function Aa(w){return"function"==typeof w?function au(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function js(){return dr||(dr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...T){return w.apply(Gs(this),T),Pi(ls.get(this))}:function(...T){return Pi(w.apply(Gs(this),T))}:function(T,...M){const H=w.call(Gs(this),T,...M);return mr.set(H,T.sort?T.sort():[T]),Pi(H)}}(w):(w instanceof IDBTransaction&&function Sa(w){if(li.has(w))return;const T=new Promise((M,H)=>{const Q=()=>{w.removeEventListener("complete",ie),w.removeEventListener("error",ve),w.removeEventListener("abort",ve)},ie=()=>{M(),Q()},ve=()=>{H(w.error||new DOMException("AbortError","AbortError")),Q()};w.addEventListener("complete",ie),w.addEventListener("error",ve),w.addEventListener("abort",ve)});li.set(w,T)}(w),((w,T)=>T.some(M=>w instanceof M))(w,function El(){return ai||(ai=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,xa):w)}function Pi(w){if(w instanceof IDBRequest)return function zs(w){const T=new Promise((M,H)=>{const Q=()=>{w.removeEventListener("success",ie),w.removeEventListener("error",ve)},ie=()=>{M(Pi(w.result)),Q()},ve=()=>{H(w.error),Q()};w.addEventListener("success",ie),w.addEventListener("error",ve)});return T.then(M=>{M instanceof IDBCursor&&ls.set(M,w)}).catch(()=>{}),Lt.set(T,w),T}(w);if(Fo.has(w))return Fo.get(w);const T=Aa(w);return T!==w&&(Fo.set(w,T),Lt.set(T,w)),T}const Gs=w=>Lt.get(w);function Fe(w,T,{blocked:M,upgrade:H,blocking:Q,terminated:ie}={}){const ve=indexedDB.open(w,T),et=Pi(ve);return H&&ve.addEventListener("upgradeneeded",Je=>{H(Pi(ve.result),Je.oldVersion,Je.newVersion,Pi(ve.transaction))}),M&&ve.addEventListener("blocked",()=>M()),et.then(Je=>{ie&&Je.addEventListener("close",()=>ie()),Q&&Je.addEventListener("versionchange",()=>Q())}).catch(()=>{}),et}function nn(w,{blocked:T}={}){const M=indexedDB.deleteDatabase(w);return T&&M.addEventListener("blocked",()=>T()),Pi(M).then(()=>{})}const Il=["get","getKey","getAll","getAllKeys","count"],Ma=["put","add","delete","clear"],tr=new Map;function qs(w,T){if(!(w instanceof IDBDatabase)||T in w||"string"!=typeof T)return;if(tr.get(T))return tr.get(T);const M=T.replace(/FromIndex$/,""),H=T!==M,Q=Ma.includes(M);if(!(M in(H?IDBIndex:IDBObjectStore).prototype)||!Q&&!Il.includes(M))return;const ie=function(){var ve=(0,N.Z)(function*(et,...Je){const Ct=this.transaction(et,Q?"readwrite":"readonly");let Et=Ct.store;return H&&(Et=Et.index(Je.shift())),(yield Promise.all([Et[M](...Je),Q&&Ct.done]))[0]});return function(Je){return ve.apply(this,arguments)}}();return tr.set(T,ie),ie}!function Lo(w){xa=w(xa)}(w=>({...w,get:(T,M,H)=>qs(T,M)||w.get(T,M,H),has:(T,M)=>!!qs(T,M)||w.has(T,M)}));const ao="/firebase-messaging-sw.js",bi="/firebase-cloud-messaging-push-scope",cs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Dl="google.c.a.c_id",Fn="google.c.a.c_l",sf="google.c.a.ts",Tl="google.c.a.e";var qr=(()=>{return(w=qr||(qr={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",qr;var w})();function Lr(w){const T=new Uint8Array(w);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Vo(w){const M=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(M),Q=new Uint8Array(H.length);for(let ie=0;ie<H.length;++ie)Q[ie]=H.charCodeAt(ie);return Q}const ui="fcm_token_details_db",lc="fcm_token_object_Store";function Sl(w){return Oa.apply(this,arguments)}function Oa(){return Oa=(0,N.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ie=>ie.name).includes(ui))return null;let T=null;return(yield Fe(ui,5,{upgrade:(H=(0,N.Z)(function*(Q,ie,ve,et){var Je;if(ie<2||!Q.objectStoreNames.contains(lc))return;const Ct=et.objectStore(lc),Et=yield Ct.index("fcmSenderId").get(w);if(yield Ct.clear(),Et)if(2===ie){const jt=Et;if(!jt.auth||!jt.p256dh||!jt.endpoint)return;T={token:jt.fcmToken,createTime:null!==(Je=jt.createTime)&&void 0!==Je?Je:Date.now(),subscriptionOptions:{auth:jt.auth,p256dh:jt.p256dh,endpoint:jt.endpoint,swScope:jt.swScope,vapidKey:"string"==typeof jt.vapidKey?jt.vapidKey:Lr(jt.vapidKey)}}}else if(3===ie){const jt=Et;T={token:jt.fcmToken,createTime:jt.createTime,subscriptionOptions:{auth:Lr(jt.auth),p256dh:Lr(jt.p256dh),endpoint:jt.endpoint,swScope:jt.swScope,vapidKey:Lr(jt.vapidKey)}}}else if(4===ie){const jt=Et;T={token:jt.fcmToken,createTime:jt.createTime,subscriptionOptions:{auth:Lr(jt.auth),p256dh:Lr(jt.p256dh),endpoint:jt.endpoint,swScope:jt.swScope,vapidKey:Lr(jt.vapidKey)}}}}),function(ie,ve,et,Je){return H.apply(this,arguments)})})).close(),yield nn(ui),yield nn("fcm_vapid_details_db"),yield nn("undefined"),Zs(T)?T:null;var H}),Oa.apply(this,arguments)}function Zs(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:T}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const Wr="firebase-messaging-store";let Ks=null;function Al(){return Ks||(Ks=Fe("firebase-messaging-database",1,{upgrade:(w,T)=>{0===T&&w.createObjectStore(Wr)}})),Ks}function Uo(w){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,N.Z)(function*(w){const T=uc(w),H=yield(yield Al()).transaction(Wr).objectStore(Wr).get(T);if(H)return H;{const Q=yield Sl(w.appConfig.senderId);if(Q)return yield ds(w,Q),Q}})).apply(this,arguments)}function ds(w,T){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,N.Z)(function*(w,T){const M=uc(w),Q=(yield Al()).transaction(Wr,"readwrite");return yield Q.objectStore(Wr).put(T,M),yield Q.done,T})).apply(this,arguments)}function cc(w){return bo.apply(this,arguments)}function bo(){return(bo=(0,N.Z)(function*(w){const T=uc(w),H=(yield Al()).transaction(Wr,"readwrite");yield H.objectStore(Wr).delete(T),yield H.done})).apply(this,arguments)}function uc({appConfig:w}){return w.appId}const _n=new fe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Bo(w,T){return On.apply(this,arguments)}function On(){return(On=(0,N.Z)(function*(w,T){const M=yield Js(w),H=di(T),Q={method:"POST",headers:M,body:JSON.stringify(H)};let ie;try{ie=yield(yield fetch(hc(w.appConfig),Q)).json()}catch(ve){throw _n.create("token-subscribe-failed",{errorInfo:ve?.toString()})}if(ie.error)throw _n.create("token-subscribe-failed",{errorInfo:ie.error.message});if(!ie.token)throw _n.create("token-subscribe-no-token");return ie.token})).apply(this,arguments)}function lu(w,T){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,N.Z)(function*(w,T){const M=yield Js(w),H=di(T.subscriptionOptions),Q={method:"PATCH",headers:M,body:JSON.stringify(H)};let ie;try{ie=yield(yield fetch(`${hc(w.appConfig)}/${T.token}`,Q)).json()}catch(ve){throw _n.create("token-update-failed",{errorInfo:ve?.toString()})}if(ie.error)throw _n.create("token-update-failed",{errorInfo:ie.error.message});if(!ie.token)throw _n.create("token-update-no-token");return ie.token})).apply(this,arguments)}function dc(w,T){return ka.apply(this,arguments)}function ka(){return(ka=(0,N.Z)(function*(w,T){const H={method:"DELETE",headers:yield Js(w)};try{const ie=yield(yield fetch(`${hc(w.appConfig)}/${T}`,H)).json();if(ie.error)throw _n.create("token-unsubscribe-failed",{errorInfo:ie.error.message})}catch(Q){throw _n.create("token-unsubscribe-failed",{errorInfo:Q?.toString()})}})).apply(this,arguments)}function hc({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function Js(w){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,N.Z)(function*({appConfig:w,installations:T}){const M=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function di({p256dh:w,auth:T,endpoint:M,vapidKey:H}){const Q={web:{endpoint:M,auth:T,p256dh:w}};return H!==cs&&(Q.web.applicationPubKey=H),Q}const ea=6048e5;function Na(w){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,N.Z)(function*(w){const T=yield fc(w.swRegistration,w.vapidKey),M={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:T.endpoint,auth:Lr(T.getKey("auth")),p256dh:Lr(T.getKey("p256dh"))},H=yield Uo(w.firebaseDependencies);if(H){if(nr(H.subscriptionOptions,M))return Date.now()>=H.createTime+ea?hs(w,{token:H.token,createTime:Date.now(),subscriptionOptions:M}):H.token;try{yield dc(w.firebaseDependencies,H.token)}catch(Q){console.warn(Q)}return fs(w.firebaseDependencies,M)}return fs(w.firebaseDependencies,M)})).apply(this,arguments)}function cu(w){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,N.Z)(function*(w){const T=yield Uo(w.firebaseDependencies);T&&(yield dc(w.firebaseDependencies,T.token),yield cc(w.firebaseDependencies));const M=yield w.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function hs(w,T){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,N.Z)(function*(w,T){try{const M=yield lu(w.firebaseDependencies,T),H=Object.assign(Object.assign({},T),{token:M,createTime:Date.now()});return yield ds(w.firebaseDependencies,H),M}catch(M){throw yield cu(w),M}})).apply(this,arguments)}function fs(w,T){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,N.Z)(function*(w,T){const H={token:yield Bo(w,T),createTime:Date.now(),subscriptionOptions:T};return yield ds(w,H),H.token})).apply(this,arguments)}function fc(w,T){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,N.Z)(function*(w,T){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Vo(T)})})).apply(this,arguments)}function nr(w,T){return T.vapidKey===w.vapidKey&&T.endpoint===w.endpoint&&T.auth===w.auth&&T.p256dh===w.p256dh}function Pl(w){const T={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function La(w,T){if(!T.notification)return;w.notification={};const M=T.notification.title;M&&(w.notification.title=M);const H=T.notification.body;H&&(w.notification.body=H);const Q=T.notification.image;Q&&(w.notification.image=Q);const ie=T.notification.icon;ie&&(w.notification.icon=ie)}(T,w),function Ol(w,T){!T.data||(w.data=T.data)}(T,w),function Va(w,T){var M,H,Q,ie,ve;if(!(T.fcmOptions||null!==(M=T.notification)&&void 0!==M&&M.click_action))return;w.fcmOptions={};const et=null!==(Q=null===(H=T.fcmOptions)||void 0===H?void 0:H.link)&&void 0!==Q?Q:null===(ie=T.notification)||void 0===ie?void 0:ie.click_action;et&&(w.fcmOptions.link=et);const Je=null===(ve=T.fcmOptions)||void 0===ve?void 0:ve.analytics_label;Je&&(w.fcmOptions.analyticsLabel=Je)}(T,w),T}function pc(w){return"object"==typeof w&&!!w&&Dl in w}function ps(w,T){const M=[];for(let H=0;H<w.length;H++)M.push(w.charAt(H)),H<T.length&&M.push(T.charAt(H));return M.join("")}function gs(w){return _n.create("missing-app-config-values",{valueName:w})}ps("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ps("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class E{constructor(T,M,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function uu(w){if(!w||!w.options)throw gs("App Configuration Object");if(!w.name)throw gs("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:M}=w;for(const H of T)if(!M[H])throw gs(H);return{appName:w.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:Q,installations:M,analyticsProvider:H}}_delete(){return Promise.resolve()}}function D(w){return O.apply(this,arguments)}function O(){return(O=(0,N.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(ao,{scope:bi}),w.swRegistration.update().catch(()=>{})}catch(T){throw _n.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function G(w,T){return _e.apply(this,arguments)}function _e(){return(_e=(0,N.Z)(function*(w,T){if(!T&&!w.swRegistration&&(yield D(w)),T||!w.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw _n.create("invalid-sw-registration");w.swRegistration=T}})).apply(this,arguments)}function yt(w,T){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,N.Z)(function*(w,T){T?w.vapidKey=T:w.vapidKey||(w.vapidKey=cs)})).apply(this,arguments)}function jn(){return(jn=(0,N.Z)(function*(w,T){if(!navigator)throw _n.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw _n.create("permission-blocked");return yield yt(w,T?.vapidKey),yield G(w,T?.serviceWorkerRegistration),Na(w)})).apply(this,arguments)}function Vr(w,T,M){return ms.apply(this,arguments)}function ms(){return(ms=(0,N.Z)(function*(w,T,M){const H=Ua(T);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:M[Dl],message_name:M[Fn],message_time:M[sf],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ua(w){switch(w){case qr.NOTIFICATION_CLICKED:return"notification_open";case qr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ta(){return(ta=(0,N.Z)(function*(w,T){const M=T.data;if(!M.isFirebaseMessaging)return;w.onMessageHandler&&M.messageType===qr.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(Pl(M)):w.onMessageHandler.next(Pl(M)));const H=M.data;pc(H)&&"1"===H[Tl]&&(yield Vr(w,M.messageType,H))})).apply(this,arguments)}const kl="@firebase/messaging",Nl=w=>{const T=new E(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Rl(w,T){return ta.apply(this,arguments)}(T,M)),T},du=w=>{const T=w.getProvider("messaging").getImmediate();return{getToken:H=>function Qn(w,T){return jn.apply(this,arguments)}(T,H)}};function Fl(){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,N.Z)(function*(){try{yield(0,fe.eu)()}catch{return!1}return typeof window<"u"&&(0,fe.hl)()&&(0,fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function af(){(0,le._registerComponent)(new z.wA("messaging",Nl,"PUBLIC")),(0,le._registerComponent)(new z.wA("messaging-internal",du,"PRIVATE")),(0,le.registerVersion)(kl,"0.12.4"),(0,le.registerVersion)(kl,"0.12.4","esm2017")}();const Vl="analytics",Ul="firebase_id",Md="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$o="https://www.googletagmanager.com/gtag/js",rr=new we.Yd("@firebase/analytics"),Tr=new fe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function gc(w){if(!w.startsWith($o)){const T=Tr.create("invalid-gtag-resource",{gtagURL:w});return rr.warn(T.message),""}return w}function qi(w){return Promise.all(w.map(T=>T.catch(M=>M)))}function Pd(w,T){const M=function pu(w,T){let M;return window.trustedTypes&&(M=window.trustedTypes.createPolicy(w,T)),M}("firebase-js-sdk-policy",{createScriptURL:gc}),H=document.createElement("script"),Q=`${$o}?l=${w}&id=${T}`;H.src=M?M?.createScriptURL(Q):Q,H.async=!0,document.head.appendChild(H)}function Od(w,T,M,H,Q,ie){return mc.apply(this,arguments)}function mc(){return(mc=(0,N.Z)(function*(w,T,M,H,Q,ie){const ve=H[Q];try{if(ve)yield T[ve];else{const Je=(yield qi(M)).find(Ct=>Ct.measurementId===Q);Je&&(yield T[Je.appId])}}catch(et){rr.error(et)}w("config",Q,ie)})).apply(this,arguments)}function ky(w,T,M,H,Q){return yc.apply(this,arguments)}function yc(){return(yc=(0,N.Z)(function*(w,T,M,H,Q){try{let ie=[];if(Q&&Q.send_to){let ve=Q.send_to;Array.isArray(ve)||(ve=[ve]);const et=yield qi(M);for(const Je of ve){const Ct=et.find(jt=>jt.measurementId===Je),Et=Ct&&T[Ct.appId];if(!Et){ie=[];break}ie.push(Et)}}0===ie.length&&(ie=Object.values(T)),yield Promise.all(ie),w("event",H,Q||{})}catch(ie){rr.error(ie)}})).apply(this,arguments)}function cf(w){const T=window.document.getElementsByTagName("script");for(const M of Object.values(T))if(M.src&&M.src.includes($o)&&M.src.includes(w))return M;return null}const Sr=new class Ny{constructor(T={},M=1e3){this.throttleMetadata=T,this.intervalMillis=M}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,M){this.throttleMetadata[T]=M}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function vc(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function Wi(w){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,N.Z)(function*(w){var T;const{appId:M,apiKey:H}=w,Q={method:"GET",headers:vc(H)},ie=Md.replace("{app-id}",M),ve=yield fetch(ie,Q);if(200!==ve.status&&304!==ve.status){let et="";try{const Je=yield ve.json();null!==(T=Je.error)&&void 0!==T&&T.message&&(et=Je.error.message)}catch{}throw Tr.create("config-fetch-failed",{httpStatus:ve.status,responseMessage:et})}return ve.json()})).apply(this,arguments)}function wc(w){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,N.Z)(function*(w,T=Sr,M){const{appId:H,apiKey:Q,measurementId:ie}=w.options;if(!H)throw Tr.create("no-app-id");if(!Q){if(ie)return{measurementId:ie,appId:H};throw Tr.create("no-api-key")}const ve=T.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},et=new kd;return setTimeout((0,N.Z)(function*(){et.abort()}),void 0!==M?M:6e4),lo({appId:H,apiKey:Q,measurementId:ie},ve,et,T)})).apply(this,arguments)}function lo(w,T,M){return gu.apply(this,arguments)}function gu(){return(gu=(0,N.Z)(function*(w,{throttleEndTimeMillis:T,backoffCount:M},H,Q=Sr){var ie;const{appId:ve,measurementId:et}=w;try{yield Bl(H,T)}catch(Je){if(et)return rr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${et} provided in the "measurementId" field in the local Firebase config. [${Je?.message}]`),{appId:ve,measurementId:et};throw Je}try{const Je=yield Wi(w);return Q.deleteThrottleMetadata(ve),Je}catch(Je){const Ct=Je;if(!bc(Ct)){if(Q.deleteThrottleMetadata(ve),et)return rr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${et} provided in the "measurementId" field in the local Firebase config. [${Ct?.message}]`),{appId:ve,measurementId:et};throw Je}const Et=503===Number(null===(ie=Ct?.customData)||void 0===ie?void 0:ie.httpStatus)?(0,fe.$s)(M,Q.intervalMillis,30):(0,fe.$s)(M,Q.intervalMillis),jt={throttleEndTimeMillis:Date.now()+Et,backoffCount:M+1};return Q.setThrottleMetadata(ve,jt),rr.debug(`Calling attemptFetch again in ${Et} millis`),lo(w,jt,H,Q)}})).apply(this,arguments)}function Bl(w,T){return new Promise((M,H)=>{const Q=Math.max(T-Date.now(),0),ie=setTimeout(M,Q);w.addEventListener(()=>{clearTimeout(ie),H(Tr.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function bc(w){if(!(w instanceof fe.ZR&&w.customData))return!1;const T=Number(w.customData.httpStatus);return 429===T||500===T||503===T||504===T}class kd{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let Nd,Ec;function df(){return(df=(0,N.Z)(function*(w,T,M,H,Q){if(Q&&Q.global)w("event",M,H);else{const ie=yield T;w("event",M,Object.assign(Object.assign({},H),{send_to:ie}))}})).apply(this,arguments)}function Hl(w){Ec=w}function _u(w){Nd=w}function En(){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,N.Z)(function*(){if(!(0,fe.hl)())return rr.warn(Tr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,fe.eu)()}catch(w){return rr.warn(Tr.create("indexeddb-unavailable",{errorInfo:w?.toString()}).message),!1}return!0})).apply(this,arguments)}function ar(){return(ar=(0,N.Z)(function*(w,T,M,H,Q,ie,ve){var et;const Je=wc(w);Je.then(Ln=>{M[Ln.measurementId]=Ln.appId,w.options.measurementId&&Ln.measurementId!==w.options.measurementId&&rr.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${Ln.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ln=>rr.error(Ln)),T.push(Je);const Ct=En().then(Ln=>{if(Ln)return H.getId()}),[Et,jt]=yield Promise.all([Je,Ct]);cf(ie)||Pd(ie,Et.measurementId),Ec&&(Q("consent","default",Ec),Hl(void 0)),Q("js",new Date);const Ur=null!==(et=ve?.config)&&void 0!==et?et:{};return Ur.origin="firebase",Ur.update=!0,null!=jt&&(Ur[Ul]=jt),Q("config",Et.measurementId,Ur),Nd&&(Q("set",Nd),_u(void 0)),Et.measurementId})).apply(this,arguments)}class ei{constructor(T){this.app=T}_delete(){return delete ki[this.app.options.appId],Promise.resolve()}}let ki={},$l=[];const Ni={};let za,hi,ja="dataLayer",Ga=!1;function $t(w,T,M){!function ws(){const w=[];if((0,fe.ru)()&&w.push("This is a browser extension environment."),(0,fe.zI)()||w.push("Cookies are not available."),w.length>0){const T=w.map((H,Q)=>`(${Q+1}) ${H}`).join(" "),M=Tr.create("invalid-analytics-context",{errorInfo:T});rr.warn(M.message)}}();const H=w.options.appId;if(!H)throw Tr.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw Tr.create("no-api-key");rr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ki[H])throw Tr.create("already-exists",{id:H});if(!Ga){!function Dn(w){let T=[];Array.isArray(window[w])?T=window[w]:window[w]=T}(ja);const{wrappedGtag:ie,gtagCore:ve}=function yg(w,T,M,H,Q){let ie=function(...ve){window[H].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(ie=window[Q]),window[Q]=function mg(w,T,M,H){function ie(){return(ie=(0,N.Z)(function*(ve,...et){try{if("event"===ve){const[Je,Ct]=et;yield ky(w,T,M,Je,Ct)}else if("config"===ve){const[Je,Ct]=et;yield Od(w,T,M,H,Je,Ct)}else if("consent"===ve){const[Je]=et;w("consent","update",Je)}else if("get"===ve){const[Je,Ct,Et]=et;w("get",Je,Ct,Et)}else if("set"===ve){const[Je]=et;w("set",Je)}else w(ve,...et)}catch(Je){rr.error(Je)}})).apply(this,arguments)}return function Q(ve){return ie.apply(this,arguments)}}(ie,w,T,M),{gtagCore:ie,wrappedGtag:window[Q]}}(ki,$l,Ni,ja,"gtag");hi=ie,za=ve,Ga=!0}return ki[H]=function St(w,T,M,H,Q,ie,ve){return ar.apply(this,arguments)}(w,$l,Ni,T,za,ja,M),new ei(w)}function vu(){return bs.apply(this,arguments)}function bs(){return(bs=(0,N.Z)(function*(){if((0,fe.ru)()||!(0,fe.zI)()||!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}const Sc="@firebase/analytics";!function Zi(){(0,le._registerComponent)(new z.wA(Vl,(T,{options:M})=>$t(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,le._registerComponent)(new z.wA("analytics-internal",function w(T){try{const M=T.getProvider(Vl).getImmediate();return{logEvent:(H,Q,ie)=>function Cs(w,T,M,H){w=(0,fe.m9)(w),function _g(w,T,M,H,Q){return df.apply(this,arguments)}(hi,ki[w.app.options.appId],T,M,H).catch(Q=>rr.error(Q))}(M,H,Q,ie)}}catch(M){throw Tr.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,le.registerVersion)(Sc,"0.10.0"),(0,le.registerVersion)(Sc,"0.10.0","esm2017")}();var Eo=U(4408),xc=U(7565);const Ac=new class ti extends xc.v{}(class co extends Eo.o{constructor(T,M){super(T,M),this.scheduler=T,this.work=M}schedule(T,M=0){return M>0?super.schedule(T,M):(this.delay=M,this.state=T,this.scheduler.flush(this),this)}execute(T,M){return M>0||this.closed?super.execute(T,M):this._execute(T,M)}requestAsyncId(T,M,H=0){return null!=H&&H>0||null==H&&this.delay>0?super.requestAsyncId(T,M,H):(T.flush(this),0)}});var Ar=U(4986),oa=U(8505),sa=U(5363),Fi=U(9468);const yr=new c.GfV("7.6.1"),zo="__angularfire_symbol__analyticsIsSupportedValue",Mc="__angularfire_symbol__analyticsIsSupported",jl="__angularfire_symbol__remoteConfigIsSupportedValue",uo="__angularfire_symbol__remoteConfigIsSupported",ho="__angularfire_symbol__messagingIsSupportedValue",Yr="__angularfire_symbol__messagingIsSupported";function pf(w,T,M){if(T){if(1===T.length)return T[0];const ie=T.filter(ve=>ve.app===M);if(1===ie.length)return ie[0]}return M.container.getProvider(w).getImmediate({optional:!0})}globalThis[Mc]||(globalThis[Mc]=vu().then(w=>globalThis[zo]=w).catch(()=>globalThis[zo]=!1)),globalThis[Yr]||(globalThis[Yr]=Fl().then(w=>globalThis[ho]=w).catch(()=>globalThis[ho]=!1)),globalThis[uo]||(globalThis[uo]=Gr().then(w=>globalThis[jl]=w).catch(()=>globalThis[jl]=!1));const zl=(w,T)=>{const M=T?[T]:(0,q.C6)(),H=[];return M.forEach(Q=>{Q.container.getProvider(w).instances.forEach(ve=>{H.includes(ve)||H.push(ve)})}),H};function Gl(){}class Cu{constructor(T,M=Ac){this.zone=T,this.delegate=M}now(){return this.delegate.now()}schedule(T,M,H){const Q=this.zone;return this.delegate.schedule(function(ve){Q.runGuarded(()=>{T.apply(this,[ve])})},M,H)}}class ln{constructor(T){this.zone=T,this.task=null}call(T,M){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Gl,{},Gl,Gl)),M.pipe((0,oa.b)({next:H,complete:H,error:H})).subscribe(T).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Pc=(()=>{class w{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Cu(Zone.current)),this.insideAngular=M.run(()=>new Cu(Zone.current,Ar.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(M){return new(M||w)(c.LFG(c.R0b))},w.\u0275prov=c.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function Go(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function Eu(w){return w.pipe((0,sa.Q)(Go().outsideAngular))}function Oc(w){return Go(),function Iu(w){return function(M){return(M=M.lift(new ln(w.ngZone))).pipe((0,Fi.R)(w.outsideAngular),(0,sa.Q)(w.insideAngular))}}(Go())(w)}},1389:(Dt,Ne,U)=>{"use strict";U.d(Ne,{$:()=>ao,A:()=>Z,D:()=>Ve,I:()=>wn,J:()=>io,L:()=>ji,N:()=>gr,P:()=>St,Q:()=>su,R:()=>Oi,U:()=>No,V:()=>Gr,W:()=>Cl,X:()=>Da,Y:()=>El,Z:()=>js,_:()=>Lt,a:()=>_s,a0:()=>cs,a1:()=>Dl,a2:()=>ci,a3:()=>lc,a4:()=>Oa,a5:()=>xl,a6:()=>Wr,a7:()=>Al,a8:()=>Ys,a9:()=>Qs,aA:()=>de,aB:()=>jl,aC:()=>sr,aD:()=>Cr,aE:()=>sa,aF:()=>Bd,aG:()=>Tc,aH:()=>Yn,aL:()=>vs,aO:()=>ai,aa:()=>cc,ab:()=>uc,ac:()=>xd,ad:()=>lu,ae:()=>dc,af:()=>hc,ai:()=>ea,aj:()=>Fa,ak:()=>cu,an:()=>au,ao:()=>La,aq:()=>Zt,ar:()=>kl,as:()=>Nt,at:()=>xe,au:()=>Se,av:()=>Pe,aw:()=>Ur,ax:()=>fo,ay:()=>it,az:()=>Ee,b:()=>Ad,c:()=>hi,d:()=>$t,e:()=>xr,f:()=>Sc,g:()=>ti,h:()=>Eo,i:()=>uf,j:()=>Ar,k:()=>Br,l:()=>Fd,m:()=>gf,p:()=>Ce,r:()=>Vd,s:()=>hf,u:()=>En});var c=U(5861),q=U(2090),N=U(6881),le=U(7582),fe=U(1877),z=U(4859);const Ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ve=function ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Me=function Ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},tt=new q.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),be=new fe.Yd("@firebase/auth");function st(v,...p){be.logLevel<=fe.in.ERROR&&be.error(`Auth (${N.SDK_VERSION}): ${v}`,...p)}function Pe(v,...p){throw Ye(v,...p)}function Ee(v,...p){return Ye(v,...p)}function me(v,p,m){const C=Object.assign(Object.assign({},Me()),{[p]:m});return new q.LL("auth","Firebase",C).create(p,{appName:v.name})}function We(v,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Pe(v,"argument-error"),me(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ye(v,...p){if("string"!=typeof v){const m=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=v.name),v._errorFactory.create(m,...C)}return tt.create(v,...p)}function de(v,p,...m){if(!v)throw Ye(p,...m)}function Qe(v){const p="INTERNAL ASSERTION FAILED: "+v;throw st(p),new Error(p)}function Nt(v,p){v||Qe(p)}function mt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Gt(){return"http:"===nt()||"https:"===nt()}function nt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class oi{constructor(p,m){this.shortDelay=p,this.longDelay=m,Nt(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,q.uI)()||(0,q.b$)()}get(){return function Nr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Gt()||(0,q.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jr(v,p){Nt(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class ae{static initialize(p,m,C){this.fetchImpl=p,m&&(this.headersImpl=m),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Qe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Qe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Qe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const oe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ae=new oi(3e4,6e4);function pe(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function Le(v,p,m,C){return ke.apply(this,arguments)}function ke(){return(ke=(0,c.Z)(function*(v,p,m,C,P={}){return ut(v,P,(0,c.Z)(function*(){let L={},ee={};C&&("GET"===p?ee=C:L={body:JSON.stringify(C)});const ge=(0,q.xO)(Object.assign({key:v.config.apiKey},ee)).slice(1),Ze=yield v._getAdditionalHeaders();return Ze["Content-Type"]="application/json",v.languageCode&&(Ze["X-Firebase-Locale"]=v.languageCode),ae.fetch()(Wt(v,v.config.apiHost,m,ge),Object.assign({method:p,headers:Ze,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function ut(v,p,m){return xt.apply(this,arguments)}function xt(){return(xt=(0,c.Z)(function*(v,p,m){v._canInitEmulator=!1;const C=Object.assign(Object.assign({},oe),p);try{const P=new Bn(v),L=yield Promise.race([m(),P.promise]);P.clearNetworkTimeout();const ee=yield L.json();if("needConfirmation"in ee)throw Yt(v,"account-exists-with-different-credential",ee);if(L.ok&&!("errorMessage"in ee))return ee;{const ge=L.ok?ee.errorMessage:ee.error.message,[Ze,at]=ge.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ze)throw Yt(v,"credential-already-in-use",ee);if("EMAIL_EXISTS"===Ze)throw Yt(v,"email-already-in-use",ee);if("USER_DISABLED"===Ze)throw Yt(v,"user-disabled",ee);const Ot=C[Ze]||Ze.toLowerCase().replace(/[_\s]+/g,"-");if(at)throw me(v,Ot,at);Pe(v,Ot)}}catch(P){if(P instanceof q.ZR)throw P;Pe(v,"network-request-failed",{message:String(P)})}})).apply(this,arguments)}function an(v,p,m,C){return gt.apply(this,arguments)}function gt(){return(gt=(0,c.Z)(function*(v,p,m,C,P={}){const L=yield Le(v,p,m,C,P);return"mfaPendingCredential"in L&&Pe(v,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function Wt(v,p,m,C){const P=`${p}${m}?${C}`;return v.config.emulator?jr(v.config,P):`${v.config.apiScheme}://${P}`}class Bn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,C)=>{this.timer=setTimeout(()=>C(Ee(this.auth,"network-request-failed")),Ae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yt(v,p,m){const C={appName:v.name};m.email&&(C.email=m.email),m.phoneNumber&&(C.phoneNumber=m.phoneNumber);const P=Ee(v,p,C);return P.customData._tokenResponse=m,P}function Mn(){return(Mn=(0,c.Z)(function*(v,p){return Le(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Gn(v,p){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,c.Z)(function*(v,p){return Le(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Jn(v,p){return rt.apply(this,arguments)}function rt(){return(rt=(0,c.Z)(function*(v,p){return Le(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Hn(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function yi(){return(yi=(0,c.Z)(function*(v,p=!1){const m=(0,q.m9)(v),C=yield m.getIdToken(p),P=pn(C);de(P&&P.exp&&P.auth_time&&P.iat,m.auth,"internal-error");const L="object"==typeof P.firebase?P.firebase:void 0,ee=L?.sign_in_provider;return{claims:P,token:C,authTime:Hn(br(P.auth_time)),issuedAtTime:Hn(br(P.iat)),expirationTime:Hn(br(P.exp)),signInProvider:ee||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function br(v){return 1e3*Number(v)}function pn(v){const[p,m,C]=v.split(".");if(void 0===p||void 0===m||void 0===C)return st("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,q.tV)(m);return P?JSON.parse(P):(st("Failed to decode base64 JWT payload"),null)}catch(P){return st("Caught error parsing JWT payload as JSON",P?.toString()),null}}function Qt(v,p){return ft.apply(this,arguments)}function ft(){return(ft=(0,c.Z)(function*(v,p,m=!1){if(m)return p;try{return yield p}catch(C){throw C instanceof q.ZR&&Tt(C)&&v.auth.currentUser===v&&(yield v.auth.signOut()),C}})).apply(this,arguments)}function Tt({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class hn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const P=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,P)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),C)}iteration(){var p=this;return(0,c.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class zr{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hn(this.lastLoginAt),this.creationTime=Hn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fr(v){return ur.apply(this,arguments)}function ur(){return(ur=(0,c.Z)(function*(v){var p;const m=v.auth,C=yield v.getIdToken(),P=yield Qt(v,Jn(m,{idToken:C}));de(P?.users.length,m,"internal-error");const L=P.users[0];v._notifyReloadListener(L);const ee=null!==(p=L.providerUserInfo)&&void 0!==p&&p.length?Hi(L.providerUserInfo):[],ge=en(v.providerData,ee),Ot=!!v.isAnonymous&&!(v.email&&L.passwordHash||ge?.length),vn={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:ge,metadata:new zr(L.createdAt,L.lastLoginAt),isAnonymous:Ot};Object.assign(v,vn)})).apply(this,arguments)}function Xn(){return(Xn=(0,c.Z)(function*(v){const p=(0,q.m9)(v);yield fr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function en(v,p){return[...v.filter(C=>!p.some(P=>P.providerId===C.providerId)),...p]}function Hi(v){return v.map(p=>{var{providerId:m}=p,C=(0,le._T)(p,["providerId"]);return{providerId:m,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Kn(){return(Kn=(0,c.Z)(function*(v,p){const m=yield ut(v,{},(0,c.Z)(function*(){const C=(0,q.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:P,apiKey:L}=v.config,ee=Wt(v,P,"/v1/token",`key=${L}`),ge=yield v._getAdditionalHeaders();return ge["Content-Type"]="application/x-www-form-urlencoded",ae.fetch()(ee,{method:"POST",headers:ge,body:C})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Cn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){de(p.idToken,"internal-error"),de(typeof p.idToken<"u","internal-error"),de(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Nn(v){const p=pn(v);return de(p,"internal-error"),de(typeof p.exp<"u","internal-error"),de(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var C=this;return(0,c.Z)(function*(){return de(!C.accessToken||C.refreshToken,p,"user-token-expired"),m||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var C=this;return(0,c.Z)(function*(){const{accessToken:P,refreshToken:L,expiresIn:ee}=yield function gn(v,p){return Kn.apply(this,arguments)}(p,m);C.updateTokensAndExpiration(P,L,Number(ee))})()}updateTokensAndExpiration(p,m,C){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,m){const{refreshToken:C,accessToken:P,expirationTime:L}=m,ee=new Cn;return C&&(de("string"==typeof C,"internal-error",{appName:p}),ee.refreshToken=C),P&&(de("string"==typeof P,"internal-error",{appName:p}),ee.accessToken=P),L&&(de("number"==typeof L,"internal-error",{appName:p}),ee.expirationTime=L),ee}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Cn,this.toJSON())}_performRefresh(){return Qe("not implemented")}}function or(v,p){de("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class $n{constructor(p){var{uid:m,auth:C,stsTokenManager:P}=p,L=(0,le._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=C,this.stsTokenManager=P,this.accessToken=P.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new zr(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,c.Z)(function*(){const C=yield Qt(m,m.stsTokenManager.getToken(m.auth,p));return de(C,m.auth,"internal-error"),m.accessToken!==C&&(m.accessToken=C,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),C})()}getIdTokenResult(p){return function dn(v){return yi.apply(this,arguments)}(this,p)}reload(){return function It(v){return Xn.apply(this,arguments)}(this)}_assign(p){this!==p&&(de(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new $n(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var C=this;return(0,c.Z)(function*(){let P=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),P=!0),m&&(yield fr(C)),yield C.auth._persistUserIfCurrent(C),P&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,c.Z)(function*(){const m=yield p.getIdToken();return yield Qt(p,function Zn(v,p){return Mn.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var C,P,L,ee,ge,Ze,at,Ot;const vn=null!==(C=m.displayName)&&void 0!==C?C:void 0,Ki=null!==(P=m.email)&&void 0!==P?P:void 0,Ya=null!==(L=m.phoneNumber)&&void 0!==L?L:void 0,aa=null!==(ee=m.photoURL)&&void 0!==ee?ee:void 0,Qa=null!==(ge=m.tenantId)&&void 0!==ge?ge:void 0,la=null!==(Ze=m._redirectEventId)&&void 0!==Ze?Ze:void 0,Mu=null!==(at=m.createdAt)&&void 0!==at?at:void 0,yf=null!==(Ot=m.lastLoginAt)&&void 0!==Ot?Ot:void 0,{uid:Gd,emailVerified:Ja,isAnonymous:_f,providerData:ca,stsTokenManager:qd}=m;de(Gd&&qd,p,"internal-error");const Cg=Cn.fromJSON(this.name,qd);de("string"==typeof Gd,p,"internal-error"),or(vn,p.name),or(Ki,p.name),de("boolean"==typeof Ja,p,"internal-error"),de("boolean"==typeof _f,p,"internal-error"),or(Ya,p.name),or(aa,p.name),or(Qa,p.name),or(la,p.name),or(Mu,p.name),or(yf,p.name);const Pu=new $n({uid:Gd,auth:p,email:Ki,emailVerified:Ja,displayName:vn,isAnonymous:_f,photoURL:aa,phoneNumber:Ya,tenantId:Qa,stsTokenManager:Cg,createdAt:Mu,lastLoginAt:yf});return ca&&Array.isArray(ca)&&(Pu.providerData=ca.map(Wd=>Object.assign({},Wd))),la&&(Pu._redirectEventId=la),Pu}static _fromIdTokenResponse(p,m,C=!1){return(0,c.Z)(function*(){const P=new Cn;P.updateFromServerResponse(m);const L=new $n({uid:m.localId,auth:p,stsTokenManager:P,isAnonymous:C});return yield fr(L),L})()}}const pr=new Map;function sr(v){Nt(v instanceof Function,"Expected a class definition");let p=pr.get(v);return p?(Nt(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,pr.set(v,p),p)}const gr=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,C){var P=this;return(0,c.Z)(function*(){P.storage[m]=C})()}_get(m){var C=this;return(0,c.Z)(function*(){const P=C.storage[m];return void 0===P?null:P})()}_remove(m){var C=this;return(0,c.Z)(function*(){delete C.storage[m]})()}_addListener(m,C){}_removeListener(m,C){}}return v.type="NONE",v})();function Cr(v,p,m){return`firebase:${v}:${p}:${m}`}class K{constructor(p,m,C){this.persistence=p,this.auth=m,this.userKey=C;const{config:P,name:L}=this.auth;this.fullUserKey=Cr(this.userKey,P.apiKey,L),this.fullPersistenceKey=Cr("persistence",P.apiKey,L),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?$n._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,c.Z)(function*(){if(m.persistence===p)return;const C=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,C?m.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,C="authUser"){return(0,c.Z)(function*(){if(!m.length)return new K(sr(gr),p,C);const P=(yield Promise.all(m.map(function(){var at=(0,c.Z)(function*(Ot){if(yield Ot._isAvailable())return Ot});return function(Ot){return at.apply(this,arguments)}}()))).filter(at=>at);let L=P[0]||sr(gr);const ee=Cr(C,p.config.apiKey,p.name);let ge=null;for(const at of m)try{const Ot=yield at._get(ee);if(Ot){const vn=$n._fromJSON(p,Ot);at!==L&&(ge=vn),L=at;break}}catch{}const Ze=P.filter(at=>at._shouldAllowMigration);return L._shouldAllowMigration&&Ze.length?(L=Ze[0],ge&&(yield L._set(ee,ge.toJSON())),yield Promise.all(m.map(function(){var at=(0,c.Z)(function*(Ot){if(Ot!==L)try{yield Ot._remove(ee)}catch{}});return function(Ot){return at.apply(this,arguments)}}())),new K(L,p,C)):new K(L,p,C)})()}}function W(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(te(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(B(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Xe(p))return"Blackberry";if(bt(p))return"Webos";if(V(p))return"Safari";if((p.includes("chrome/")||F(p))&&!p.includes("edge/"))return"Chrome";if(Se(p))return"Android";{const C=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function B(v=(0,q.z$)()){return/firefox\//i.test(v)}function V(v=(0,q.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function F(v=(0,q.z$)()){return/crios\//i.test(v)}function te(v=(0,q.z$)()){return/iemobile/i.test(v)}function Se(v=(0,q.z$)()){return/android/i.test(v)}function Xe(v=(0,q.z$)()){return/blackberry/i.test(v)}function bt(v=(0,q.z$)()){return/webos/i.test(v)}function xe(v=(0,q.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function it(v=(0,q.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Bt(v=(0,q.z$)()){return xe(v)||Se(v)||bt(v)||Xe(v)||/windows phone/i.test(v)||te(v)}function In(v,p=[]){let m;switch(v){case"Browser":m=W((0,q.z$)());break;case"Worker":m=`${W((0,q.z$)())}-${v}`;break;default:m=v}const C=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${N.SDK_VERSION}/${C}`}function se(){return(se=(0,c.Z)(function*(v){return(yield Le(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function $e(v,p){return je.apply(this,arguments)}function je(){return(je=(0,c.Z)(function*(v,p){return Le(v,"GET","/v2/recaptchaConfig",pe(v,p))})).apply(this,arguments)}function Ft(v){return void 0!==v&&void 0!==v.getResponse}function qt(v){return void 0!==v&&void 0!==v.enterprise}class bn{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function on(v){return new Promise((p,m)=>{const C=document.createElement("script");C.setAttribute("src",v),C.onload=p,C.onerror=P=>{const L=Ee("internal-error");L.customData=P,m(L)},C.type="text/javascript",C.charset="UTF-8",function qn(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(C)})}function Fr(v){return`__${v}${Math.floor(1e6*Math.random())}`}class Ns{constructor(p){this.type="recaptcha-enterprise",this.auth=Yn(p)}verify(p="verify",m=!1){var C=this;return(0,c.Z)(function*(){function L(){return L=(0,c.Z)(function*(ge){if(!m){if(null==ge.tenantId&&null!=ge._agentRecaptchaConfig)return ge._agentRecaptchaConfig.siteKey;if(null!=ge.tenantId&&void 0!==ge._tenantRecaptchaConfigs[ge.tenantId])return ge._tenantRecaptchaConfigs[ge.tenantId].siteKey}return new Promise(function(){var Ze=(0,c.Z)(function*(at,Ot){$e(ge,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(vn=>{if(void 0!==vn.recaptchaKey){const Ki=new bn(vn);return null==ge.tenantId?ge._agentRecaptchaConfig=Ki:ge._tenantRecaptchaConfigs[ge.tenantId]=Ki,at(Ki.siteKey)}Ot(new Error("recaptcha Enterprise site key undefined"))}).catch(vn=>{Ot(vn)})});return function(at,Ot){return Ze.apply(this,arguments)}}())}),L.apply(this,arguments)}function ee(ge,Ze,at){const Ot=window.grecaptcha;qt(Ot)?Ot.enterprise.ready(()=>{Ot.enterprise.execute(ge,{action:p}).then(vn=>{Ze(vn)}).catch(()=>{Ze("NO_RECAPTCHA")})}):at(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ge,Ze)=>{(function P(ge){return L.apply(this,arguments)})(C.auth).then(at=>{if(!m&&qt(window.grecaptcha))ee(at,ge,Ze);else{if(typeof window>"u")return void Ze(new Error("RecaptchaVerifier is only supported in browser"));on("https://www.google.com/recaptcha/enterprise.js?render="+at).then(()=>{ee(at,ge,Ze)}).catch(Ot=>{Ze(Ot)})}}).catch(at=>{Ze(at)})})})()}}function fn(v,p,m){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,c.Z)(function*(v,p,m,C=!1){const P=new Ns(v);let L;try{L=yield P.verify(m)}catch{L=yield P.verify(m,!0)}const ee=Object.assign({},p);return Object.assign(ee,C?{captchaResp:L}:{captchaResponse:L}),Object.assign(ee,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ee,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ee})).apply(this,arguments)}class nc{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const C=L=>new Promise((ee,ge)=>{try{ee(p(L))}catch(Ze){ge(Ze)}});C.onAbort=m,this.queue.push(C);const P=this.queue.length-1;return()=>{this.queue[P]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,c.Z)(function*(){if(m.auth.currentUser===p)return;const C=[];try{for(const P of m.queue)yield P(p),P.onAbort&&C.push(P.onAbort)}catch(P){C.reverse();for(const L of C)try{L()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:P?.message})}})()}}class _o{constructor(p,m,C,P){this.app=p,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=C,this.config=P,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $i(this),this.idTokenSubscription=new $i(this),this.beforeStateQueue=new nc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=P.sdkClientVersion}_initializeWithPersistence(p,m){var C=this;return m&&(this._popupRedirectResolver=sr(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var P,L;if(!C._deleted&&(C.persistenceManager=yield K.create(C,p),!C._deleted)){if(null!==(P=C._popupRedirectResolver)&&void 0!==P&&P._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(m),C.lastNotifiedUid=(null===(L=C.currentUser)||void 0===L?void 0:L.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,c.Z)(function*(){var C;const P=yield m.assertedPersistence.getCurrentUser();let L=P,ee=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ge=null===(C=m.redirectUser)||void 0===C?void 0:C._redirectEventId,Ze=L?._redirectEventId,at=yield m.tryRedirectSignIn(p);(!ge||ge===Ze)&&at?.user&&(L=at.user,ee=!0)}if(!L)return m.directlySetCurrentUser(null);if(!L._redirectEventId){if(ee)try{yield m.beforeStateQueue.runMiddleware(L)}catch(ge){L=P,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ge))}return L?m.reloadAndSetCurrentUserOrClear(L):m.directlySetCurrentUser(null)}return de(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===L._redirectEventId?m.directlySetCurrentUser(L):m.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(p){var m=this;return(0,c.Z)(function*(){let C=null;try{C=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,c.Z)(function*(){try{yield fr(p)}catch(C){if("auth/network-request-failed"!==C?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function kn(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,c.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,c.Z)(function*(){const C=p?(0,q.m9)(p):null;return C&&de(C.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(C&&C._clone(m))})()}_updateCurrentUser(p,m=!1){var C=this;return(0,c.Z)(function*(){if(!C._deleted)return p&&de(C.tenantId===p.tenantId,C,"tenant-id-mismatch"),m||(yield C.beforeStateQueue.runMiddleware(p)),C.queue((0,c.Z)(function*(){yield C.directlySetCurrentUser(p),C.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(sr(p))}))}initializeRecaptchaConfig(){var p=this;return(0,c.Z)(function*(){const m=yield $e(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new bn(m);null==p.tenantId?p._agentRecaptchaConfig=C:p._tenantRecaptchaConfigs[p.tenantId]=C,C.emailPasswordEnabled&&new Ns(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new q.LL("auth","Firebase",p())}onAuthStateChanged(p,m,C){return this.registerStateListener(this.authStateSubscription,p,m,C)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,C){return this.registerStateListener(this.idTokenSubscription,p,m,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var C=this;return(0,c.Z)(function*(){const P=yield C.getOrInitRedirectPersistenceManager(m);return null===p?P.removeCurrentUser():P.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const C=p&&sr(p)||m._popupRedirectResolver;de(C,m,"argument-error"),m.redirectPersistenceManager=yield K.create(m,[sr(C._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,c.Z)(function*(){var C,P;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(C=m._currentUser)||void 0===C?void 0:C._redirectEventId)===p?m._currentUser:(null===(P=m.redirectUser)||void 0===P?void 0:P._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,c.Z)(function*(){if(p===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,C,P){if(this._deleted)return()=>{};const L="function"==typeof m?m:m.next.bind(m),ee=this._isInitialized?Promise.resolve():this._initializationPromise;return de(ee,this,"internal-error"),ee.then(()=>L(this.currentUser)),"function"==typeof m?p.addObserver(m,C,P):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=In(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.Z)(function*(){var m;const C={"X-Client-Version":p.clientVersion};p.app.options.appId&&(C["X-Firebase-gmpid"]=p.app.options.appId);const P=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();P&&(C["X-Firebase-Client"]=P);const L=yield p._getAppCheckToken();return L&&(C["X-Firebase-AppCheck"]=L),C})()}_getAppCheckToken(){var p=this;return(0,c.Z)(function*(){var m;const C=yield null===(m=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return C?.error&&function wt(v,...p){be.logLevel<=fe.in.WARN&&be.warn(`Auth (${N.SDK_VERSION}): ${v}`,...p)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function Yn(v){return(0,q.m9)(v)}class $i{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,q.ne)(m=>this.observer=m)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function wn(v,p,m){const C=Yn(v);de(C._canInitEmulator,C,"emulator-config-failed"),de(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const P=!!m?.disableWarnings,L=pl(p),{host:ee,port:ge}=function Er(v){const p=pl(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!m)return{host:"",port:null};const C=m[2].split("@").pop()||"",P=/^(\[[^\]]+\])(:|$)/.exec(C);if(P){const L=P[1];return{host:L,port:Ir(C.substr(L.length+1))}}{const[L,ee]=C.split(":");return{host:L,port:Ir(ee)}}}(p);C.config.emulator={url:`${L}//${ee}${null===ge?"":`:${ge}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:ee,port:ge,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:P})}),P||function ss(){function v(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function pl(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Ir(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class io{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return Qe("not implemented")}_getIdTokenResponse(p){return Qe("not implemented")}_linkToIdToken(p,m){return Qe("not implemented")}_getReauthenticationResolver(p){return Qe("not implemented")}}function Ls(v,p){return vi.apply(this,arguments)}function vi(){return(vi=(0,c.Z)(function*(v,p){return Le(v,"POST","/v1/accounts:resetPassword",pe(v,p))})).apply(this,arguments)}function Vs(v,p){return gl.apply(this,arguments)}function gl(){return(gl=(0,c.Z)(function*(v,p){return Le(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Us(v,p){return wi.apply(this,arguments)}function wi(){return(wi=(0,c.Z)(function*(v,p){return Le(v,"POST","/v1/accounts:update",pe(v,p))})).apply(this,arguments)}function ru(v,p){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,c.Z)(function*(v,p){return an(v,"POST","/v1/accounts:signInWithPassword",pe(v,p))})).apply(this,arguments)}function Ca(v,p){return rc.apply(this,arguments)}function rc(){return(rc=(0,c.Z)(function*(v,p){return Le(v,"POST","/v1/accounts:sendOobCode",pe(v,p))})).apply(this,arguments)}function Id(v,p){return ml.apply(this,arguments)}function ml(){return(ml=(0,c.Z)(function*(v,p){return Ca(v,p)})).apply(this,arguments)}function yl(v,p){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,c.Z)(function*(v,p){return Ca(v,p)})).apply(this,arguments)}function iu(v,p){return ic.apply(this,arguments)}function ic(){return(ic=(0,c.Z)(function*(v,p){return Ca(v,p)})).apply(this,arguments)}function Ro(v,p){return oc.apply(this,arguments)}function oc(){return(oc=(0,c.Z)(function*(v,p){return Ca(v,p)})).apply(this,arguments)}function Bs(){return(Bs=(0,c.Z)(function*(v,p){return an(v,"POST","/v1/accounts:signInWithEmailLink",pe(v,p))})).apply(this,arguments)}function Mi(){return(Mi=(0,c.Z)(function*(v,p){return an(v,"POST","/v1/accounts:signInWithEmailLink",pe(v,p))})).apply(this,arguments)}class _l extends io{constructor(p,m,C,P=null){super("password",C),this._email=p,this._password=m,this._tenantId=P}static _fromEmailAndPassword(p,m){return new _l(p,m,"password")}static _fromEmailAndCode(p,m,C=null){return new _l(p,m,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,c.Z)(function*(){var C;switch(m.signInMethod){case"password":const P={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=p._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const L=yield fn(p,P,"signInWithPassword");return ru(p,L)}return ru(p,P).catch(function(){var L=(0,c.Z)(function*(ee){if("auth/missing-recaptcha-token"===ee.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ge=yield fn(p,P,"signInWithPassword");return ru(p,ge)}return Promise.reject(ee)});return function(ee){return L.apply(this,arguments)}}());case"emailLink":return function Dd(v,p){return Bs.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Pe(p,"internal-error")}})()}_linkToIdToken(p,m){var C=this;return(0,c.Z)(function*(){switch(C.signInMethod){case"password":return Vs(p,{idToken:m,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function ou(v,p){return Mi.apply(this,arguments)}(p,{idToken:m,email:C._email,oobCode:C._password});default:Pe(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function vo(v,p){return oo.apply(this,arguments)}function oo(){return(oo=(0,c.Z)(function*(v,p){return an(v,"POST","/v1/accounts:signInWithIdp",pe(v,p))})).apply(this,arguments)}class ji extends io{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new ji(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Pe("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:P}=m,L=(0,le._T)(m,["providerId","signInMethod"]);if(!C||!P)return null;const ee=new ji(C,P);return ee.idToken=L.idToken||void 0,ee.accessToken=L.accessToken||void 0,ee.secret=L.secret,ee.nonce=L.nonce,ee.pendingToken=L.pendingToken||null,ee}_getIdTokenResponse(p){return vo(p,this.buildRequest())}_linkToIdToken(p,m){const C=this.buildRequest();return C.idToken=m,vo(p,C)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,vo(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,q.xO)(m)}return p}}function vl(v,p){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,c.Z)(function*(v,p){return Le(v,"POST","/v1/accounts:sendVerificationCode",pe(v,p))})).apply(this,arguments)}function $s(){return($s=(0,c.Z)(function*(v,p){return an(v,"POST","/v1/accounts:signInWithPhoneNumber",pe(v,p))})).apply(this,arguments)}function wl(){return(wl=(0,c.Z)(function*(v,p){const m=yield an(v,"POST","/v1/accounts:signInWithPhoneNumber",pe(v,p));if(m.temporaryProof)throw Yt(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ac={USER_NOT_FOUND:"user-not-found"};function bl(){return(bl=(0,c.Z)(function*(v,p){return an(v,"POST","/v1/accounts:signInWithPhoneNumber",pe(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),ac)})).apply(this,arguments)}class er extends io{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new er({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new er({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function wo(v,p){return $s.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function sc(v,p){return wl.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Ia(v,p){return bl.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:C,verificationCode:P}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:C,code:P}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:C,phoneNumber:P,temporaryProof:L}=p;return C||m||P||L?new er({verificationId:m,verificationCode:C,phoneNumber:P,temporaryProof:L}):null}}class zi{constructor(p){var m,C,P,L,ee,ge;const Ze=(0,q.zd)((0,q.pd)(p)),at=null!==(m=Ze.apiKey)&&void 0!==m?m:null,Ot=null!==(C=Ze.oobCode)&&void 0!==C?C:null,vn=function so(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(P=Ze.mode)&&void 0!==P?P:null);de(at&&Ot&&vn,"argument-error"),this.apiKey=at,this.operation=vn,this.code=Ot,this.continueUrl=null!==(L=Ze.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(ee=Ze.languageCode)&&void 0!==ee?ee:null,this.tenantId=null!==(ge=Ze.tenantId)&&void 0!==ge?ge:null}static parseLink(p){const m=function Td(v){const p=(0,q.zd)((0,q.pd)(v)).link,m=p?(0,q.zd)((0,q.pd)(p)).deep_link_id:null,C=(0,q.zd)((0,q.pd)(v)).deep_link_id;return(C?(0,q.zd)((0,q.pd)(C)).link:null)||C||m||p||v}(p);try{return new zi(m)}catch{return null}}}let su=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,C){return _l._fromEmailAndPassword(m,C)}static credentialWithLink(m,C){const P=zi.parseLink(C);return de(P,"argument-error"),_l._fromEmailAndCode(m,P.code,P.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class An{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class as extends An{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Da extends as{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return de("providerId"in m&&"signInMethod"in m,"argument-error"),ji._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return de(p.idToken||p.accessToken,"argument-error"),ji._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Da.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Da.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:C,oauthTokenSecret:P,pendingToken:L,nonce:ee,providerId:ge}=p;if(!C&&!P&&!m&&!L||!ge)return null;try{return new Da(ge)._credential({idToken:m,accessToken:C,nonce:ee,pendingToken:L})}catch{return null}}}let No=(()=>{class v extends as{constructor(){super("facebook.com")}static credential(m){return ji._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),Gr=(()=>{class v extends as{constructor(){super("google.com"),this.addScope("profile")}static credential(m,C){return ji._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:C})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:C,oauthAccessToken:P}=m;if(!C&&!P)return null;try{return v.credential(C,P)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Cl=(()=>{class v extends as{constructor(){super("github.com")}static credential(m){return ji._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class ai extends io{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return vo(p,this.buildRequest())}_linkToIdToken(p,m){const C=this.buildRequest();return C.idToken=m,vo(p,C)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,vo(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:P,pendingToken:L}=m;return C&&P&&L&&C===P?new ai(C,L):null}static _create(p,m){return new ai(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class El extends An{constructor(p){de(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return El.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return El.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=ai.fromJSON(p);return de(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:C}=p;if(!m||!C)return null;try{return ai._create(C,m)}catch{return null}}}let js=(()=>{class v extends as{constructor(){super("twitter.com")}static credential(m,C){return ji._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:C})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:C,oauthTokenSecret:P}=m;if(!C||!P)return null;try{return v.credential(C,P)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function ls(v,p){return li.apply(this,arguments)}function li(){return(li=(0,c.Z)(function*(v,p){return an(v,"POST","/v1/accounts:signUp",pe(v,p))})).apply(this,arguments)}class mr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,C,P=!1){return(0,c.Z)(function*(){const L=yield $n._fromIdTokenResponse(p,C,P),ee=Fo(C);return new mr({user:L,providerId:ee,_tokenResponse:C,operationType:m})})()}static _forOperation(p,m,C){return(0,c.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const P=Fo(C);return new mr({user:p,providerId:P,_tokenResponse:C,operationType:m})})()}}function Fo(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Lt(v){return zs.apply(this,arguments)}function zs(){return(zs=(0,c.Z)(function*(v){var p;const m=Yn(v);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new mr({user:m.currentUser,providerId:null,operationType:"signIn"});const C=yield ls(m,{returnSecureToken:!0}),P=yield mr._fromIdTokenResponse(m,"signIn",C,!0);return yield m._updateCurrentUser(P.user),P})).apply(this,arguments)}class Sa extends q.ZR{constructor(p,m,C,P){var L;super(m.code,m.message),this.operationType=C,this.user=P,Object.setPrototypeOf(this,Sa.prototype),this.customData={appName:p.name,tenantId:null!==(L=p.tenantId)&&void 0!==L?L:void 0,_serverResponse:m.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,m,C,P){return new Sa(p,m,C,P)}}function xa(v,p,m,C){return("reauthenticate"===p?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?Sa._fromErrorAndOperation(v,L,p,C):L})}function Lo(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function au(v,p){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,c.Z)(function*(v,p){const m=(0,q.m9)(v);yield Fe(!0,m,p);const{providerUserInfo:C}=yield Gn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),P=Lo(C||[]);return m.providerData=m.providerData.filter(L=>P.has(L.providerId)),P.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Pi(v,p){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,c.Z)(function*(v,p,m=!1){const C=yield Qt(v,p._linkToIdToken(v.auth,yield v.getIdToken()),m);return mr._forOperation(v,"link",C)})).apply(this,arguments)}function Fe(v,p,m){return nn.apply(this,arguments)}function nn(){return(nn=(0,c.Z)(function*(v,p,m){yield fr(p);const P=!1===v?"provider-already-linked":"no-such-provider";de(Lo(p.providerData).has(m)===v,p.auth,P)})).apply(this,arguments)}function Il(v,p){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,c.Z)(function*(v,p,m=!1){const{auth:C}=v,P="reauthenticate";try{const L=yield Qt(v,xa(C,P,p,v),m);de(L.idToken,C,"internal-error");const ee=pn(L.idToken);de(ee,C,"internal-error");const{sub:ge}=ee;return de(v.uid===ge,C,"user-mismatch"),mr._forOperation(v,P,L)}catch(L){throw"auth/user-not-found"===L?.code&&Pe(C,"user-mismatch"),L}})).apply(this,arguments)}function tr(v,p){return qs.apply(this,arguments)}function qs(){return(qs=(0,c.Z)(function*(v,p,m=!1){const C="signIn",P=yield xa(v,C,p),L=yield mr._fromIdTokenResponse(v,C,P);return m||(yield v._updateCurrentUser(L.user)),L})).apply(this,arguments)}function ao(v,p){return bi.apply(this,arguments)}function bi(){return(bi=(0,c.Z)(function*(v,p){return tr(Yn(v),p)})).apply(this,arguments)}function cs(v,p){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,c.Z)(function*(v,p){const m=(0,q.m9)(v);return yield Fe(!1,m,p.providerId),Pi(m,p)})).apply(this,arguments)}function Dl(v,p){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,c.Z)(function*(v,p){return Il((0,q.m9)(v),p)})).apply(this,arguments)}function sf(v,p){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,c.Z)(function*(v,p){return an(v,"POST","/v1/accounts:signInWithCustomToken",pe(v,p))})).apply(this,arguments)}function ci(v,p){return qr.apply(this,arguments)}function qr(){return(qr=(0,c.Z)(function*(v,p){const m=Yn(v),C=yield sf(m,{token:p,returnSecureToken:!0}),P=yield mr._fromIdTokenResponse(m,"signIn",C);return yield m._updateCurrentUser(P.user),P})).apply(this,arguments)}class Lr{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Vo._fromServerResponse(p,m):"totpInfo"in m?ui._fromServerResponse(p,m):Pe(p,"internal-error")}}class Vo extends Lr{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Vo(m)}}class ui extends Lr{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new ui(m)}}function Ws(v,p,m){var C;de((null===(C=m.url)||void 0===C?void 0:C.length)>0,v,"invalid-continue-uri"),de(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(de(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(de(m.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function lc(v,p,m){return Sl.apply(this,arguments)}function Sl(){return Sl=(0,c.Z)(function*(v,p,m){var C;const P=Yn(v),L={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=P._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const ee=yield fn(P,L,"getOobCode",!0);m&&Ws(P,ee,m),yield yl(P,ee)}else m&&Ws(P,L,m),yield yl(P,L).catch(function(){var ee=(0,c.Z)(function*(ge){if("auth/missing-recaptcha-token"!==ge.code)return Promise.reject(ge);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ze=yield fn(P,L,"getOobCode",!0);m&&Ws(P,Ze,m),yield yl(P,Ze)}});return function(ge){return ee.apply(this,arguments)}}())}),Sl.apply(this,arguments)}function Oa(v,p,m){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,c.Z)(function*(v,p,m){yield Ls((0,q.m9)(v),{oobCode:p,newPassword:m})})).apply(this,arguments)}function xl(v,p){return us.apply(this,arguments)}function us(){return(us=(0,c.Z)(function*(v,p){yield Us((0,q.m9)(v),{oobCode:p})})).apply(this,arguments)}function Wr(v,p){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,c.Z)(function*(v,p){const m=(0,q.m9)(v),C=yield Ls(m,{oobCode:p}),P=C.requestType;switch(de(P,m,"internal-error"),P){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":de(C.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":de(C.mfaInfo,m,"internal-error");default:de(C.email,m,"internal-error")}let L=null;return C.mfaInfo&&(L=Lr._fromServerResponse(Yn(m),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:L},operation:P}})).apply(this,arguments)}function Al(v,p){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,c.Z)(function*(v,p){const{data:m}=yield Wr((0,q.m9)(v),p);return m.email})).apply(this,arguments)}function Ys(v,p,m){return ds.apply(this,arguments)}function ds(){return ds=(0,c.Z)(function*(v,p,m){var C;const P=Yn(v),L={returnSecureToken:!0,email:p,password:m,clientType:"CLIENT_TYPE_WEB"};let ee;if(null!==(C=P._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const at=yield fn(P,L,"signUpPassword");ee=ls(P,at)}else ee=ls(P,L).catch(function(){var at=(0,c.Z)(function*(Ot){if("auth/missing-recaptcha-token"===Ot.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const vn=yield fn(P,L,"signUpPassword");return ls(P,vn)}return Promise.reject(Ot)});return function(Ot){return at.apply(this,arguments)}}());const ge=yield ee.catch(at=>Promise.reject(at)),Ze=yield mr._fromIdTokenResponse(P,"signIn",ge);return yield P._updateCurrentUser(Ze.user),Ze}),ds.apply(this,arguments)}function Qs(v,p,m){return ao((0,q.m9)(v),su.credential(p,m))}function cc(v,p,m){return bo.apply(this,arguments)}function bo(){return bo=(0,c.Z)(function*(v,p,m){var C;const P=Yn(v),L={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function ee(ge,Ze){de(Ze.handleCodeInApp,P,"argument-error"),Ze&&Ws(P,ge,Ze)}if(null!==(C=P._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const ge=yield fn(P,L,"getOobCode",!0);ee(ge,m),yield iu(P,ge)}else ee(L,m),yield iu(P,L).catch(function(){var ge=(0,c.Z)(function*(Ze){if("auth/missing-recaptcha-token"!==Ze.code)return Promise.reject(Ze);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const at=yield fn(P,L,"getOobCode",!0);ee(at,m),yield iu(P,at)}});return function(Ze){return ge.apply(this,arguments)}}())}),bo.apply(this,arguments)}function uc(v,p){return"EMAIL_SIGNIN"===zi.parseLink(p)?.operation}function xd(v,p,m){return _n.apply(this,arguments)}function _n(){return(_n=(0,c.Z)(function*(v,p,m){const C=(0,q.m9)(v),P=su.credentialWithLink(p,m||mt());return de(P._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),ao(C,P)})).apply(this,arguments)}function Bo(v,p){return On.apply(this,arguments)}function On(){return(On=(0,c.Z)(function*(v,p){return Le(v,"POST","/v1/accounts:createAuthUri",pe(v,p))})).apply(this,arguments)}function lu(v,p){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,c.Z)(function*(v,p){const C={identifier:p,continueUri:Gt()?mt():"http://localhost"},{signinMethods:P}=yield Bo((0,q.m9)(v),C);return P||[]})).apply(this,arguments)}function dc(v,p){return ka.apply(this,arguments)}function ka(){return(ka=(0,c.Z)(function*(v,p){const m=(0,q.m9)(v),P={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Ws(m.auth,P,p);const{email:L}=yield Id(m.auth,P);L!==v.email&&(yield v.reload())})).apply(this,arguments)}function hc(v,p,m){return Js.apply(this,arguments)}function Js(){return(Js=(0,c.Z)(function*(v,p,m){const C=(0,q.m9)(v),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};m&&Ws(C.auth,L,m);const{email:ee}=yield Ro(C.auth,L);ee!==v.email&&(yield v.reload())})).apply(this,arguments)}function Xs(v,p){return di.apply(this,arguments)}function di(){return(di=(0,c.Z)(function*(v,p){return Le(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ea(v,p){return Na.apply(this,arguments)}function Na(){return(Na=(0,c.Z)(function*(v,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const C=(0,q.m9)(v),L={idToken:yield C.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},ee=yield Qt(C,Xs(C.auth,L));C.displayName=ee.displayName||null,C.photoURL=ee.photoUrl||null;const ge=C.providerData.find(({providerId:Ze})=>"password"===Ze);ge&&(ge.displayName=C.displayName,ge.photoURL=C.photoURL),yield C._updateTokensIfNecessary(ee)})).apply(this,arguments)}function Fa(v,p){return Gi((0,q.m9)(v),p,null)}function cu(v,p){return Gi((0,q.m9)(v),null,p)}function Gi(v,p,m){return hs.apply(this,arguments)}function hs(){return(hs=(0,c.Z)(function*(v,p,m){const{auth:C}=v,L={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(L.email=p),m&&(L.password=m);const ee=yield Qt(v,Vs(C,L));yield v._updateTokensIfNecessary(ee,!0)})).apply(this,arguments)}class fs{constructor(p,m,C={}){this.isNewUser=p,this.providerId=m,this.profile=C}}class Ho extends fs{constructor(p,m,C,P){super(p,m,C),this.username=P}}class fc extends fs{constructor(p,m){super(p,"facebook.com",m)}}class Ci extends Ho{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class nr extends fs{constructor(p,m){super(p,"google.com",m)}}class Pl extends Ho{constructor(p,m,C){super(p,"twitter.com",m,C)}}function La(v){const{user:p,_tokenResponse:m}=v;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Ml(v){var p,m;if(!v)return null;const{providerId:C}=v,P=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},L=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!C&&v?.idToken){const ee=null===(m=null===(p=pn(v.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(ee)return new fs(L,"anonymous"!==ee&&"custom"!==ee?ee:null)}if(!C)return null;switch(C){case"facebook.com":return new fc(L,P);case"github.com":return new Ci(L,P);case"google.com":return new nr(L,P);case"twitter.com":return new Pl(L,P,v.screenName||null);case"custom":case"anonymous":return new fs(L,null);default:return new fs(L,C,P)}}(m)}class _e{constructor(p,m,C){this.type=p,this.credential=m,this.auth=C}static _fromIdtoken(p,m){return new _e("enroll",p,m)}static _fromMfaPendingCredential(p){return new _e("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,C;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return _e._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(C=p.multiFactorSession)&&void 0!==C&&C.idToken)return _e._fromIdtoken(p.multiFactorSession.idToken)}return null}}class yt{constructor(p,m,C){this.session=p,this.hints=m,this.signInResolver=C}static _fromError(p,m){const C=Yn(p),P=m.customData._serverResponse,L=(P.mfaInfo||[]).map(ge=>Lr._fromServerResponse(C,ge));de(P.mfaPendingCredential,C,"internal-error");const ee=_e._fromMfaPendingCredential(P.mfaPendingCredential);return new yt(ee,L,function(){var ge=(0,c.Z)(function*(Ze){const at=yield Ze._process(C,ee);delete P.mfaInfo,delete P.mfaPendingCredential;const Ot=Object.assign(Object.assign({},P),{idToken:at.idToken,refreshToken:at.refreshToken});switch(m.operationType){case"signIn":const vn=yield mr._fromIdTokenResponse(C,m.operationType,Ot);return yield C._updateCurrentUser(vn.user),vn;case"reauthenticate":return de(m.user,C,"internal-error"),mr._forOperation(m.user,m.operationType,Ot);default:Pe(C,"internal-error")}});return function(Ze){return ge.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,c.Z)(function*(){return m.signInResolver(p)})()}}function Zt(v,p){var m;const C=(0,q.m9)(v),P=p;return de(p.customData.operationType,C,"argument-error"),de(null===(m=P.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,C,"argument-error"),yt._fromError(C,P)}function Qn(v,p){return Le(v,"POST","/v2/accounts/mfaEnrollment:start",pe(v,p))}class Rl{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(C=>Lr._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new Rl(p)}getSession(){var p=this;return(0,c.Z)(function*(){return _e._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var C=this;return(0,c.Z)(function*(){const P=p,L=yield C.getSession(),ee=yield Qt(C.user,P._process(C.user.auth,L,m));return yield C.user._updateTokensIfNecessary(ee),C.user.reload()})()}unenroll(p){var m=this;return(0,c.Z)(function*(){const C="string"==typeof p?p:p.uid,P=yield m.user.getIdToken();try{const L=yield Qt(m.user,function Ua(v,p){return Le(v,"POST","/v2/accounts/mfaEnrollment:withdraw",pe(v,p))}(m.user.auth,{idToken:P,mfaEnrollmentId:C}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ee})=>ee!==C),yield m.user._updateTokensIfNecessary(L),yield m.user.reload()}catch(L){throw L}})()}}const ta=new WeakMap;function kl(v){const p=(0,q.m9)(v);return ta.has(p)||ta.set(p,Rl._fromUser(p)),ta.get(p)}const ys="__sak";class Nl{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ys,"1"),this.storage.removeItem(ys),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ad=(()=>{class v extends Nl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,C)=>this.onStorageEvent(m,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function du(){const v=(0,q.z$)();return V(v)||xe(v)}()&&function rn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Bt(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const C of Object.keys(this.listeners)){const P=this.storage.getItem(C),L=this.localCache[C];P!==L&&m(C,L,P)}}onStorageEvent(m,C=!1){if(!m.key)return void this.forAllChangedKeys((ge,Ze,at)=>{this.notifyListeners(ge,at)});const P=m.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ge=this.storage.getItem(P);if(m.newValue!==ge)null!==m.newValue?this.storage.setItem(P,m.newValue):this.storage.removeItem(P);else if(this.localCache[P]===m.newValue&&!C)return}const L=()=>{const ge=this.storage.getItem(P);!C&&this.localCache[P]===ge||this.notifyListeners(P,ge)},ee=this.storage.getItem(P);!function Jt(){return(0,q.w1)()&&10===document.documentMode}()||ee===m.newValue||m.newValue===m.oldValue?L():setTimeout(L,10)}notifyListeners(m,C){this.localCache[m]=C;const P=this.listeners[m];if(P)for(const L of Array.from(P))L(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,C,P)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:C,newValue:P}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,C){var P=()=>super._set,L=this;return(0,c.Z)(function*(){yield P().call(L,m,C),L.localCache[m]=JSON.stringify(C)})()}_get(m){var C=()=>super._get,P=this;return(0,c.Z)(function*(){const L=yield C().call(P,m);return P.localCache[m]=JSON.stringify(L),L})()}_remove(m){var C=()=>super._remove,P=this;return(0,c.Z)(function*(){yield C().call(P,m),delete P.localCache[m]})()}}return v.type="LOCAL",v})(),_s=(()=>{class v extends Nl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,C){}_removeListener(m,C){}}return v.type="SESSION",v})();let lf=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const C=this.receivers.find(L=>L.isListeningto(m));if(C)return C;const P=new v(m);return this.receivers.push(P),P}isListeningto(m){return this.eventTarget===m}handleEvent(m){var C=this;return(0,c.Z)(function*(){const P=m,{eventId:L,eventType:ee,data:ge}=P.data,Ze=C.handlersMap[ee];if(!Ze?.size)return;P.ports[0].postMessage({status:"ack",eventId:L,eventType:ee});const at=Array.from(Ze).map(function(){var vn=(0,c.Z)(function*(Ki){return Ki(P.origin,ge)});return function(Ki){return vn.apply(this,arguments)}}()),Ot=yield function gg(v){return Promise.all(v.map(function(){var p=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(C){return{fulfilled:!1,reason:C}}});return function(m){return p.apply(this,arguments)}}()))}(at);P.ports[0].postMessage({status:"done",eventId:L,eventType:ee,response:Ot})})()}_subscribe(m,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(C)}_unsubscribe(m,C){this.handlersMap[m]&&C&&this.handlersMap[m].delete(C),(!C||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function vs(v="",p=10){let m="";for(let C=0;C<p;C++)m+=Math.floor(10*Math.random());return v+m}class Ha{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,C=50){var P=this;return(0,c.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let ee,ge;return new Promise((Ze,at)=>{const Ot=vs("",20);L.port1.start();const vn=setTimeout(()=>{at(new Error("unsupported_event"))},C);ge={messageChannel:L,onMessage(Ki){const Ya=Ki;if(Ya.data.eventId===Ot)switch(Ya.data.status){case"ack":clearTimeout(vn),ee=setTimeout(()=>{at(new Error("timeout"))},3e3);break;case"done":clearTimeout(ee),Ze(Ya.data.response);break;default:clearTimeout(vn),clearTimeout(ee),at(new Error("invalid_response"))}}},P.handlers.add(ge),L.port1.addEventListener("message",ge.onMessage),P.target.postMessage({eventType:p,eventId:Ot,data:m},[L.port2])}).finally(()=>{ge&&P.removeMessageHandler(ge)})})()}}function Dr(){return window}function Ul(){return typeof Dr().WorkerGlobalScope<"u"&&"function"==typeof Dr().importScripts}function fu(){return(fu=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const rr="firebaseLocalStorageDb",Tr="firebaseLocalStorage",gc="fbase_key";class qi{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function pu(v,p){return v.transaction([Tr],p?"readwrite":"readonly").objectStore(Tr)}function Dn(){const v=indexedDB.open(rr,1);return new Promise((p,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const C=v.result;try{C.createObjectStore(Tr,{keyPath:gc})}catch(P){m(P)}}),v.addEventListener("success",(0,c.Z)(function*(){const C=v.result;C.objectStoreNames.contains(Tr)?p(C):(C.close(),yield function Pd(){const v=indexedDB.deleteDatabase(rr);return new qi(v).toPromise()}(),p(yield Dn()))}))})}function Od(v,p,m){return mc.apply(this,arguments)}function mc(){return(mc=(0,c.Z)(function*(v,p,m){const C=pu(v,!0).put({[gc]:p,value:m});return new qi(C).toPromise()})).apply(this,arguments)}function yc(){return(yc=(0,c.Z)(function*(v,p){const m=pu(v,!1).get(p),C=yield new qi(m).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function mg(v,p){const m=pu(v,!0).delete(p);return new qi(m).toPromise()}const uf=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield Dn()),m.db})()}_withRetries(m){var C=this;return(0,c.Z)(function*(){let P=0;for(;;)try{const L=yield C._openDb();return yield m(L)}catch(L){if(P++>3)throw L;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return Ul()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=lf._getInstance(function $o(){return Ul()?self:null}()),m.receiver._subscribe("keyChanged",function(){var C=(0,c.Z)(function*(P,L){return{keyProcessed:(yield m._poll()).includes(L.key)}});return function(P,L){return C.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var C=(0,c.Z)(function*(P,L){return["keyChanged"]});return function(P,L){return C.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var C,P;if(m.activeServiceWorker=yield function hu(){return fu.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ha(m.activeServiceWorker);const L=yield m.sender._send("ping",{},800);!L||(null===(C=L[0])||void 0===C?void 0:C.fulfilled)&&(null===(P=L[0])||void 0===P?void 0:P.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var C=this;return(0,c.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function Md(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:m},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Dn();return yield Od(m,ys,"1"),yield mg(m,ys),!0}catch{}return!1})()}_withPendingWrite(m){var C=this;return(0,c.Z)(function*(){C.pendingWrites++;try{yield m()}finally{C.pendingWrites--}})()}_set(m,C){var P=this;return(0,c.Z)(function*(){return P._withPendingWrite((0,c.Z)(function*(){return yield P._withRetries(L=>Od(L,m,C)),P.localCache[m]=C,P.notifyServiceWorker(m)}))})()}_get(m){var C=this;return(0,c.Z)(function*(){const P=yield C._withRetries(L=>function ky(v,p){return yc.apply(this,arguments)}(L,m));return C.localCache[m]=P,P})()}_remove(m){var C=this;return(0,c.Z)(function*(){return C._withPendingWrite((0,c.Z)(function*(){return yield C._withRetries(P=>mg(P,m)),delete C.localCache[m],C.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const C=yield m._withRetries(ee=>{const ge=pu(ee,!1).getAll();return new qi(ge).toPromise()});if(!C)return[];if(0!==m.pendingWrites)return[];const P=[],L=new Set;for(const{fbase_key:ee,value:ge}of C)L.add(ee),JSON.stringify(m.localCache[ee])!==JSON.stringify(ge)&&(m.notifyListeners(ee,ge),P.push(ee));for(const ee of Object.keys(m.localCache))m.localCache[ee]&&!L.has(ee)&&(m.notifyListeners(ee,null),P.push(ee));return P})()}notifyListeners(m,C){this.localCache[m]=C;const P=this.listeners[m];if(P)for(const L of Array.from(P))L(C)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function Ny(v,p){return Le(v,"POST","/v2/accounts/mfaSignIn:start",pe(v,p))}const wc=1e12;class Zr{constructor(p){this.auth=p,this.counter=wc,this._widgets=new Map}render(p,m){const C=this.counter;return this._widgets.set(C,new lo(p,this.auth.name,m||{})),this.counter++,C}reset(p){var m;const C=p||wc;null===(m=this._widgets.get(C))||void 0===m||m.delete(),this._widgets.delete(C)}getResponse(p){var m;return(null===(m=this._widgets.get(p||wc))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,c.Z)(function*(){var C;return null===(C=m._widgets.get(p||wc))||void 0===C||C.execute(),""})()}}class lo{constructor(p,m,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const P="string"==typeof p?document.getElementById(p):p;de(P,"argument-error",{appName:m}),this.container=P,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function gu(v){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<v;C++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Bl=Fr("rcb"),bc=new oi(3e4,6e4);class Nd{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Dr().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return de(function _g(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),p,"argument-error"),this.shouldResolveImmediately(m)&&Ft(Dr().grecaptcha)?Promise.resolve(Dr().grecaptcha):new Promise((C,P)=>{const L=Dr().setTimeout(()=>{P(Ee(p,"network-request-failed"))},bc.get());Dr()[Bl]=()=>{Dr().clearTimeout(L),delete Dr()[Bl];const ge=Dr().grecaptcha;if(!ge||!Ft(ge))return void P(Ee(p,"internal-error"));const Ze=ge.render;ge.render=(at,Ot)=>{const vn=Ze(at,Ot);return this.counter++,vn},this.hostLanguage=m,C(ge)},on(`https://www.google.com/recaptcha/api.js??${(0,q.xO)({onload:Bl,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(L),P(Ee(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=Dr().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class df{load(p){return(0,c.Z)(function*(){return new Zr(p)})()}clearedOneInstance(){}}const vg="recaptcha",mu={theme:"light",type:"image"};class Oi{constructor(p,m=Object.assign({},mu),C){this.parameters=m,this.type=vg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Yn(C),this.isInvisible="invisible"===this.parameters.size,de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const P="string"==typeof p?document.getElementById(p):p;de(P,this.auth,"argument-error"),this.container=P,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new df:new Nd,this.validateStartingState()}verify(){var p=this;return(0,c.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(m)||new Promise(L=>{const ee=ge=>{!ge||(p.tokenChangeListeners.delete(ee),L(ge))};p.tokenChangeListeners.add(ee),p.isInvisible&&C.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){de(!this.parameters.sitekey,this.auth,"argument-error"),de(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),de(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(C=>C(m)),"function"==typeof p)p(m);else if("string"==typeof p){const C=Dr()[p];"function"==typeof C&&C(m)}}}assertNotDestroyed(){de(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const C=document.createElement("div");m.appendChild(C),m=C}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.Z)(function*(){de(Gt()&&!Ul(),p.auth,"internal-error"),yield function Cc(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function ce(v){return se.apply(this,arguments)}(p.auth);de(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return de(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class na{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=er._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function hf(v,p,m){return yu.apply(this,arguments)}function yu(){return(yu=(0,c.Z)(function*(v,p,m){const C=Yn(v),P=yield Hl(C,p,(0,q.m9)(m));return new na(P,L=>ao(C,L))})).apply(this,arguments)}function Fd(v,p,m){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,c.Z)(function*(v,p,m){const C=(0,q.m9)(v);yield Fe(!1,C,"phone");const P=yield Hl(C.auth,p,(0,q.m9)(m));return new na(P,L=>cs(C,L))})).apply(this,arguments)}function Vd(v,p,m){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,c.Z)(function*(v,p,m){const C=(0,q.m9)(v),P=yield Hl(C.auth,p,(0,q.m9)(m));return new na(P,L=>Dl(C,L))})).apply(this,arguments)}function Hl(v,p,m){return _u.apply(this,arguments)}function _u(){return(_u=(0,c.Z)(function*(v,p,m){var C;const P=yield m.verify();try{let L;if(de("string"==typeof P,v,"argument-error"),de(m.type===vg,v,"argument-error"),L="string"==typeof p?{phoneNumber:p}:p,"session"in L){const ee=L.session;if("phoneNumber"in L)return de("enroll"===ee.type,v,"internal-error"),(yield Qn(v,{idToken:ee.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:P}})).phoneSessionInfo.sessionInfo;{de("signin"===ee.type,v,"internal-error");const ge=(null===(C=L.multiFactorHint)||void 0===C?void 0:C.uid)||L.multiFactorUid;return de(ge,v,"missing-multi-factor-info"),(yield Ny(v,{mfaPendingCredential:ee.credential,mfaEnrollmentId:ge,phoneSignInInfo:{recaptchaToken:P}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ee}=yield vl(v,{phoneNumber:L.phoneNumber,recaptchaToken:P});return ee}}finally{m._reset()}})).apply(this,arguments)}function En(v,p){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,c.Z)(function*(v,p){yield Pi((0,q.m9)(v),p)})).apply(this,arguments)}let St=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=Yn(m)}verifyPhoneNumber(m,C){return Hl(this.auth,m,(0,q.m9)(C))}static credential(m,C){return er._fromVerification(m,C)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:C,temporaryProof:P}=m;return C&&P?er._fromTokenResponse(C,P):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function ar(v,p){return p?sr(p):(de(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class ei extends io{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return vo(p,this._buildIdpRequest())}_linkToIdToken(p,m){return vo(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return vo(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function ki(v){return tr(v.auth,new ei(v),v.bypassAuthState)}function $l(v){const{auth:p,user:m}=v;return de(m,p,"internal-error"),Il(m,new ei(v),v.bypassAuthState)}function Ni(v){return ja.apply(this,arguments)}function ja(){return(ja=(0,c.Z)(function*(v){const{auth:p,user:m}=v;return de(m,p,"internal-error"),Pi(m,new ei(v),v.bypassAuthState)})).apply(this,arguments)}class Ic{constructor(p,m,C,P,L=!1){this.auth=p,this.resolver=C,this.user=P,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,c.Z)(function*(C,P){p.pendingPromise={resolve:C,reject:P};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(L){p.reject(L)}});return function(C,P){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,c.Z)(function*(){const{urlResponse:C,sessionId:P,postBody:L,tenantId:ee,error:ge,type:Ze}=p;if(ge)return void m.reject(ge);const at={auth:m.auth,requestUri:C,sessionId:P,tenantId:ee||void 0,postBody:L||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ze)(at))}catch(Ot){m.reject(Ot)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return ki;case"linkViaPopup":case"linkViaRedirect":return Ni;case"reauthViaPopup":case"reauthViaRedirect":return $l;default:Pe(this.auth,"internal-error")}}resolve(p){Nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const za=new oi(2e3,1e4);function hi(v,p,m){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,c.Z)(function*(v,p,m){const C=Yn(v);We(v,p,An);const P=ar(C,m);return new ra(C,"signInViaPopup",p,P).executeNotNull()})).apply(this,arguments)}function xr(v,p,m){return ws.apply(this,arguments)}function ws(){return(ws=(0,c.Z)(function*(v,p,m){const C=(0,q.m9)(v);We(C.auth,p,An);const P=ar(C.auth,m);return new ra(C.auth,"reauthViaPopup",p,P,C).executeNotNull()})).apply(this,arguments)}function $t(v,p,m){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,c.Z)(function*(v,p,m){const C=(0,q.m9)(v);We(C.auth,p,An);const P=ar(C.auth,m);return new ra(C.auth,"linkViaPopup",p,P,C).executeNotNull()})).apply(this,arguments)}let ra=(()=>{class v extends Ic{constructor(m,C,P,L,ee){super(m,C,L,ee),this.provider=P,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const C=yield m.execute();return de(C,m.auth,"internal-error"),C})()}onExecution(){var m=this;return(0,c.Z)(function*(){Nt(1===m.filter.length,"Popup operations only handle one event");const C=vs();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],C),m.authWindow.associatedEvent=C,m.resolver._originValidation(m.auth).catch(P=>{m.reject(P)}),m.resolver._isIframeWebStorageSupported(m.auth,P=>{P||m.reject(Ee(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var C,P;this.pollId=null!==(P=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==P&&P.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,za.get())};m()}}return v.currentPopupAction=null,v})();const bs=new Map;class Kr extends Ic{constructor(p,m,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,c.Z)(function*(){let C=bs.get(m.auth._key());if(!C){try{const L=(yield function Ud(v,p){return Co.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;C=()=>Promise.resolve(L)}catch(P){C=()=>Promise.reject(P)}bs.set(m.auth._key(),C)}return m.bypassAuthState||bs.set(m.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,C=this;return(0,c.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(C,p);if("unknown"!==p.type){if(p.eventId){const P=yield C.auth._redirectUserForId(p.eventId);if(P)return C.user=P,m().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Co(){return(Co=(0,c.Z)(function*(v,p){const m=jo(p),C=Cs(v);if(!(yield C._isAvailable()))return!1;const P="true"===(yield C._get(m));return yield C._remove(m),P})).apply(this,arguments)}function wu(v,p){return ia.apply(this,arguments)}function ia(){return(ia=(0,c.Z)(function*(v,p){return Cs(v)._set(jo(p),"true")})).apply(this,arguments)}function Tc(){bs.clear()}function Bd(v,p){bs.set(v._key(),p)}function Cs(v){return sr(v._redirectPersistence)}function jo(v){return Cr("pendingRedirect",v.config.apiKey,v.name)}function Sc(v,p,m){return function Hd(v,p,m){return Zi.apply(this,arguments)}(v,p,m)}function Zi(){return(Zi=(0,c.Z)(function*(v,p,m){const C=Yn(v);We(v,p,An),yield C._initializationPromise;const P=ar(C,m);return yield wu(P,C),P._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function Eo(v,p,m){return function co(v,p,m){return xc.apply(this,arguments)}(v,p,m)}function xc(){return(xc=(0,c.Z)(function*(v,p,m){const C=(0,q.m9)(v);We(C.auth,p,An),yield C.auth._initializationPromise;const P=ar(C.auth,m);yield wu(P,C.auth);const L=yield yr(C);return P._openRedirect(C.auth,p,"reauthViaRedirect",L)})).apply(this,arguments)}function ti(v,p,m){return function Ac(v,p,m){return bu.apply(this,arguments)}(v,p,m)}function bu(){return(bu=(0,c.Z)(function*(v,p,m){const C=(0,q.m9)(v);We(C.auth,p,An),yield C.auth._initializationPromise;const P=ar(C.auth,m);yield Fe(!1,C,p.providerId),yield wu(P,C.auth);const L=yield yr(C);return P._openRedirect(C.auth,p,"linkViaRedirect",L)})).apply(this,arguments)}function Ar(v,p){return oa.apply(this,arguments)}function oa(){return(oa=(0,c.Z)(function*(v,p){return yield Yn(v)._initializationPromise,sa(v,p,!1)})).apply(this,arguments)}function sa(v,p){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,c.Z)(function*(v,p,m=!1){const C=Yn(v),P=ar(C,p),ee=yield new Kr(C,P,m).execute();return ee&&!m&&(delete ee.user._redirectEventId,yield C._persistUserIfCurrent(ee.user),yield C._setRedirectUser(null,p)),ee})).apply(this,arguments)}function yr(v){return zo.apply(this,arguments)}function zo(){return(zo=(0,c.Z)(function*(v){const p=vs(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class jl{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(m=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Yr(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ho(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var C;if(p.error&&!ho(p)){const P=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";m.onError(Ee(this.auth,P))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const C=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(uo(p))}saveEventToCache(p){this.cachedEventUids.add(uo(p)),this.lastProcessedEventTime=Date.now()}}function uo(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function ho({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function fo(v){return $d.apply(this,arguments)}function $d(){return($d=(0,c.Z)(function*(v,p={}){return Le(v,"GET","/v1/projects",p)})).apply(this,arguments)}const qa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ff=/^https?/;function zl(){return(zl=(0,c.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield fo(v);for(const m of p)try{if(Gl(m))return}catch{}Pe(v,"unauthorized-domain")})).apply(this,arguments)}function Gl(v){const p=mt(),{protocol:m,hostname:C}=new URL(p);if(v.startsWith("chrome-extension://")){const ee=new URL(v);return""===ee.hostname&&""===C?"chrome-extension:"===m&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&ee.hostname===C}if(!ff.test(m))return!1;if(qa.test(v))return C===v;const P=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+P+"|"+P+")$","i").test(C)}const Cu=new oi(3e4,6e4);function ln(){const v=Dr().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let Go=null;function Wa(v){return Go=Go||function Pc(v){return new Promise((p,m)=>{var C,P,L;function ee(){ln(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{ln(),m(Ee(v,"network-request-failed"))},timeout:Cu.get()})}if(null!==(P=null===(C=Dr().gapi)||void 0===C?void 0:C.iframes)&&void 0!==P&&P.Iframe)p(gapi.iframes.getContext());else{if(null===(L=Dr().gapi)||void 0===L||!L.load){const ge=Fr("iframefcb");return Dr()[ge]=()=>{gapi.load?ee():m(Ee(v,"network-request-failed"))},on(`https://apis.google.com/js/api.js?onload=${ge}`).catch(Ze=>m(Ze))}ee()}}).catch(p=>{throw Go=null,p})}(v),Go}const Es=new oi(5e3,15e3),Oc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Iu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function po(v){const p=v.config;de(p.authDomain,v,"auth-domain-config-required");const m=p.emulator?jr(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,C={apiKey:p.apiKey,appName:v.name,v:N.SDK_VERSION},P=Iu.get(v.config.apiHost);P&&(C.eid=P);const L=v._getFrameworks();return L.length&&(C.fw=L.join(",")),`${m}?${(0,q.xO)(C).slice(1)}`}function w(){return w=(0,c.Z)(function*(v){const p=yield Wa(v),m=Dr().gapi;return de(m,v,"internal-error"),p.open({where:document.body,url:po(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Oc,dontclear:!0},C=>new Promise(function(){var P=(0,c.Z)(function*(L,ee){yield C.restyle({setHideOnLeave:!1});const ge=Ee(v,"network-request-failed"),Ze=Dr().setTimeout(()=>{ee(ge)},Es.get());function at(){Dr().clearTimeout(Ze),L(C)}C.ping(at).then(at,()=>{ee(ge)})});return function(L,ee){return P.apply(this,arguments)}}()))}),w.apply(this,arguments)}const T={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ve{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const jt=encodeURIComponent("fac");function Ur(v,p,m,C,P,L){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,c.Z)(function*(v,p,m,C,P,L){de(v.config.authDomain,v,"auth-domain-config-required"),de(v.config.apiKey,v,"invalid-api-key");const ee={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:C,v:N.SDK_VERSION,eventId:P};if(p instanceof An){p.setDefaultLanguage(v.languageCode),ee.providerId=p.providerId||"",(0,q.xb)(p.getCustomParameters())||(ee.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ot,vn]of Object.entries(L||{}))ee[Ot]=vn}if(p instanceof as){const Ot=p.getScopes().filter(vn=>""!==vn);Ot.length>0&&(ee.scopes=Ot.join(","))}v.tenantId&&(ee.tid=v.tenantId);const ge=ee;for(const Ot of Object.keys(ge))void 0===ge[Ot]&&delete ge[Ot];const Ze=yield v._getAppCheckToken(),at=Ze?`#${jt}=${encodeURIComponent(Ze)}`:"";return`${Pt(v)}?${(0,q.xO)(ge).slice(1)}${at}`})).apply(this,arguments)}function Pt({config:v}){return v.emulator?jr(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}const Li="webStorageSupport",Br=class Za{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_s,this._completeRedirectFn=sa,this._overrideRedirectResult=Bd}_openPopup(p,m,C,P){var L=this;return(0,c.Z)(function*(){var ee;Nt(null===(ee=L.eventManagers[p._key()])||void 0===ee?void 0:ee.manager,"_initialize() not called before _openPopup()");const ge=yield Ur(p,m,C,mt(),P);return function et(v,p,m,C=500,P=600){const L=Math.max((window.screen.availHeight-P)/2,0).toString(),ee=Math.max((window.screen.availWidth-C)/2,0).toString();let ge="";const Ze=Object.assign(Object.assign({},T),{width:C.toString(),height:P.toString(),top:L,left:ee}),at=(0,q.z$)().toLowerCase();m&&(ge=F(at)?"_blank":m),B(at)&&(p=p||"http://localhost",Ze.scrollbars="yes");const Ot=Object.entries(Ze).reduce((Ki,[Ya,aa])=>`${Ki}${Ya}=${aa},`,"");if(function ct(v=(0,q.z$)()){var p;return xe(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(at)&&"_self"!==ge)return function Je(v,p){const m=document.createElement("a");m.href=v,m.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(C)}(p||"",ge),new ve(null);const vn=window.open(p||"",ge,Ot);de(vn,v,"popup-blocked");try{vn.focus()}catch{}return new ve(vn)}(p,ge,vs())})()}_openRedirect(p,m,C,P){var L=this;return(0,c.Z)(function*(){return yield L._originValidation(p),function Vl(v){Dr().location.href=v}(yield Ur(p,m,C,mt(),P)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:P,promise:L}=this.eventManagers[m];return P?Promise.resolve(P):(Nt(L,"If manager is not set, promise should be"),L)}const C=this.initAndGetManager(p);return this.eventManagers[m]={promise:C},C.catch(()=>{delete this.eventManagers[m]}),C}initAndGetManager(p){var m=this;return(0,c.Z)(function*(){const C=yield function Fy(v){return w.apply(this,arguments)}(p),P=new jl(p);return C.register("authEvent",L=>(de(L?.authEvent,p,"invalid-auth-event"),{status:P.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:P},m.iframes[p._key()]=C,P})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Li,{type:Li},P=>{var L;const ee=null===(L=P?.[0])||void 0===L?void 0:L[Li];void 0!==ee&&m(!!ee),Pe(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function pf(v){return zl.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Bt()||V()||xe()}};class Ka extends class Is{constructor(p){this.factorId=p}_process(p,m,C){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,C);case"signin":return this._finalizeSignIn(p,m.credential);default:return Qe("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Ka(p)}_finalizeEnroll(p,m,C){return function jn(v,p){return Le(v,"POST","/v2/accounts/mfaEnrollment:finalize",pe(v,p))}(p,{idToken:m,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Sr(v,p){return Le(v,"POST","/v2/accounts/mfaSignIn:finalize",pe(v,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let gf=(()=>{class v{constructor(){}static assertion(m){return Ka._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var Tu="@firebase/auth";class Su{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(C=>{p(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,q.Pz)("authIdTokenMaxAge"),function mf(v){(0,N._registerComponent)(new z.wA("auth",(p,{options:m})=>{const C=p.getProvider("app").getImmediate(),P=p.getProvider("heartbeat"),L=p.getProvider("app-check-internal"),{apiKey:ee,authDomain:ge}=C.options;de(ee&&!ee.includes(":"),"invalid-api-key",{appName:C.name});const Ze={apiKey:ee,authDomain:ge,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:In(v)},at=new _o(C,P,L,Ze);return function os(v,p){const m=p?.persistence||[],C=(Array.isArray(m)?m:[m]).map(sr);p?.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(C,p?.popupRedirectResolver)}(at,m),at},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,C)=>{p.getProvider("auth-internal").initialize()})),(0,N._registerComponent)(new z.wA("auth-internal",p=>{const m=Yn(p.getProvider("auth").getImmediate());return new Su(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,N.registerVersion)(Tu,"0.23.2",function zd(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,N.registerVersion)(Tu,"0.23.2","esm2017")}("Browser")},2090:(Dt,Ne,U)=>{"use strict";U.d(Ne,{$s:()=>sr,BH:()=>me,G6:()=>jr,L:()=>Ie,LL:()=>ke,Pz:()=>Ee,Sg:()=>We,UG:()=>Qe,US:()=>z,ZB:()=>ne,ZR:()=>Le,aH:()=>Pe,b$:()=>Gt,eu:()=>oe,hl:()=>ae,jU:()=>Nt,m9:()=>Cr,ne:()=>Qt,pd:()=>pn,r3:()=>Gn,ru:()=>mt,tV:()=>Y,uI:()=>de,vZ:()=>Hn,w1:()=>Nr,xO:()=>yi,xb:()=>Jn,z$:()=>Ye,zI:()=>Ae,zd:()=>br});const le=function(K){const W=[];let B=0;for(let V=0;V<K.length;V++){let F=K.charCodeAt(V);F<128?W[B++]=F:F<2048?(W[B++]=F>>6|192,W[B++]=63&F|128):55296==(64512&F)&&V+1<K.length&&56320==(64512&K.charCodeAt(V+1))?(F=65536+((1023&F)<<10)+(1023&K.charCodeAt(++V)),W[B++]=F>>18|240,W[B++]=F>>12&63|128,W[B++]=F>>6&63|128,W[B++]=63&F|128):(W[B++]=F>>12|224,W[B++]=F>>6&63|128,W[B++]=63&F|128)}return W},z={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(K,W){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();const B=W?this.byteToCharMapWebSafe_:this.byteToCharMap_,V=[];for(let F=0;F<K.length;F+=3){const te=K[F],Se=F+1<K.length,Xe=Se?K[F+1]:0,bt=F+2<K.length,xe=bt?K[F+2]:0;let Jt=(15&Xe)<<2|xe>>6,Bt=63&xe;bt||(Bt=64,Se||(Jt=64)),V.push(B[te>>2],B[(3&te)<<4|Xe>>4],B[Jt],B[Bt])}return V.join("")},encodeString(K,W){return this.HAS_NATIVE_SUPPORT&&!W?btoa(K):this.encodeByteArray(le(K),W)},decodeString(K,W){return this.HAS_NATIVE_SUPPORT&&!W?atob(K):function(K){const W=[];let B=0,V=0;for(;B<K.length;){const F=K[B++];if(F<128)W[V++]=String.fromCharCode(F);else if(F>191&&F<224){const te=K[B++];W[V++]=String.fromCharCode((31&F)<<6|63&te)}else if(F>239&&F<365){const bt=((7&F)<<18|(63&K[B++])<<12|(63&K[B++])<<6|63&K[B++])-65536;W[V++]=String.fromCharCode(55296+(bt>>10)),W[V++]=String.fromCharCode(56320+(1023&bt))}else{const te=K[B++],Se=K[B++];W[V++]=String.fromCharCode((15&F)<<12|(63&te)<<6|63&Se)}}return W.join("")}(this.decodeStringToByteArray(K,W))},decodeStringToByteArray(K,W){this.init_();const B=W?this.charToByteMapWebSafe_:this.charToByteMap_,V=[];for(let F=0;F<K.length;){const te=B[K.charAt(F++)],Xe=F<K.length?B[K.charAt(F)]:0;++F;const xe=F<K.length?B[K.charAt(F)]:64;++F;const ct=F<K.length?B[K.charAt(F)]:64;if(++F,null==te||null==Xe||null==xe||null==ct)throw new we;V.push(te<<2|Xe>>4),64!==xe&&(V.push(Xe<<4&240|xe>>2),64!==ct&&V.push(xe<<6&192|ct))}return V},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}};class we extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ie=function(K){return function(K){const W=le(K);return z.encodeByteArray(W,!0)}(K).replace(/\./g,"")},Y=function(K){try{return z.decodeString(K,!0)}catch(W){console.error("base64Decode failed: ",W)}return null};function ne(K,W){if(!(W instanceof Object))return W;switch(W.constructor){case Date:return new Date(W.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return W}for(const B in W)!W.hasOwnProperty(B)||!Ke(B)||(K[B]=ne(K[B],W[B]));return K}function Ke(K){return"__proto__"!==K}const be=()=>{try{return function Ve(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const K=process.env.__FIREBASE_DEFAULTS__;return K?JSON.parse(K):void 0})()||(()=>{if(typeof document>"u")return;let K;try{K=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const W=K&&Y(K[1]);return W&&JSON.parse(W)})()}catch(K){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${K}`)}},Pe=()=>{var K;return null===(K=be())||void 0===K?void 0:K.config},Ee=K=>{var W;return null===(W=be())||void 0===W?void 0:W[`_${K}`]};class me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((W,B)=>{this.resolve=W,this.reject=B})}wrapCallback(W){return(B,V)=>{B?this.reject(B):this.resolve(V),"function"==typeof W&&(this.promise.catch(()=>{}),1===W.length?W(B):W(B,V))}}}function We(K,W){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const V=W||"demo-project",F=K.iat||0,te=K.sub||K.user_id;if(!te)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Se=Object.assign({iss:`https://securetoken.google.com/${V}`,aud:V,iat:F,exp:F+3600,auth_time:F,sub:te,user_id:te,firebase:{sign_in_provider:"custom",identities:{}}},K);return[Ie(JSON.stringify({alg:"none",type:"JWT"})),Ie(JSON.stringify(Se)),""].join(".")}function Ye(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function Qe(){var K;const W=null===(K=be())||void 0===K?void 0:K.forceEnvironment;if("node"===W)return!0;if("browser"===W)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Nt(){return"object"==typeof self&&self.self===self}function mt(){const K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function Gt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Nr(){const K=Ye();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function jr(){return!Qe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ae(){try{return"object"==typeof indexedDB}catch{return!1}}function oe(){return new Promise((K,W)=>{try{let B=!0;const V="validate-browser-context-for-indexeddb-analytics-module",F=self.indexedDB.open(V);F.onsuccess=()=>{F.result.close(),B||self.indexedDB.deleteDatabase(V),K(!0)},F.onupgradeneeded=()=>{B=!1},F.onerror=()=>{var te;W((null===(te=F.error)||void 0===te?void 0:te.message)||"")}}catch(B){W(B)}})}function Ae(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Le extends Error{constructor(W,B,V){super(B),this.code=W,this.customData=V,this.name="FirebaseError",Object.setPrototypeOf(this,Le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ke.prototype.create)}}class ke{constructor(W,B,V){this.service=W,this.serviceName=B,this.errors=V}create(W,...B){const V=B[0]||{},F=`${this.service}/${W}`,te=this.errors[W],Se=te?function ut(K,W){return K.replace(xt,(B,V)=>{const F=W[V];return null!=F?String(F):`<${V}?>`})}(te,V):"Error";return new Le(F,`${this.serviceName}: ${Se} (${F}).`,V)}}const xt=/\{\$([^}]+)}/g;function Gn(K,W){return Object.prototype.hasOwnProperty.call(K,W)}function Jn(K){for(const W in K)if(Object.prototype.hasOwnProperty.call(K,W))return!1;return!0}function Hn(K,W){if(K===W)return!0;const B=Object.keys(K),V=Object.keys(W);for(const F of B){if(!V.includes(F))return!1;const te=K[F],Se=W[F];if(un(te)&&un(Se)){if(!Hn(te,Se))return!1}else if(te!==Se)return!1}for(const F of V)if(!B.includes(F))return!1;return!0}function un(K){return null!==K&&"object"==typeof K}function yi(K){const W=[];for(const[B,V]of Object.entries(K))Array.isArray(V)?V.forEach(F=>{W.push(encodeURIComponent(B)+"="+encodeURIComponent(F))}):W.push(encodeURIComponent(B)+"="+encodeURIComponent(V));return W.length?"&"+W.join("&"):""}function br(K){const W={};return K.replace(/^\?/,"").split("&").forEach(V=>{if(V){const[F,te]=V.split("=");W[decodeURIComponent(F)]=decodeURIComponent(te)}}),W}function pn(K){const W=K.indexOf("?");if(!W)return"";const B=K.indexOf("#",W);return K.substring(W,B>0?B:void 0)}function Qt(K,W){const B=new ft(K,W);return B.subscribe.bind(B)}class ft{constructor(W,B){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=B,this.task.then(()=>{W(this)}).catch(V=>{this.error(V)})}next(W){this.forEachObserver(B=>{B.next(W)})}error(W){this.forEachObserver(B=>{B.error(W)}),this.close(W)}complete(){this.forEachObserver(W=>{W.complete()}),this.close()}subscribe(W,B,V){let F;if(void 0===W&&void 0===B&&void 0===V)throw new Error("Missing Observer.");F=function hn(K,W){if("object"!=typeof K||null===K)return!1;for(const B of W)if(B in K&&"function"==typeof K[B])return!0;return!1}(W,["next","error","complete"])?W:{next:W,error:B,complete:V},void 0===F.next&&(F.next=zr),void 0===F.error&&(F.error=zr),void 0===F.complete&&(F.complete=zr);const te=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?F.error(this.finalError):F.complete()}catch{}}),this.observers.push(F),te}unsubscribeOne(W){void 0===this.observers||void 0===this.observers[W]||(delete this.observers[W],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(W){if(!this.finalized)for(let B=0;B<this.observers.length;B++)this.sendOne(B,W)}sendOne(W,B){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[W])try{B(this.observers[W])}catch(V){typeof console<"u"&&console.error&&console.error(V)}})}close(W){this.finalized||(this.finalized=!0,void 0!==W&&(this.finalError=W),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zr(){}function sr(K,W=1e3,B=2){const V=W*Math.pow(B,K),F=Math.round(.5*V*(Math.random()-.5)*2);return Math.min(144e5,V+F)}function Cr(K){return K&&K._delegate?K._delegate:K}},7273:(Dt,Ne,U)=>{"use strict";var c=U(4650);let q=null;function N(){return q}const we=new c.OlP("DocumentToken");let Ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ie(){return(0,c.LFG)(Z)}()},providedIn:"platform"}),n})();const Y=new c.OlP("Location Initialized");let Z=(()=>{class n extends Ce{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return N().getBaseHref(this._doc)}onPopState(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=N().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){ne()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){ne()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(we))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ke(){return new Z((0,c.LFG)(we))}()},providedIn:"platform"}),n})();function ne(){return!!window.history.pushState}function Ve(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Me(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function tt(n){return n&&"?"!==n[0]?"?"+n:n}let De=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(wt)},providedIn:"root"}),n})();const be=new c.OlP("appBaseHref");let wt=(()=>{class n extends De{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(we).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ve(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+tt(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const u=this.prepareExternalUrl(i+tt(a));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,a){const u=this.prepareExternalUrl(i+tt(a));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ce),c.LFG(be,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),st=(()=>{class n extends De{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ve(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let u=this.prepareExternalUrl(i+tt(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,a){let u=this.prepareExternalUrl(i+tt(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ce),c.LFG(be,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Pe=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Me(We(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+tt(r))}normalize(t){return n.stripTrailingSlash(function me(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,We(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tt(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+tt(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=tt,n.joinWithSlash=Ve,n.stripTrailingSlash=Me,n.\u0275fac=function(t){return new(t||n)(c.LFG(De))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ee(){return new Pe((0,c.LFG)(De))}()},providedIn:"root"}),n})();function We(n){return n.replace(/\/index.html$/,"")}let fn=(()=>{class n{constructor(t,r,i,a){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Yn{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $i=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Yn(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===a?void 0:a);else if(null!==a){const f=r.get(a);r.move(f,u),Oo(f,i)}});for(let i=0,a=r.length;i<a;i++){const f=r.get(i).context;f.index=i,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Oo(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Oo(n,e){n.context.$implicit=e.item}let wn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new pl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Er("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Er("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class pl{constructor(){this.$implicit=null,this.ngIf=null}}function Er(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}let Us=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,a]=t.split("."),u=-1===i.indexOf("-")?void 0:c.JOm.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,a?`${r}${a}`:r,u):this._renderer.removeStyle(this._ngEl.nativeElement,i,u)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),wi=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:a,ngTemplateOutletInjector:u}=this;this._viewRef=r.createEmbeddedView(i,a,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.TTD]}),n})();class Ca{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class rc{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const Id=new rc,ml=new Ca;let yl=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,c.QGY)(t))return Id;if((0,c.F4k)(t))return ml;throw function Pn(n,e){return new c.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),ac=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function zi(n){return"server"===n}let as=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Da((0,c.LFG)(we),window)}),n})();class Da{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Gr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=No(this.window.history)||No(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function No(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Pl extends class nr extends class z{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function fe(n){q||(q=n)}(new Pl)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ol(){return La=La||document.querySelector("base"),La?La.getAttribute("href"):null}();return null==t?null:function pc(n){Va=Va||document.createElement("a"),Va.setAttribute("href",n);const e=Va.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){La=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ns(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Va,La=null;const ps=new c.OlP("TRANSITION_ID"),gs=[{provide:c.ip1,useFactory:function uu(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=N(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[ps,we,c.zs3],multi:!0}];let D=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const O=new c.OlP("EventManagerPlugins");let G=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const u=i[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(O),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class _e{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=N().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let yt=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Zt=(()=>{class n extends yt{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,i.push(r.appendChild(u))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Qn),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Qn))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(we))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Qn(n){N().remove(n)}const jn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vr=/%COMP%/g;function Nl(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Nl(n,i,t):(i=i.replace(Vr,n),t.push(i))}return t}function du(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Fl=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Ll(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new gg(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case c.ifc.ShadowDom:return new lf(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Nl(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(G),c.LFG(Zt),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Ll{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(jn[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(_s(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(_s(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=jn[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=jn[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,i&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,du(r)):this.eventManager.addEventListener(e,t,du(r))}}function _s(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class gg extends Ll{constructor(e,t,r,i){super(e),this.component=r;const a=Nl(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function kl(n){return"_ngcontent-%COMP%".replace(Vr,n)}(i+"-"+r.id),this.hostAttr=function ys(n){return"_nghost-%COMP%".replace(Vr,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class lf extends Ll{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Nl(i.id,i.styles,[]);for(let u=0;u<a.length;u++){const f=document.createElement("style");f.textContent=a[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let vs=(()=>{class n extends _e{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(we))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Ha=["alt","control","meta","shift"],Dr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vl={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ul=(()=>{class n extends _e{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),u=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>N().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let u="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),u="code."),Ha.forEach(I=>{const x=r.indexOf(I);x>-1&&(r.splice(x,1),u+=I+".")}),u+=a,0!=r.length||0===a.length)return null;const y={};return y.domEventName=i,y.fullKey=u,y}static matchEventFullKeyCode(t,r){let i=Dr[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ha.forEach(u=>{u!==i&&(0,Vl[u])(t)&&(a+=u+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(we))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const pu=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function $a(){Pl.makeCurrent()},multi:!0},{provide:we,useFactory:function gc(){return(0,c.RDi)(document),document},deps:[]}]),Pd=new c.OlP(""),Dn=[{provide:c.rWj,useClass:class E{addToWindow(e){c.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const i=c.dqk.getAllAngularTestabilities();let a=i.length,u=!1;const f=function(y){u=u||y,a--,0==a&&r(u)};i.forEach(function(y){y.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?N().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Od=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Tr(){return new c.qLn},deps:[]},{provide:O,useClass:vs,multi:!0,deps:[we,c.R0b,c.Lbi]},{provide:O,useClass:Ul,multi:!0,deps:[we]},{provide:Fl,useClass:Fl,deps:[G,Zt,c.AFp]},{provide:c.FYo,useExisting:Fl},{provide:yt,useExisting:Zt},{provide:Zt,useClass:Zt,deps:[we]},{provide:G,useClass:G,deps:[O,c.R0b]},{provide:class Ta{},useClass:D,deps:[]},[]];let mc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:ps,useExisting:c.AFp},gs]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Pd,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...Od,...Dn],imports:[ac,c.hGG]}),n})(),cf=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(we))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function yg(){return new cf((0,c.LFG)(we))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var En=U(8996),Ri=U(7669);function St(...n){const e=(0,Ri.yG)(n);return(0,En.D)(n,e)}var ar=U(7579);class ei extends ar.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const $l=(0,U(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ni=U(9751);const{isArray:ja}=Array,{getPrototypeOf:Ic,prototype:za,keys:hi}=Object;function Ga(n){if(1===n.length){const e=n[0];if(ja(e))return{args:e,keys:null};if(function xr(n){return n&&"object"==typeof n&&Ic(n)===za}(e)){const t=hi(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ws=U(4671),$t=U(4004);const{isArray:Dc}=Array;function vu(n){return(0,$t.U)(e=>function ra(n,e){return Dc(e)?n(...e):n(e)}(n,e))}function bs(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Kr=U(5403),Ud=U(9672);function Co(...n){const e=(0,Ri.yG)(n),t=(0,Ri.jO)(n),{args:r,keys:i}=Ga(n);if(0===r.length)return(0,En.D)([],e);const a=new Ni.y(function wu(n,e,t=ws.y){return r=>{ia(e,()=>{const{length:i}=n,a=new Array(i);let u=i,f=i;for(let y=0;y<i;y++)ia(e,()=>{const I=(0,En.D)(n[y],e);let x=!1;I.subscribe((0,Kr.x)(r,R=>{a[y]=R,x||(x=!0,f--),f||r.next(t(a.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>bs(i,u):ws.y));return t?a.pipe(vu(t)):a}function ia(n,e,t){n?(0,Ud.f)(t,n,e):e()}var Tc=U(8189);function Cs(...n){return function Bd(){return(0,Tc.J)(1)}()((0,En.D)(n,(0,Ri.yG)(n)))}var jo=U(8421);function Sc(n){return new Ni.y(e=>{(0,jo.Xf)(n()).subscribe(e)})}var Hd=U(9635),Zi=U(576);function Eo(n,e){const t=(0,Zi.m)(n)?n:()=>n,r=i=>i.error(t());return new Ni.y(e?i=>e.schedule(r,0,i):r)}var co=U(515),xc=U(727),ti=U(4482);function Ac(){return(0,ti.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Kr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class bu extends Ni.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ti.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new xc.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Kr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=xc.w0.EMPTY)}return e}refCount(){return Ac()(this)}}function Ar(n,e){return(0,ti.e)((t,r)=>{let i=null,a=0,u=!1;const f=()=>u&&!i&&r.complete();t.subscribe((0,Kr.x)(r,y=>{i?.unsubscribe();let I=0;const x=a++;(0,jo.Xf)(n(y,x)).subscribe(i=(0,Kr.x)(r,R=>r.next(e?e(y,R,x,I++):R),()=>{i=null,f()}))},()=>{u=!0,f()}))})}function oa(n){return n<=0?()=>co.E:(0,ti.e)((e,t)=>{let r=0;e.subscribe((0,Kr.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function sa(...n){const e=(0,Ri.yG)(n);return(0,ti.e)((t,r)=>{(e?Cs(n,t,e):Cs(n,t)).subscribe(r)})}function Fi(n,e){return(0,ti.e)((t,r)=>{let i=0;t.subscribe((0,Kr.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var yr=U(5577);function zo(n){return(0,ti.e)((e,t)=>{let r=!1;e.subscribe((0,Kr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Mc(n=jl){return(0,ti.e)((e,t)=>{let r=!1;e.subscribe((0,Kr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function jl(){return new $l}function uo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Fi((i,a)=>n(i,a,r)):ws.y,oa(1),t?zo(e):Mc(()=>new $l))}function ho(n,e){return(0,Zi.m)(e)?(0,yr.z)(n,e,1):(0,yr.z)(n,1)}var Yr=U(8505);function fo(n){return(0,ti.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,Kr.x)(t,void 0,void 0,u=>{a=(0,jo.Xf)(n(u,fo(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function $d(n,e,t,r,i){return(a,u)=>{let f=t,y=e,I=0;a.subscribe((0,Kr.x)(u,x=>{const R=I++;y=f?n(y,x,R):(f=!0,x),r&&u.next(y)},i&&(()=>{f&&u.next(y),u.complete()})))}}function qa(n,e){return(0,ti.e)($d(n,e,arguments.length>=2,!0))}function ff(n){return n<=0?()=>co.E:(0,ti.e)((e,t)=>{let r=[];e.subscribe((0,Kr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function pf(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Fi((i,a)=>n(i,a,r)):ws.y,ff(1),t?zo(e):Mc(()=>new $l))}function Cu(n){return(0,ti.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ln="primary",Pc=Symbol("RouteTitle");class Go{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Wa(n){return new Go(n)}function Es(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const u=r[a],f=n[a];if(u.startsWith(":"))i[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Io(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!Oc(n[i],e[i]))return!1;return!0}function Oc(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Iu(n){return Array.prototype.concat.apply([],n)}function po(n){return n.length>0?n[n.length-1]:null}function w(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function T(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,En.D)(Promise.resolve(n)):St(n)}const M=!1,Q={exact:function Je(n,e,t){if(!Br(n.segments,e.segments)||!Ur(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Je(n.children[r],e.children[r],t))return!1;return!0},subset:Et},ie={exact:function et(n,e){return Io(n,e)},subset:function Ct(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Oc(n[t],e[t]))},ignored:()=>!0};function ve(n,e,t){return Q[t.paths](n.root,e.root,t.matrixParams)&&ie[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Et(n,e,t){return jt(n,e,e.segments,t)}function jt(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Br(i,t)||e.hasChildren()||!Ur(i,t,r))}if(n.segments.length===t.length){if(!Br(n.segments,t)||!Ur(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Et(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Br(n.segments,i)&&Ur(n.segments,i,r)&&n.children[ln])&&jt(n.children[ln],e,a,r)}}function Ur(n,e,t){return e.every((r,i)=>ie[t](n[i].parameters,r.parameters))}class Ln{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wa(this.queryParams)),this._queryParamMap}toString(){return Ly.serialize(this)}}class Pt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,w(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rc(this)}}class Li{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Wa(this.parameters)),this._parameterMap}toString(){return wg(this)}}function Br(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Ka=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new gf},providedIn:"root"}),n})();class gf{parse(e){const t=new P(e);return new Ln(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ql(e.root,!0)}`,r=function bg(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Tu(t)}=${Tu(i)}`).join("&"):`${Tu(t)}=${Tu(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function jd(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Ly=new gf;function Rc(n){return n.segments.map(e=>wg(e)).join("/")}function ql(n,e){if(!n.hasChildren())return Rc(n);if(e){const t=n.children[ln]?ql(n.children[ln],!1):"",r=[];return w(n.children,(i,a)=>{a!==ln&&r.push(`${a}:${ql(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Is(n,e){let t=[];return w(n.children,(r,i)=>{i===ln&&(t=t.concat(e(r,i)))}),w(n.children,(r,i)=>{i!==ln&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ln?[ql(n.children[ln],!1)]:[`${i}:${ql(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ln]?`${Rc(n)}/${t[0]}`:`${Rc(n)}/(${t.join("//")})`}}function Du(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tu(n){return Du(n).replace(/%3B/gi,";")}function Su(n){return Du(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zd(n){return decodeURIComponent(n)}function mf(n){return zd(n.replace(/\+/g,"%20"))}function wg(n){return`${Su(n.path)}${function xu(n){return Object.keys(n).map(e=>`;${Su(e)}=${Su(n[e])}`).join("")}(n.parameters)}`}const Vy=/^[^\/()?;=#]+/;function Au(n){const e=n.match(Vy);return e?e[0]:""}const v=/^[^=?&#]+/,m=/^[^&#]+/;class P{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pt([],{}):new Pt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ln]=new Pt(e,t)),r}parseSegment(){const e=Au(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,M);return this.capture(e),new Li(zd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Au(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Au(this.remaining);i&&(r=i,this.capture(r))}e[zd(t)]=zd(r)}parseQueryParam(e){const t=function p(n){const e=n.match(v);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function C(n){const e=n.match(m);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=mf(t),a=mf(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Au(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new c.vHH(4010,M);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=ln);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[ln]:new Pt([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,M)}}function L(n){return n.segments.length>0?new Pt([],{[ln]:n}):n}function ee(n){const e={};for(const r of Object.keys(n.children)){const a=ee(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function ge(n){if(1===n.numberOfChildren&&n.children[ln]){const e=n.children[ln];return new Pt(n.segments.concat(e.segments),e.children)}return n}(new Pt(n.segments,e))}function Ze(n){return n instanceof Ln}function Ya(n,e,t,r,i){if(0===t.length)return la(e.root,e.root,e.root,r,i);const a=function Gd(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new yf(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return w(a.outlets,(y,I)=>{f[I]="string"==typeof y?y.split("/"):y}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===u?(a.split("/").forEach((f,y)=>{0==y&&"."===f||(0==y&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new yf(t,e,r)}(t);return a.toRoot()?la(e.root,e.root,new Pt([],{}),r,i):function u(y){const I=function ca(n,e,t,r){if(n.isAbsolute)return new Ja(e.root,!0,0);if(-1===r)return new Ja(t,t===e.root,0);return function qd(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new c.vHH(4005,!1);i=r.segments.length}return new Ja(r,!1,i-a)}(t,r+(aa(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,y),x=I.processChildren?Wd(I.segmentGroup,I.index,a.commands):Pu(I.segmentGroup,I.index,a.commands);return la(e.root,I.segmentGroup,x,r,i)}(n.snapshot?._lastPathIndex)}function aa(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Qa(n){return"object"==typeof n&&null!=n&&n.outlets}function la(n,e,t,r,i){let u,a={};r&&w(r,(y,I)=>{a[I]=Array.isArray(y)?y.map(x=>`${x}`):`${y}`}),u=n===e?t:Mu(n,e,t);const f=L(ee(u));return new Ln(f,a,i)}function Mu(n,e,t){const r={};return w(n.children,(i,a)=>{r[a]=i===e?t:Mu(i,e,t)}),new Pt(n.segments,r)}class yf{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&aa(r[0]))throw new c.vHH(4003,!1);const i=r.find(Qa);if(i&&i!==po(r))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ja{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Pu(n,e,t){if(n||(n=new Pt([],{})),0===n.segments.length&&n.hasChildren())return Wd(n,e,t);const r=function Eg(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const u=n.segments[i],f=t[r];if(Qa(f))break;const y=`${f}`,I=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&I&&"object"==typeof I&&void 0===I.outlets){if(!Hy(y,I,u))return a;r+=2}else{if(!Hy(y,{},u))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new Pt(n.segments.slice(0,r.pathIndex),{});return a.children[ln]=new Pt(n.segments.slice(r.pathIndex),n.children),Wd(a,0,i)}return r.match&&0===i.length?new Pt(n.segments,{}):r.match&&!n.hasChildren()?Uy(n,e,t):r.match?Wd(n,0,i):Uy(n,e,t)}function Wd(n,e,t){if(0===t.length)return new Pt(n.segments,{});{const r=function Cg(n){return Qa(n[0])?n[0].outlets:{[ln]:n}}(t),i={};return w(r,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[u]=Pu(n.children[u],e,a))}),w(n.children,(a,u)=>{void 0===r[u]&&(i[u]=a)}),new Pt(n.segments,i)}}function Uy(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Qa(a)){const y=cb(a.outlets);return new Pt(r,y)}if(0===i&&aa(t[0])){r.push(new Li(n.segments[e].path,By(t[0]))),i++;continue}const u=Qa(a)?a.outlets[ln]:`${a}`,f=i<t.length-1?t[i+1]:null;u&&f&&aa(f)?(r.push(new Li(u,By(f))),i+=2):(r.push(new Li(u,{})),i++)}return new Pt(r,{})}function cb(n){const e={};return w(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Uy(new Pt([],{}),0,t))}),e}function By(n){const e={};return w(n,(t,r)=>e[r]=`${t}`),e}function Hy(n,e,t){return n==t.path&&Io(e,t.parameters)}class ua{constructor(e,t){this.id=e,this.url=t}}class Ig extends ua{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xa extends ua{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ou extends ua{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $y extends ua{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jy extends ua{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zy extends ua{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gy extends ua{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vf extends ua{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jI extends ua{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ub{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zI{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class GI{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class db{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qy{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dg{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tg{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class hb{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Wy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Wy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=fb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return fb(e,this._root).map(t=>t.value)}}function Wy(n,e){if(n===e.value)return e;for(const t of e.children){const r=Wy(n,t);if(r)return r}return null}function fb(n,e){if(n===e.value)return[e];for(const t of e.children){const r=fb(n,t);if(r.length)return r.unshift(e),r}return[]}class Wl{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function kc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class pb extends hb{constructor(e,t){super(e),this.snapshot=t,Qy(this,e)}toString(){return this.snapshot.toString()}}function Zy(n,e){const t=function Sg(n,e){const u=new wf([],{},{},"",{},ln,e,null,n.root,-1,{});return new Yy("",new Wl(u,[]))}(n,e),r=new ei([new Li("",{})]),i=new ei({}),a=new ei({}),u=new ei({}),f=new ei(""),y=new el(r,i,u,f,a,ln,e,t.root);return y.snapshot=t.root,new pb(new Wl(y,[]),t)}class el{constructor(e,t,r,i,a,u,f,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=f,this.title=this.data?.pipe((0,$t.U)(I=>I[Pc]))??St(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,$t.U)(e=>Wa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,$t.U)(e=>Wa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ky(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function gb(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class wf{constructor(e,t,r,i,a,u,f,y,I,x,R,j){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=f,this.title=this.data?.[Pc],this.routeConfig=y,this._urlSegment=I,this._lastPathIndex=x,this._correctedLastPathIndex=j??x,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Yy extends hb{constructor(e,t){super(t),this.url=e,Qy(this,t)}toString(){return mb(this._root)}}function Qy(n,e){e.value._routerState=n,e.children.forEach(t=>Qy(n,t))}function mb(n){const e=n.children.length>0?` { ${n.children.map(mb).join(", ")} } `:"";return`${n.value}${e}`}function Jy(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Io(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Io(e.params,t.params)||n.params.next(t.params),function Eu(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Io(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Io(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Xy(n,e){const t=Io(n.params,e.params)&&function Za(n,e){return Br(n,e)&&n.every((t,r)=>Io(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Xy(n.parent,e.parent))}function Ds(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function bf(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ds(n,r,i);return Ds(n,r)})}(n,e,t);return new Wl(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>Ds(n,f)),u}}const r=function WI(n){return new el(new ei(n.url),new ei(n.params),new ei(n.queryParams),new ei(n.fragment),new ei(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Ds(n,a));return new Wl(r,i)}}const yb="ngNavigationCancelingError";function ZI(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ze(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=KI(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function KI(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[yb]=!0,r.cancellationCode=e,t&&(r.url=t),r}function YI(n){return QI(n)&&Ze(n.url)}function QI(n){return n&&n[yb]}class _b{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Cf,this.attachRef=null}}let Cf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new _b,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xg=!1;let e_=(()=>{class n{constructor(t,r,i,a,u){this.parentContexts=t,this.location=r,this.changeDetector=a,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=i||ln,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,xg);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,xg);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,xg);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new c.vHH(4013,xg);this._activatedRoute=t;const i=this.location,u=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,y=new JI(t,f,i.injector);if(r&&function t_(n){return!!n.resolveComponentFactory}(r)){const I=r.resolveComponentFactory(u);this.activated=i.createComponent(I,i.length,y)}else this.activated=i.createComponent(u,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Cf),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class JI{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===el?this.route:e===Cf?this.childContexts:this.parent.get(e,t)}}let da=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},dependencies:[e_],encapsulation:2}),n})();function Zd(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function wb(n){const e=n.children&&n.children.map(wb),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ln&&(t.component=da),t}function ha(n){return n.outlet||ln}function i_(n,e){const t=n.filter(r=>ha(r)===e);return t.push(...n.filter(r=>ha(r)!==e)),t}function Ef(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class rD{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Jy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=kc(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,i[u],r),delete i[u]}),w(i,(a,u)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=kc(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);if(r&&r.outlet){const u=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=kc(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=kc(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new Dg(a.value.snapshot))}),e.children.length&&this.forwardEvent(new db(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(Jy(i),i===a)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),Jy(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=Ef(i.snapshot),y=f?.get(c._Vd)??null;u.attachRef=null,u.route=i,u.resolver=y,u.injector=f,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class bb{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class If{constructor(e,t){this.component=e,this.route=t}}function Ag(n,e,t){const r=n._root;return Df(r,e?e._root:null,t,[r.value])}function Nc(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:r}function Df(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=kc(e);return n.children.forEach(u=>{(function ni(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const y=function Cb(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Br(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Br(n.url,e.url)||!Io(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xy(n,e)||!Io(n.queryParams,e.queryParams);default:return!Xy(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new bb(r)):(a.data=u.data,a._resolvedData=u._resolvedData),Df(n,e,a.component?f?f.children:null:t,r,i),y&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new If(f.outlet.component,u))}else u&&Tf(e,f,i),i.canActivateChecks.push(new bb(r)),Df(n,null,a.component?f?f.children:null:t,r,i)})(u,a[u.value.outlet],t,r.concat([u.value]),i),delete a[u.value.outlet]}),w(a,(u,f)=>Tf(u,t.getContext(f),i)),i}function Tf(n,e,t){const r=kc(n),i=n.value;w(r,(a,u)=>{Tf(a,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new If(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function ku(n){return"function"==typeof n}function Nu(n){return n instanceof $l||"EmptyError"===n?.name}const Kd=Symbol("INITIAL_VALUE");function Fu(){return Ar(n=>Co(n.map(e=>e.pipe(oa(1),sa(Kd)))).pipe((0,$t.U)(e=>{for(const t of e)if(!0!==t){if(t===Kd)return Kd;if(!1===t||t instanceof Ln)return t}return!0}),Fi(e=>e!==Kd),oa(1)))}function a_(n){return(0,Hd.z)((0,Yr.b)(e=>{if(Ze(e))throw ZI(0,e)}),(0,$t.U)(e=>!0===e))}const Zl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ab(n,e,t,r,i){const a=Sf(n,e,t);return a.matched?function xb(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?St(i.map(u=>{const f=Nc(u,n);return T(function cD(n){return n&&ku(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(Fu(),a_()):St(!0)}(r=Zd(e,r),e,t).pipe((0,$t.U)(u=>!0===u?a:{...Zl})):St(a)}function Sf(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Zl}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Es)(t,n,e);if(!i)return{...Zl};const a={};w(i.posParams,(f,y)=>{a[y]=f.path});const u=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function Lu(n,e,t,r,i="corrected"){if(t.length>0&&function Mg(n,e,t){return t.some(r=>xf(n,e,r)&&ha(r)!==ln)}(n,t,r)){const u=new Pt(e,function l_(n,e,t,r){const i={};i[ln]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&ha(a)!==ln){const u=new Pt([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[ha(a)]=u}return i}(n,e,r,new Pt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function Vu(n,e,t){return t.some(r=>xf(n,e,r))}(n,t,r)){const u=new Pt(n.segments,function hD(n,e,t,r,i,a){const u={};for(const f of r)if(xf(n,t,f)&&!i[ha(f)]){const y=new Pt([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===a?n.segments.length:e.length,u[ha(f)]=y}return{...i,...u}}(n,e,t,r,n.children,i));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const a=new Pt(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function xf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Pg(n,e,t,r){return!!(ha(n)===r||r!==ln&&xf(e,t,n))&&("**"===n.path||Sf(e,n,t).matched)}function Mb(n,e,t){return 0===e.length&&!n.children[t]}const Og=!1;class Af{constructor(e){this.segmentGroup=e||null}}class Uu{constructor(e){this.urlTree=e}}function Mf(n){return Eo(new Af(n))}function Pb(n){return Eo(new Uu(n))}class gD{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=Lu(this.urlTree.root,[],[],this.config).segmentGroup,t=new Pt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ln).pipe((0,$t.U)(a=>this.createUrlTree(ee(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(fo(a=>{if(a instanceof Uu)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Af?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ln).pipe((0,$t.U)(i=>this.createUrlTree(ee(i),e.queryParams,e.fragment))).pipe(fo(i=>{throw i instanceof Af?this.noMatchError(i):i}))}noMatchError(e){return new c.vHH(4002,Og)}createUrlTree(e,t,r){const i=L(e);return new Ln(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,$t.U)(a=>new Pt([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,En.D)(i).pipe(ho(a=>{const u=r.children[a],f=i_(t,a);return this.expandSegmentGroup(e,f,u,a).pipe((0,$t.U)(y=>({segment:y,outlet:a})))}),qa((a,u)=>(a[u.outlet]=u.segment,a),{}),pf())}expandSegment(e,t,r,i,a,u){return(0,En.D)(r).pipe(ho(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,a,u).pipe(fo(I=>{if(I instanceof Af)return St(null);throw I}))),uo(f=>!!f),fo((f,y)=>{if(Nu(f))return Mb(t,i,a)?St(new Pt([],{})):Mf(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,a,u,f){return Pg(i,t,a,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u):Mf(t):Mf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Pb(a):this.lineralizeSegments(r,a).pipe((0,yr.z)(u=>{const f=new Pt(u,{});return this.expandSegment(e,f,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u){const{matched:f,consumedSegments:y,remainingSegments:I,positionalParamSegments:x}=Sf(t,i,a);if(!f)return Mf(t);const R=this.applyRedirectCommands(y,i.redirectTo,x);return i.redirectTo.startsWith("/")?Pb(R):this.lineralizeSegments(i,R).pipe((0,yr.z)(j=>this.expandSegment(e,t,r,j.concat(I),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=Zd(r,e),r.loadChildren?(r._loadedRoutes?St({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,$t.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new Pt(i,{})))):St(new Pt(i,{}))):Ab(t,r,i,e).pipe(Ar(({matched:u,consumedSegments:f,remainingSegments:y})=>u?this.getChildConfig(e=r._injector??e,r,i).pipe((0,yr.z)(x=>{const R=x.injector??e,j=x.routes,{segmentGroup:X,slicedSegments:he}=Lu(t,f,y,j),Be=new Pt(X.segments,X.children);if(0===he.length&&Be.hasChildren())return this.expandChildren(R,j,Be).pipe((0,$t.U)(pt=>new Pt(f,pt)));if(0===j.length&&0===he.length)return St(new Pt(f,{}));const Re=ha(r)===a;return this.expandSegment(R,Be,j,he,Re?ln:a,!0).pipe((0,$t.U)(At=>new Pt(f.concat(At.segments),At.children)))})):Mf(t)))}getChildConfig(e,t,r){return t.children?St({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?St({routes:t._loadedRoutes,injector:t._loadedInjector}):function s_(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?St(!0):St(i.map(u=>{const f=Nc(u,n);return T(function oD(n){return n&&ku(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(Fu(),a_())}(e,t,r).pipe((0,yr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Yr.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function pD(n){return Eo(KI(Og,3))}())):St({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return St(r);if(i.numberOfChildren>1||!i.children[ln])return Eo(new c.vHH(4e3,Og));i=i.children[ln]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new Ln(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return w(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=t[f]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let u={};return w(t.children,(f,y)=>{u[y]=this.createSegmentGroup(e,f,r,i)}),new Pt(a,u)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new c.vHH(4001,Og);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class Rb{}class Pf{constructor(e,t,r,i,a,u,f,y){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=f,this.urlSerializer=y}recognize(){const e=Lu(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ln).pipe((0,$t.U)(t=>{if(null===t)return null;const r=new wf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ln,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Wl(r,t),a=new Yy(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=Ky(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,En.D)(Object.keys(r.children)).pipe(ho(i=>{const a=r.children[i],u=i_(t,i);return this.processSegmentGroup(e,u,a,i)}),qa((i,a)=>i&&a?(i.push(...a),i):null),function zl(n,e=!1){return(0,ti.e)((t,r)=>{let i=0;t.subscribe((0,Kr.x)(r,a=>{const u=n(a,i++);(u||e)&&r.next(a),!u&&r.complete()}))})}(i=>null!==i),zo(null),pf(),(0,$t.U)(i=>{if(null===i)return null;const a=kb(i);return function yD(n){n.sort((e,t)=>e.value.outlet===ln?-1:t.value.outlet===ln?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,En.D)(t).pipe(ho(u=>this.processSegmentAgainstRoute(u._injector??e,u,r,i,a)),uo(u=>!!u),fo(u=>{if(Nu(u))return Mb(r,i,a)?St([]):St(null);throw u}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!Pg(t,r,i,a))return St(null);let u;if("**"===t.path){const f=i.length>0?po(i).parameters:{},y=Nb(r)+i.length;u=St({snapshot:new wf(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Lb(t),ha(t),t.component??t._loadedComponent??null,t,u_(r),y,d_(t),y),consumedSegments:[],remainingSegments:[]})}else u=Ab(r,t,i,e).pipe((0,$t.U)(({matched:f,consumedSegments:y,remainingSegments:I,parameters:x})=>{if(!f)return null;const R=Nb(r)+y.length;return{snapshot:new wf(y,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Lb(t),ha(t),t.component??t._loadedComponent??null,t,u_(r),R,d_(t),R),consumedSegments:y,remainingSegments:I}}));return u.pipe(Ar(f=>{if(null===f)return St(null);const{snapshot:y,consumedSegments:I,remainingSegments:x}=f;e=t._injector??e;const R=t._loadedInjector??e,j=function Yd(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:X,slicedSegments:he}=Lu(r,I,x,j.filter(Re=>void 0===Re.redirectTo),this.relativeLinkResolution);if(0===he.length&&X.hasChildren())return this.processChildren(R,j,X).pipe((0,$t.U)(Re=>null===Re?null:[new Wl(y,Re)]));if(0===j.length&&0===he.length)return St([new Wl(y,[])]);const Be=ha(t)===a;return this.processSegment(R,j,X,he,Be?ln:a).pipe((0,$t.U)(Re=>null===Re?null:[new Wl(y,Re)]))}))}}function Of(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function kb(n){const e=[],t=new Set;for(const r of n){if(!Of(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=kb(r.children);e.push(new Wl(r.value,i))}return e.filter(r=>!t.has(r))}function u_(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Nb(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Lb(n){return n.data||{}}function d_(n){return n.resolve||{}}function Ub(n){return"string"==typeof n.title||null===n.title}function g_(n){return Ar(e=>{const t=n(e);return t?(0,En.D)(t).pipe((0,$t.U)(()=>e)):St(e)})}let Bb=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===ln);return r}getResolvedTitleForRoute(t){return t.data[Pc]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Hb)},providedIn:"root"}),n})(),Hb=(()=>{class n extends Bb{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(cf))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class wD{}class Qd extends class bD{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const kg=new c.OlP("",{providedIn:"root",factory:()=>({})}),jb=new c.OlP("ROUTES");let zb=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return St(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=T(t.loadComponent()).pipe((0,Yr.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),Cu(()=>{this.componentLoaders.delete(t)})),i=new bu(r,()=>new ar.x).pipe(Ac());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return St({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,$t.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,I,x=!1;Array.isArray(f)?I=f:(y=f.create(t).injector,I=Iu(y.get(jb,[],c.XFs.Self|c.XFs.Optional)));return{routes:I.map(wb),injector:y}}),Cu(()=>{this.childrenLoaders.delete(r)})),u=new bu(a,()=>new ar.x).pipe(Ac());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(t){return T(t()).pipe((0,yr.z)(r=>r instanceof c.YKP||Array.isArray(r)?St(r):(0,En.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Gb{}class $M{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function jM(n){throw n}function qb(n,e,t){return e.parse("/")}const CD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Wb={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Zb(){const n=(0,c.f3M)(Ka),e=(0,c.f3M)(Cf),t=(0,c.f3M)(Pe),r=(0,c.f3M)(c.zs3),i=(0,c.f3M)(c.Sil),a=(0,c.f3M)(jb,{optional:!0})??[],u=(0,c.f3M)(kg,{optional:!0})??{},f=(0,c.f3M)(Hb),y=(0,c.f3M)(Bb,{optional:!0}),I=(0,c.f3M)(Gb,{optional:!0}),x=(0,c.f3M)(wD,{optional:!0}),R=new zn(null,n,e,t,r,i,Iu(a));return I&&(R.urlHandlingStrategy=I),x&&(R.routeReuseStrategy=x),R.titleStrategy=y??f,function ED(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,R),R}let zn=(()=>{class n{constructor(t,r,i,a,u,f,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ar.x,this.errorHandler=jM,this.malformedUriErrorHandler=qb,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>St(void 0),this.urlHandlingStrategy=new $M,this.routeReuseStrategy=new Qd,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(zb),this.configLoader.onLoadEndListener=j=>this.triggerEvent(new zI(j)),this.configLoader.onLoadStartListener=j=>this.triggerEvent(new ub(j)),this.ngModule=u.get(c.h0i),this.console=u.get(c.c2e);const R=u.get(c.R0b);this.isNgZoneEnabled=R instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function H(){return new Ln(new Pt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Zy(this.currentUrlTree,this.rootComponentType),this.transitions=new ei({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Fi(i=>0!==i.id),(0,$t.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Ar(i=>{let a=!1,u=!1;return St(i).pipe((0,Yr.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ar(f=>{const y=this.browserUrlTree.toString(),I=!this.navigated||f.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||I)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return m_(f.source)&&(this.browserUrlTree=f.extractedUrl),St(f).pipe(Ar(R=>{const j=this.transitions.getValue();return r.next(new Ig(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),j!==this.transitions.getValue()?co.E:Promise.resolve(R)}),function Ob(n,e,t,r){return Ar(i=>function c_(n,e,t,r,i){return new gD(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,$t.U)(a=>({...i,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Yr.b)(R=>{this.currentNavigation={...this.currentNavigation,finalUrl:R.urlAfterRedirects},i.urlAfterRedirects=R.urlAfterRedirects}),function Vb(n,e,t,r,i,a){return(0,yr.z)(u=>function mD(n,e,t,r,i,a,u="emptyOnly",f="legacy"){return new Pf(n,e,t,r,i,u,f,a).recognize().pipe(Ar(y=>null===y?function BM(n){return new Ni.y(e=>e.error(n))}(new Rb):St(y)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,i,a).pipe((0,$t.U)(f=>({...u,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Yr.b)(R=>{if(i.targetSnapshot=R.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const X=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(X,R)}this.browserUrlTree=R.urlAfterRedirects}const j=new jy(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);r.next(j)}));if(I&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:j,extractedUrl:X,source:he,restoredState:Be,extras:Re}=f,vt=new Ig(j,this.serializeUrl(X),he,Be);r.next(vt);const At=Zy(X,this.rootComponentType).snapshot;return St(i={...f,targetSnapshot:At,urlAfterRedirects:X,extras:{...Re,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),co.E}),(0,Yr.b)(f=>{const y=new zy(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}),(0,$t.U)(f=>i={...f,guards:Ag(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function Ib(n,e){return(0,yr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?St({...t,guardsResult:!0}):function Db(n,e,t,r){return(0,En.D)(n).pipe((0,yr.z)(i=>function dD(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?St(a.map(f=>{const y=Ef(e)??i,I=Nc(f,y);return T(function lD(n){return n&&ku(n.canDeactivate)}(I)?I.canDeactivate(n,e,t,r):y.runInContext(()=>I(n,e,t,r))).pipe(uo())})).pipe(Fu()):St(!0)}(i.component,i.route,t,e,r)),uo(i=>!0!==i,!0))}(u,r,i,n).pipe((0,yr.z)(f=>f&&function Eb(n){return"boolean"==typeof n}(f)?function uD(n,e,t,r){return(0,En.D)(e).pipe(ho(i=>Cs(function Sb(n,e){return null!==n&&e&&e(new GI(n)),St(!0)}(i.route.parent,r),function Tb(n,e){return null!==n&&e&&e(new qy(n)),St(!0)}(i.route,r),function UM(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function iD(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Sc(()=>St(u.guards.map(y=>{const I=Ef(u.node)??t,x=Nc(y,I);return T(function aD(n){return n&&ku(n.canActivateChild)}(x)?x.canActivateChild(r,n):I.runInContext(()=>x(r,n))).pipe(uo())})).pipe(Fu())));return St(a).pipe(Fu())}(n,i.path,t),function o_(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return St(!0);const i=r.map(a=>Sc(()=>{const u=Ef(e)??t,f=Nc(a,u);return T(function sD(n){return n&&ku(n.canActivate)}(f)?f.canActivate(e,n):u.runInContext(()=>f(e,n))).pipe(uo())}));return St(i).pipe(Fu())}(n,i.route,t))),uo(i=>!0!==i,!0))}(r,a,n,e):St(f)),(0,$t.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Yr.b)(f=>{if(i.guardsResult=f.guardsResult,Ze(f.guardsResult))throw ZI(0,f.guardsResult);const y=new Gy(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(y)}),Fi(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),g_(f=>{if(f.guards.canActivateChecks.length)return St(f).pipe((0,Yr.b)(y=>{const I=new vf(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(I)}),Ar(y=>{let I=!1;return St(y).pipe(function h_(n,e){return(0,yr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return St(t);let a=0;return(0,En.D)(i).pipe(ho(u=>function f_(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!Ub(i)&&(a[Pc]=i.title),function _D(n,e,t,r){const i=function p_(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return St({});const a={};return(0,En.D)(i).pipe((0,yr.z)(u=>function Rf(n,e,t,r){const i=Ef(e)??r,a=Nc(n,i);return T(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[u],e,t,r).pipe(uo(),(0,Yr.b)(f=>{a[u]=f}))),ff(1),function Gl(n){return(0,$t.U)(()=>n)}(a),fo(u=>Nu(u)?co.E:Eo(u)))}(a,n,e,r).pipe((0,$t.U)(u=>(n._resolvedData=u,n.data=Ky(n,t).resolve,i&&Ub(i)&&(n.data[Pc]=i.title),null)))}(u.route,r,n,e)),(0,Yr.b)(()=>a++),ff(1),(0,yr.z)(u=>a===i.length?St(t):co.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Yr.b)({next:()=>I=!0,complete:()=>{I||(this.restoreHistory(y),this.cancelNavigationTransition(y,"",2))}}))}),(0,Yr.b)(y=>{const I=new jI(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(I)}))}),g_(f=>{const y=I=>{const x=[];I.routeConfig?.loadComponent&&!I.routeConfig._loadedComponent&&x.push(this.configLoader.loadComponent(I.routeConfig).pipe((0,Yr.b)(R=>{I.component=R}),(0,$t.U)(()=>{})));for(const R of I.children)x.push(...y(R));return x};return Co(y(f.targetSnapshot.root)).pipe(zo(),oa(1))}),g_(()=>this.afterPreactivation()),(0,$t.U)(f=>{const y=function qI(n,e,t){const r=Ds(n,e._root,t?t._root:void 0);return new pb(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return i={...f,targetRouterState:y}}),(0,Yr.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,$t.U)(r=>(new rD(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Yr.b)({next(){a=!0},complete(){a=!0}}),Cu(()=>{a||u||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),fo(f=>{if(u=!0,QI(f)){YI(f)||(this.navigated=!0,this.restoreHistory(i,!0));const y=new Ou(i.id,this.serializeUrl(i.extractedUrl),f.message,f.cancellationCode);if(r.next(y),YI(f)){const I=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),x={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||m_(i.source)};this.scheduleNavigation(I,"imperative",null,x,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new $y(i.id,this.serializeUrl(i.extractedUrl),f,i.targetSnapshot??void 0);r.next(y);try{i.resolve(this.errorHandler(f))}catch(I){i.reject(I)}}return co.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const f={...a};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(i.state=f)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,r,a,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(wb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:u,queryParamsHandling:f,preserveFragment:y}=r,I=i||this.routerState.root,x=y?this.currentUrlTree.fragment:u;let R=null;switch(f){case"merge":R={...this.currentUrlTree.queryParams,...a};break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=a||null}return null!==R&&(R=this.removeEmptyProps(R)),Ya(I,this.currentUrlTree,t,R,x??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ze(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function ID(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new c.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...CD}:!1===r?{...Wb}:r,Ze(t))return ve(this.currentUrlTree,t,i);const a=this.parseUrl(t);return ve(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Xa(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,u){if(this.disposed)return Promise.resolve(!1);let f,y,I;u?(f=u.resolve,y=u.reject,I=u.promise):I=new Promise((j,X)=>{f=j,y=X});const x=++this.navigationId;let R;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),R=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):R=0,this.setTransition({id:x,targetPageId:R,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:f,reject:y,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(j=>Promise.reject(j))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const a=new Ou(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:function(){return Zb()},providedIn:"root"}),n})();function m_(n){return"imperative"!==n}let Ng=(()=>{class n{constructor(t,r,i,a,u){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new ar.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,c.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,c.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,c.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(zn),c.Y36(el),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})(),Nf=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new ar.x,this.subscription=t.events.subscribe(a=>{a instanceof Xa&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,c.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,c.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,c.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,a,u){return!!(0!==t||r||i||a||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(zn),c.Y36(el),c.Y36(De))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&c.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&c.uIk("target",r.target)("href",r.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})();class y_{}let SD=(()=>{class n{constructor(t,r,i,a,u){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Fi(t=>t instanceof Xa),ho(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,c.MMx)(a.providers,t,`Route: ${a.path}`));const u=a._injector??t,f=a._loadedInjector??u;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(u,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,En.D)(i).pipe((0,Tc.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):St(null);const a=i.pipe((0,yr.z)(u=>null===u?St(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(r.loadComponent&&!r._loadedComponent){const u=this.loader.loadComponent(r);return(0,En.D)([a,u]).pipe((0,Tc.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(zn),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(y_),c.LFG(zb))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tn=new c.OlP("");let __=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ig?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Xa&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Tg&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Tg(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Jd(n,e){return{\u0275kind:n,\u0275providers:e}}function Fg(n){return[{provide:jb,multi:!0,useValue:n}]}function v_(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const r=n.get(zn),i=n.get(Yb);1===n.get(w_)&&r.initialNavigation(),n.get(Fc,null,c.XFs.Optional)?.setUpPreloading(),n.get(tn,null,c.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const Yb=new c.OlP("",{factory:()=>new ar.x}),w_=new c.OlP("",{providedIn:"root",factory:()=>1});const Fc=new c.OlP("");function AD(n){return Jd(0,[{provide:Fc,useExisting:SD},{provide:y_,useExisting:n}])}const MD=new c.OlP("ROUTER_FORROOT_GUARD"),KM=[Pe,{provide:Ka,useClass:gf},{provide:zn,useFactory:Zb},Cf,{provide:el,useFactory:function Kb(n){return n.routerState.root},deps:[zn]},zb];function YM(){return new c.PXZ("Router",zn)}let e0=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[KM,[],Fg(t),{provide:MD,useFactory:eh,deps:[[zn,new c.FiY,new c.tp0]]},{provide:kg,useValue:r||{}},r?.useHash?{provide:De,useClass:st}:{provide:De,useClass:wt},{provide:tn,useFactory:()=>{const n=(0,c.f3M)(zn),e=(0,c.f3M)(as),t=(0,c.f3M)(kg);return t.scrollOffset&&e.setOffset(t.scrollOffset),new __(n,e,t)}},r?.preloadingStrategy?AD(r.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:YM},r?.initialNavigation?OD(r):[],[{provide:b_,useFactory:v_},{provide:c.tb,multi:!0,useExisting:b_}]]}}static forChild(t){return{ngModule:n,providers:[Fg(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(MD,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[da]}),n})();function eh(n){return"guarded"}function OD(n){return["disabled"===n.initialNavigation?Jd(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(zn);return()=>{e.setUpLocationChangeListener()}}},{provide:w_,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Jd(2,[{provide:w_,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get(Y,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(a=>{const u=e.get(zn),f=e.get(Yb);(function i(a){e.get(zn).events.pipe(Fi(f=>f instanceof Xa||f instanceof Ou||f instanceof $y),(0,$t.U)(f=>f instanceof Xa||f instanceof Ou&&(0===f.code||1===f.code)&&null),Fi(f=>null!==f),oa(1)).subscribe(()=>{a()})})(()=>{a(!0),r=!0}),u.afterPreactivation=()=>(a(!0),r||f.closed?St(void 0):f),u.initialNavigation()}))}}]).\u0275providers:[]]}const b_=new c.OlP("");let r0=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Bu=(()=>{class n extends r0{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const tl=new c.OlP("NgValueAccessor"),s0={provide:tl,useExisting:(0,c.Gpc)(()=>Lc),multi:!0},a0=new c.OlP("CompositionEventMode");let Lc=(()=>{class n extends r0{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function kD(){const n=N()?N().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(a0,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[c._Bn([s0]),c.qOj]}),n})();function Hu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Vg(n){return null!=n&&"number"==typeof n.length}const Yi=new c.OlP("NgValidators"),$u=new c.OlP("NgAsyncValidators"),th=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class lr{static min(e){return function E_(n){return e=>{if(Hu(e.value)||Hu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Lf(n){return e=>{if(Hu(e.value)||Hu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return Ts(e)}static requiredTrue(e){return function I_(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function l0(n){return Hu(n.value)||th.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Ug(n){return e=>Hu(e.value)||!Vg(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function nl(n){return e=>Vg(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Bg(n){if(!n)return Vf;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Hu(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return jg(e)}static composeAsync(e){return zg(e)}}function Ts(n){return Hu(n.value)?{required:!0}:null}function Vf(n){return null}function Hg(n){return null!=n}function ND(n){return(0,c.QGY)(n)?(0,En.D)(n):n}function D_(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function FD(n,e){return e.map(t=>t(n))}function Uf(n){return n.map(e=>function $g(n){return!n.validate}(e)?e:t=>e.validate(t))}function jg(n){if(!n)return null;const e=n.filter(Hg);return 0==e.length?null:function(t){return D_(FD(t,e))}}function Bf(n){return null!=n?jg(Uf(n)):null}function zg(n){if(!n)return null;const e=n.filter(Hg);return 0==e.length?null:function(t){return function n0(...n){const e=(0,Ri.jO)(n),{args:t,keys:r}=Ga(n),i=new Ni.y(a=>{const{length:u}=t;if(!u)return void a.complete();const f=new Array(u);let y=u,I=u;for(let x=0;x<u;x++){let R=!1;(0,jo.Xf)(t[x]).subscribe((0,Kr.x)(a,j=>{R||(R=!0,I--),f[x]=j},()=>y--,void 0,()=>{(!y||!R)&&(I||a.next(r?bs(r,f):f),a.complete())}))}});return e?i.pipe(vu(e)):i}(FD(t,e).map(ND)).pipe((0,$t.U)(D_))}}function c0(n){return null!=n?zg(Uf(n)):null}function u0(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function d0(n){return n._rawValidators}function h0(n){return n._rawAsyncValidators}function T_(n){return n?Array.isArray(n)?n:[n]:[]}function Hf(n,e){return Array.isArray(n)?n.includes(e):n===e}function LD(n,e){const t=T_(e);return T_(n).forEach(i=>{Hf(t,i)||t.push(i)}),t}function f0(n,e){return T_(e).filter(t=>!Hf(n,t))}class VD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Bf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=c0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Qi extends VD{get formDirective(){return null}get path(){return null}}class Yl extends VD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class p0{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Gg=(()=>{class n extends p0{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Yl,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[c.qOj]}),n})(),$f=(()=>{class n extends p0{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Qi,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[c.qOj]}),n})();const jf="VALID",zf="INVALID",nh="PENDING",Gf="DISABLED";function rh(n){return(ih(n)?n.validators:n)||null}function zu(n){return Array.isArray(n)?Bf(n):n||null}function qf(n,e){return(ih(e)?e.asyncValidators:n)||null}function Gu(n){return Array.isArray(n)?c0(n):n||null}function ih(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Wf(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[t])throw new c.vHH(1001,"")}function A_(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new c.vHH(1002,"")})}class Zf{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=zu(this._rawValidators),this._composedAsyncValidatorFn=Gu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===jf}get invalid(){return this.status===zf}get pending(){return this.status==nh}get disabled(){return this.status===Gf}get enabled(){return this.status!==Gf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=zu(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Gu(e)}addValidators(e){this.setValidators(LD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(LD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(f0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(f0(e,this._rawAsyncValidators))}hasValidator(e){return Hf(this._rawValidators,e)}hasAsyncValidator(e){return Hf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=nh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Gf,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=jf,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===jf||this.status===nh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gf:jf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=nh,this._hasOwnPendingAsyncValidator=!0;const t=ND(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?Gf:this.errors?zf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nh)?nh:this._anyControlsHaveStatus(zf)?zf:jf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ih(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class qu extends Zf{constructor(e,t,r){super(rh(t),qf(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){A_(this,0,e),Object.keys(e).forEach(r=>{Wf(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Wg extends qu{}function Kf(n,e){Kg(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function qo(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&D0(n,e)})}(n,e),function rP(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function I0(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&D0(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function E0(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Yf(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Yg(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Zg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Kg(n,e){const t=d0(n);null!==e.validator?n.setValidators(u0(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=h0(n);null!==e.asyncValidator?n.setAsyncValidators(u0(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Zg(e._rawValidators,i),Zg(e._rawAsyncValidators,i)}function Yg(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=d0(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(u=>u!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=h0(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(u=>u!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return Zg(e._rawValidators,r),Zg(e._rawAsyncValidators,r),t}function D0(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function T0(n,e){Kg(n,e)}function O_(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const x0={provide:Qi,useExisting:(0,c.Gpc)(()=>Wo)},Qf=(()=>Promise.resolve())();let Wo=(()=>{class n extends Qi{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new qu({},Bf(t),c0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Qf.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Kf(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Qf.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Qf.then(()=>{const r=this._findContainer(t.path),i=new qu({});T0(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Qf.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Qf.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,O_(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Yi,10),c.Y36($u,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([x0]),c.qOj]}),n})();function Jg(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function A0(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Jf=class extends Zf{constructor(e=null,t,r){super(rh(t),qf(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ih(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=A0(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Jg(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Jg(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){A0(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Uc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),F_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Wu=new c.OlP("NgModelWithFormControlWarning"),k0={provide:Qi,useExisting:(0,c.Gpc)(()=>Zu)};let Zu=(()=>{class n extends Qi{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Yg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Kf(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Yf(t.control||null,t,!1),function GD(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,O_(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Yf(r||null,t),(n=>n instanceof Jf)(i)&&(Kf(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);T0(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function P_(n,e){return Yg(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Kg(this.form,this),this._oldForm&&Yg(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Yi,10),c.Y36($u,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([k0]),c.qOj,c.TTD]}),n})();const cP={provide:Yl,useExisting:(0,c.Gpc)(()=>oh)};let oh=(()=>{class n extends Yl{constructor(t,r,i,a,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function R_(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===Lc?t=a:function zD(n){return Object.getPrototypeOf(n.constructor)===Bu}(a)?r=a:i=a}),i||r||t||null}(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Qg(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function M_(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(Qi,13),c.Y36(Yi,10),c.Y36($u,10),c.Y36(tl,10),c.Y36(Wu,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([cP]),c.qOj,c.TTD]}),n})(),Zo=(()=>{class n{constructor(){this._validator=Vf}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Vf,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const B_={provide:Yi,useExisting:(0,c.Gpc)(()=>Ko),multi:!0};let Ko=(()=>{class n extends Zo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.D6c,this.createValidator=t=>Ts}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([B_]),c.qOj]}),n})(),Ju=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[F_]}),n})(),ch=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Ju]}),n})(),Xu=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Wu,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Ju]}),n})();class $_ extends Zf{constructor(e,t,r){super(rh(t),qf(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){A_(this,0,e),e.forEach((r,i)=>{Wf(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function j_(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let ap=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let a={};return j_(r)?a=r:null!==r&&(a.validators=r.validator,a.asyncValidators=r.asyncValidator),new qu(i,a)}record(t,r=null){const i=this._reduceControls(t);return new Wg(i,r)}control(t,r,i){let a={};return this.useNonNullable?(j_(r)?a=r:(a.validators=r,a.asyncValidators=i),new Jf(t,{...a,nonNullable:!0})):new Jf(t,r,i)}array(t,r,i){const a=t.map(u=>this._createControl(u));return new $_(a,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Jf||t instanceof Zf?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:Xu}),n})(),$0=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-verify-email"]],decls:14,vars:0,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-4"],[1,"card","shadow"],[1,"card-body"],[1,"mb-3"],[1,"text-danger","text-muted"],[1,"text-muted"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"div",2),c.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"form")(7,"div",6)(8,"h4",7),c._uU(9,"Welcome"),c.qZA()(),c.TgZ(10,"div",6)(11,"p",8),c._uU(12,"Link has sent on your registered email. Please varify it."),c.qZA()()()()()(),c._UZ(13,"div",2),c.qZA()())},dependencies:[Uc,$f,Wo]}),n})();var uT=U(1389),cn=U(2090),Ss=U(6881),Hc=U(1877),ed=U(4859),z_=U(6451),uh=U(5363),dT=U(6063);class nm extends ar.x{constructor(e=1/0,t=1/0,r=dT.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:u}=this;t||(r.push(e),!i&&r.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let u=0;u<a.length&&!e.closed;u+=r?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const u=t.now();let f=0;for(let y=1;y<r.length&&r[y]<=u;y+=2)f=y;f&&r.splice(0,f+1)}}}var rm=U(3099);function im(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,rm.B)({connector:()=>new nm(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function j0(n,e){return(0,Zi.m)(e)?Ar(()=>n,e):Ar(()=>n)}var dh=U(9468),_r=U(4976),Xi=U(2011);U(259);var Te=U(5861);const sm=new Map,W_={activated:!1,tokenObservers:[]},K0={initialized:!1,enabled:!1};function Mr(n){return sm.get(n)||Object.assign({},W_)}function Z_(){return K0}class bT{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Te.Z)(function*(){t.stop();try{t.pending=new cn.BH,yield function CT(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new cn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Vi=new cn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function am(n){if(!Mr(n).activated)throw Vi.create("use-before-activation",{appName:n.name})}function cm(n,e){return um.apply(this,arguments)}function um(){return(um=(0,Te.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const R=yield i.getHeartbeatsHeader();R&&(r["X-Firebase-Client"]=R)}const a={method:"POST",body:JSON.stringify(e),headers:r};let u,f;try{u=yield fetch(n,a)}catch(R){throw Vi.create("fetch-network-error",{originalErrorMessage:R?.message})}if(200!==u.status)throw Vi.create("fetch-status-error",{httpStatus:u.status});try{f=yield u.json()}catch(R){throw Vi.create("fetch-parse-error",{originalErrorMessage:R?.message})}const y=f.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw Vi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const I=1e3*Number(y[1]),x=Date.now();return{token:f.token,expireTimeMillis:x+I,issuedAtTimeMillis:x}})).apply(this,arguments)}function IT(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Do="firebase-app-check-store";let cp=null;function fa(){return cp||(cp=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Vi.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Do,{keyPath:"compositeKey"})}}catch(t){e(Vi.create("storage-open",{originalErrorMessage:t?.message}))}}),cp)}function J_(){return(J_=(0,Te.Z)(function*(n,e){const r=(yield fa()).transaction(Do,"readwrite"),a=r.objectStore(Do).put({compositeKey:n,value:e});return new Promise((u,f)=>{a.onsuccess=y=>{u()},r.onerror=y=>{var I;f(Vi.create("storage-set",{originalErrorMessage:null===(I=y.target.error)||void 0===I?void 0:I.message}))}})})).apply(this,arguments)}const Ql=new Hc.Yd("@firebase/app-check");function ev(n,e){return(0,cn.hl)()?function ga(n,e){return function iC(n,e){return J_.apply(this,arguments)}(function dm(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Ql.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function fh(){return Z_().enabled}function tv(){return pm.apply(this,arguments)}function pm(){return(pm=(0,Te.Z)(function*(){const n=Z_();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const nv={error:"UNKNOWN_ERROR"};function gm(n){return cn.US.encodeString(JSON.stringify(n),!1)}function ph(n){return mm.apply(this,arguments)}function mm(){return(mm=(0,Te.Z)(function*(n,e=!1){const t=n.app;am(t);const r=Mr(t);let a,i=r.token;if(i&&!gh(i)&&(r.token=void 0,i=void 0),!i){const y=yield r.cachedTokenPromise;y&&(gh(y)?i=y:yield ev(t,void 0))}if(!e&&i&&gh(i))return{token:i.token};let f,u=!1;if(fh()){r.exchangeTokenPromise||(r.exchangeTokenPromise=cm(IT(t,yield tv()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const y=yield r.exchangeTokenPromise;return yield ev(t,y),r.token=y,{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),i=yield Mr(t).exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?Ql.warn(y.message):Ql.error(y),a=y}return i?a?f=gh(i)?{token:i.token,internalError:a}:cC(a):(f={token:i.token},r.token=i,yield ev(t,i)):f=cC(a),u&&ov(t,f),f})).apply(this,arguments)}function ym(){return(ym=(0,Te.Z)(function*(n){const e=n.app;am(e);const{provider:t}=Mr(e);if(fh()){const r=yield tv(),{token:i}=yield cm(IT(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function vm(n,e){const t=Mr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function iv(n){const{app:e}=n,t=Mr(e);let r=t.tokenRefresher;r||(r=function lC(n){const{app:e}=n;return new bT((0,Te.Z)(function*(){let r;if(r=Mr(e).token?yield ph(n,!0):yield ph(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Mr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function ov(n,e){const t=Mr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function gh(n){return n.expireTimeMillis-Date.now()>0}function cC(n){return{token:gm(nv),error:n}}class TT{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Mr(this.app);for(const t of e)vm(this.app,t.next);return Promise.resolve()}}const td="app-check-internal";!function gP(){(0,Ss._registerComponent)(new ed.wA("app-check",n=>function ST(n,e){return new TT(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(td).initialize()})),(0,Ss._registerComponent)(new ed.wA(td,n=>function xT(n){return{getToken:e=>ph(n,e),getLimitedUseToken:()=>function rv(n){return ym.apply(this,arguments)}(n),addTokenListener:e=>function _m(n,e,t,r){const{app:i}=n,a=Mr(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&gh(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),iv(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>iv(n))}(n,"INTERNAL",e),removeTokenListener:e=>vm(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ss.registerVersion)("@firebase/app-check","0.8.0")}();class up{constructor(){return(0,_r.vb)("app-check")}}typeof window<"u"&&window,U(9260);const fv=new c.OlP("angularfire2.auth.use-emulator"),pv=new c.OlP("angularfire2.auth.settings"),yC=new c.OlP("angularfire2.auth.tenant-id"),_C=new c.OlP("angularfire2.auth.langugage-code"),vC=new c.OlP("angularfire2.auth.use-device-language"),_h=new c.OlP("angularfire.auth.persistence"),wC=(n,e,t,r,i,a,u,f)=>(0,Xi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,a&&y.useDeviceLanguage(),u)for(const[I,x]of Object.entries(u))y.settings[I]=x;return f&&y.setPersistence(f),y},[t,r,i,a,u,f]);let Im=(()=>{class n{constructor(t,r,i,a,u,f,y,I,x,R,j,X){const he=new ar.x,Be=St(void 0).pipe((0,uh.Q)(u.outsideAngular),Ar(()=>a.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,9568)))),(0,$t.U)(()=>(0,Xi.on)(t,a,r)),(0,$t.U)(Re=>wC(Re,a,f,I,x,R,y,j)),im({bufferSize:1,refCount:!1}));if(zi(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=St(null);else{Be.pipe(uo()).subscribe();const vt=Be.pipe(Ar(Mt=>Mt.getRedirectResult().then(sn=>sn,()=>null)),_r.iC,im({bufferSize:1,refCount:!1})),At=Be.pipe(Ar(Mt=>new Ni.y(sn=>({unsubscribe:a.runOutsideAngular(()=>Mt.onAuthStateChanged(yn=>sn.next(yn),yn=>sn.error(yn),()=>sn.complete()))})))),pt=Be.pipe(Ar(Mt=>new Ni.y(sn=>({unsubscribe:a.runOutsideAngular(()=>Mt.onIdTokenChanged(yn=>sn.next(yn),yn=>sn.error(yn),()=>sn.complete()))}))));this.authState=vt.pipe(j0(At),(0,dh.R)(u.outsideAngular),(0,uh.Q)(u.insideAngular)),this.user=vt.pipe(j0(pt),(0,dh.R)(u.outsideAngular),(0,uh.Q)(u.insideAngular)),this.idToken=this.user.pipe(Ar(Mt=>Mt?(0,En.D)(Mt.getIdToken()):St(null))),this.idTokenResult=this.user.pipe(Ar(Mt=>Mt?(0,En.D)(Mt.getIdTokenResult()):St(null))),this.credential=(0,z_.T)(vt,he,this.authState.pipe(Fi(Mt=>!Mt))).pipe((0,$t.U)(Mt=>Mt?.user?Mt:null),(0,dh.R)(u.outsideAngular),(0,uh.Q)(u.insideAngular))}return(0,Xi.pX)(this,Be,a,{spy:{apply:(Re,vt,At)=>{(Re.startsWith("signIn")||Re.startsWith("createUser"))&&At.then(pt=>he.next(pt))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Xi.Dh),c.LFG(Xi.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(_r.HU),c.LFG(fv,8),c.LFG(pv,8),c.LFG(yC,8),c.LFG(_C,8),c.LFG(vC,8),c.LFG(_h,8),c.LFG(up,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),jc=(()=>{class n{constructor(t,r){this.fireauth=t,this.router=r}login(t,r){this.fireauth.signInWithEmailAndPassword(t,r).then(i=>{localStorage.setItem("token","true"),this.router.navigate(1==i.user?.emailVerified?["/dashboard"]:["/verify-email"])},i=>{alert(i.message),this.router.navigate(["/login"])})}register(t,r){this.fireauth.createUserWithEmailAndPassword(t,r).then(i=>{alert("Registration Successful"),this.sendEmailForVerification(i.user),this.router.navigate(["/login"])},i=>{alert(i.message),this.router.navigate(["/register"])})}logout(){this.fireauth.signOut().then(()=>{localStorage.removeItem("token"),this.router.navigate(["/login"])},t=>{alert(t.message)})}forgotPassword(t){return new Ni.y(r=>{this.fireauth.sendPasswordResetEmail(t).then(()=>{this.router.navigate(["/verify-email"]),r.next(),r.complete()}).catch(i=>{r.error(i)})})}sendEmailForVerification(t){console.log(t),t.sendEmailVerification().then(r=>{this.router.navigate(["/verify-email"])},r=>{alert("Something went wrong. Not able to send mail to your email.")})}googleSignIn(){return this.fireauth.signInWithPopup(new uT.V).then(t=>{this.router.navigate(["/dashboard"]),localStorage.setItem("token",JSON.stringify(t.user?.uid))},t=>{alert(t.message)})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Im),c.LFG(zn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bC=function(n,e){return{"fa-eye":n,"fa-eye-slash":e}};let CC=(()=>{class n{constructor(t,r){this.auth=t,this.formBuilder=r,this.showPassword=!1,this.loginForm=this.formBuilder.group({email:["",[lr.required,lr.email]],password:["",lr.required]})}ngOnInit(){}login(){if(this.loginForm.invalid)return void alert("Please enter valid email and password");const{email:t,password:r}=this.loginForm.value;this.auth.login(t,r),this.loginForm.reset()}signInWithGoogle(){this.auth.googleSignIn()}togglePasswordVisibility(){this.showPassword=!this.showPassword}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(jc),c.Y36(ap))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:44,vars:6,consts:[[1,"parent"],[1,"div1"],[1,"text-white","txt"],[1,"div2"],[1,"container"],[1,"login-form"],[1,"text-center","mb-4"],[3,"formGroup"],[1,"form-group"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email",1,"form-control"],[1,"form-group","mt-2"],["for","password"],[1,"input-group"],["id","password","formControlName","password",1,"form-control",2,"width","430px",3,"type"],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"fa",3,"ngClass"],[1,"mt-3","text-center"],["type","button",1,"btn",2,"width","225px",3,"click"],[1,"btn","btn-light","btn-block","btn-google",3,"click"],[1,"fab","fa-google","mr-2"],["href","/register"],["href","/forgot-password"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"h1"),c._uU(3,"BIENVENUE SUR RICVA"),c.qZA(),c.TgZ(4,"p",2),c._uU(5,"RICVA est une plateforme de suivi et de "),c._UZ(6,"br"),c._uU(7," gestion du secteur agricole, de la production "),c._UZ(8,"br"),c._uU(9," \xe0 la vente en passant par le finacnement "),c.qZA()(),c.TgZ(10,"div",3)(11,"div",4)(12,"div",5)(13,"h2",6),c._uU(14,"Connexion"),c.qZA(),c.TgZ(15,"form",7)(16,"div",8)(17,"label",9),c._uU(18,"Email ou Telephone"),c.qZA(),c._UZ(19,"input",10),c.qZA(),c.TgZ(20,"div",11)(21,"label",12),c._uU(22,"Mot de passe"),c.qZA(),c.TgZ(23,"div",13),c._UZ(24,"input",14)(25,"br"),c.TgZ(26,"div",15)(27,"button",16),c.NdJ("click",function(){return r.togglePasswordVisibility()}),c._UZ(28,"i",17),c.qZA()()()(),c.TgZ(29,"div",18)(30,"button",19),c.NdJ("click",function(){return r.login()}),c._uU(31,"Connexion"),c.qZA()()(),c.TgZ(32,"div",18)(33,"button",20),c.NdJ("click",function(){return r.signInWithGoogle()}),c._UZ(34,"i",21),c._uU(35," Se Connecter avec Google "),c.qZA()(),c.TgZ(36,"div",18)(37,"p"),c._uU(38,"Vous n'avez pas de compte ? "),c.TgZ(39,"a",22),c._uU(40,"Inscrivez-vous"),c.qZA()(),c.TgZ(41,"p")(42,"a",23),c._uU(43,"Mot de passe oubli\xe9 ?"),c.qZA()()()()()()()),2&t&&(c.xp6(15),c.Q6J("formGroup",r.loginForm),c.xp6(9),c.s9C("type",r.showPassword?"text":"password"),c.xp6(4),c.Q6J("ngClass",c.WLB(3,bC,r.showPassword,!r.showPassword)))},dependencies:[fn,Uc,Lc,Gg,$f,Zu,oh],styles:[".parent[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,1fr);grid-template-rows:repeat(5,1fr);grid-column-gap:0px;grid-row-gap:0px}.div1[_ngcontent-%COMP%]{grid-area:1 / 1 / 6 / 4;background-image:url(image.f9ceb5d3e9fe0aa8.jpeg);background-size:cover;width:100%;height:100vh}.div2[_ngcontent-%COMP%]{grid-area:1 / 4 / 6 / 6}a[_ngcontent-%COMP%]{color:#cb7a4b}.login-form[_ngcontent-%COMP%]{height:100vh;width:100%;padding:140px 30px 30px;border-radius:5px}.btn-google[_ngcontent-%COMP%]{background-color:#fff;color:#4285f4;border:1px solid #4285f4}.btn-google[_ngcontent-%COMP%]:hover{background-color:#f1f3f4;color:#4285f4;border:1px solid #4285f4}@media screen and (max-width: 768px){.parent[_ngcontent-%COMP%]{grid-template-columns:1fr;grid-template-rows:repeat(3,1fr);display:inline}.div1[_ngcontent-%COMP%]{grid-area:1 / 1 / 4 / 2;height:auto}.div2[_ngcontent-%COMP%]{grid-area:2 / 1 / 3 / 2}.login-form[_ngcontent-%COMP%]{padding-top:60px}}.input-group-text[_ngcontent-%COMP%]{cursor:pointer}.txt[_ngcontent-%COMP%]{margin-left:70px;font-size:19px}h1[_ngcontent-%COMP%]{margin-top:16rem;display:flex;justify-content:start;margin-left:68px;font-weight:700;font-size:35px;color:#fff}.pr[_ngcontent-%COMP%]{font-size:27px;color:#fff;margin-left:70px}.btn[_ngcontent-%COMP%]{background-color:#cb7a4b;color:#fff}"]}),n})();function EC(n,e){1&n&&(c.TgZ(0,"div",17),c._uU(1," S'i vous plait veuillez entrez un mail "),c.qZA())}function WT(n,e){1&n&&(c.TgZ(0,"div",17),c._uU(1," Veuillez saisir un mot de passe d\u2019au moins 6 caract\xe8res. "),c.qZA())}function dp(n,e){1&n&&(c.TgZ(0,"div",17),c._uU(1," Veuillez saisir un mot de passe d\u2019au moins 6 caract\xe8res. "),c.qZA())}let hp=(()=>{class n{constructor(t,r){this.fb=t,this.auth=r,this.registrationForm=this.fb.group({email:["",[lr.required,lr.email]],password:["",[lr.required,lr.minLength(6)]],confirm_password:["",[lr.required,lr.minLength(6)]]})}ngOnInit(){this.initForm()}initForm(){this.registrationForm=this.fb.group({email:["",[lr.required,lr.email]],password:["",[lr.required,lr.minLength(6)]],confirm_password:["",[lr.required,lr.minLength(6)]]})}get formControls(){return this.registrationForm.controls}register(){if(this.registrationForm.invalid)return void alert("Please fill all required fields with valid data.");const t=this.registrationForm.get("password")?.value,r=this.registrationForm.get("confirm_password")?.value;if(t!==r)return void alert("Les mots de passes ne correspondent pas");const i=this.registrationForm.get("email")?.value;this.auth.register(i,t),this.registrationForm.reset()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ap),c.Y36(jc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-register"]],decls:31,vars:4,consts:[[1,"parent"],[1,"div1"],[1,"container"],[3,"formGroup"],[1,"mb-3"],[1,"text-dark"],["for","email",1,"form-label"],["type","text","formControlName","email","placeholder","email",1,"form-control",2,"width","430px"],["class","text-danger",4,"ngIf"],["for","password",1,"form-label"],["type","password","formControlName","password","placeholder","mot de passe",1,"form-control",2,"width","430px"],["for","confirm_password",1,"form-label"],["type","password","formControlName","confirm_password","placeholder","confirmez le mot de passe",1,"form-control",2,"width","430px"],["type","button",1,"btn",3,"click"],[1,"row"],[1,"col-md-6"],["href","/login"],[1,"text-danger"],[1,"div2"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",4)(5,"h4",5),c._uU(6,"Inscription"),c.qZA()(),c.TgZ(7,"div",4)(8,"label",6),c._uU(9,"Email"),c.qZA(),c._UZ(10,"input",7),c.YNc(11,EC,2,0,"div",8),c.qZA(),c.TgZ(12,"div",4)(13,"label",9),c._uU(14,"Mot de passe"),c.qZA(),c._UZ(15,"input",10),c.YNc(16,WT,2,0,"div",8),c.qZA(),c.TgZ(17,"div",4)(18,"label",11),c._uU(19,"Confirmez le mot de passe"),c.qZA(),c._UZ(20,"input",12),c.YNc(21,dp,2,0,"div",8),c.qZA(),c.TgZ(22,"button",13),c.NdJ("click",function(){return r.register()}),c._uU(23,"Inscrivez-vous"),c.qZA(),c.TgZ(24,"div",14)(25,"div",15)(26,"a",16),c._uU(27,"Vous avez as d\xe9ja un compte ? "),c.TgZ(28,"span",17),c._uU(29,"Connectez-vous"),c.qZA()()()()()()(),c._UZ(30,"div",18),c.qZA()),2&t&&(c.xp6(3),c.Q6J("formGroup",r.registrationForm),c.xp6(8),c.Q6J("ngIf",r.formControls.email.invalid&&r.formControls.email.touched),c.xp6(5),c.Q6J("ngIf",r.formControls.password.invalid&&r.formControls.password.touched),c.xp6(5),c.Q6J("ngIf",r.formControls.confirm_password.invalid&&r.formControls.confirm_password.touched))},dependencies:[wn,Uc,Lc,Gg,$f,Zu,oh],styles:[".parent[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);grid-template-rows:repeat(5,1fr);grid-column-gap:0px;grid-row-gap:0px}.div1[_ngcontent-%COMP%]{grid-area:1 / 1 / 6 / 8;padding:30px;margin-right:15px}.div2[_ngcontent-%COMP%]{grid-area:1 / 4 / 6 / 8;background-image:url(femme.9436c43eb1a6ecda.jpg);background-size:cover;width:100%;height:100vh}.btn[_ngcontent-%COMP%]{background-color:#cb7a4b;color:#fff}.btn[_ngcontent-%COMP%]:hover{background-color:#cb660e;color:#fff}a[_ngcontent-%COMP%]{color:#000;text-decoration:none}@media screen and (max-width: 768px){.parent[_ngcontent-%COMP%]{grid-template-columns:repeat(1,1fr);grid-template-rows:repeat(10,1fr)}.div1[_ngcontent-%COMP%]{grid-area:1 / 1 / 11 / 2;padding:15px}.div2[_ngcontent-%COMP%]{grid-area:6 / 1 / 11 / 2}input[_ngcontent-%COMP%]{width:100%}}@media screen and (min-width: 769px) and (max-width: 1024px){.parent[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(5,1fr)}.div1[_ngcontent-%COMP%]{grid-area:1 / 1 / 6 / 4}.div2[_ngcontent-%COMP%]{grid-area:1 / 4 / 6 / 7}}"]}),n})();function ZT(n,e){1&n&&c._UZ(0,"div",20)}const KT=function(){return["/login"]};let YT=(()=>{class n{constructor(t,r){this.fb=t,this.auth=r,this.emailRegex=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,this.forgotPasswordForm=this.fb.group({email:["",[lr.required,lr.pattern(this.emailRegex)]]})}get emailControl(){return this.forgotPasswordForm.controls.email}onSubmit(){this.forgotPasswordForm.invalid?this.emailControl.markAsTouched():this.auth.forgotPassword(this.forgotPasswordForm.value.email).subscribe(()=>{this.forgotPasswordForm.reset()},r=>{console.log("Error sending reset instructions:",r)})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ap),c.Y36(jc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-forgot-password"]],decls:25,vars:7,consts:[["id","forgot-password"],[1,"row","auth-height","full-height-vh","m-0","d-flex","align-items-center","justify-content-center"],[1,"col-md-7","col-12"],[1,"card","overflow-hidden"],[1,"card-content"],[1,"card-body","auth-img"],[1,"row","m-0"],[1,"col-lg-6","d-none","d-lg-flex","justify-content-center","align-items-center","text-center","auth-img-bg","py-2"],["src","../../../assets/forgot.png","alt","","width","260","height","230",1,"img-fluid"],[1,"col-lg-6","col-md-12","px-4","py-3"],[1,"mb-2","card-title"],[1,"card-text","mb-3"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","formControlName","email","placeholder","E-mail",1,"form-control"],["class","invalid-feedback",4,"ngIf"],[1,"d-flex","flex-sm-row","flex-column","justify-content-between"],[1,"btn","bg-light-primary","mb-2","mb-sm-0",3,"routerLink"],[1,"btn","btn-primary","ml-sm-1",3,"disabled"],[1,"invalid-feedback"]],template:function(t,r){1&t&&(c.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),c._UZ(8,"img",8),c.qZA(),c.TgZ(9,"div",9)(10,"h4",10),c._uU(11,"R\xe9initialisation du mot de passe"),c.qZA(),c.TgZ(12,"p",11),c._uU(13,"Veuillez entrer votre adresse e-mail et nous vous enverrons des instructions pour r\xe9initialiser votre mot de passe."),c.qZA(),c.TgZ(14,"form",12),c.NdJ("ngSubmit",function(){return r.onSubmit()}),c.TgZ(15,"div",13)(16,"label",14),c._uU(17,"Email"),c.qZA(),c._UZ(18,"input",15),c.YNc(19,ZT,1,0,"div",16),c.qZA(),c.TgZ(20,"div",17)(21,"a",18),c._uU(22,"Retour \xe0 la connexion"),c.qZA(),c.TgZ(23,"button",19),c._uU(24,"R\xe9initialiser"),c.qZA()()()()()()()()()()()),2&t&&(c.xp6(14),c.Q6J("formGroup",r.forgotPasswordForm),c.xp6(4),c.ekj("is-invalid",r.emailControl.invalid&&r.emailControl.touched),c.xp6(1),c.Q6J("ngIf",r.emailControl.invalid&&r.emailControl.touched),c.xp6(2),c.Q6J("routerLink",c.DdM(6,KT)),c.xp6(2),c.Q6J("disabled",r.forgotPasswordForm.invalid))},dependencies:[wn,Nf,Uc,Lc,Gg,$f,Zu,oh],styles:["#forgot-password[_ngcontent-%COMP%]{padding:50px 0}.card[_ngcontent-%COMP%]{border-radius:10px;box-shadow:0 4px 12px #00000026;overflow:hidden}.card-title[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.card-text[_ngcontent-%COMP%]{font-size:16px;color:#555}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-control[_ngcontent-%COMP%]{border-radius:5px;border:1px solid #ccc;padding:12px;font-size:14px}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.invalid-feedback[_ngcontent-%COMP%]{color:#dc3545;font-size:14px}.btn[_ngcontent-%COMP%]{border-radius:5px;padding:10px 20px;font-size:14px;text-decoration:none;cursor:pointer}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none}.btn.bg-light-primary[_ngcontent-%COMP%]{background-color:#f4f5f7;color:#007bff;border:none}@media screen and (max-width: 768px){.auth-img-bg[_ngcontent-%COMP%]{display:none}}"]}),n})();var IC=U(5226),nd=U.n(IC),gv=U(4986);function mv(){return(0,ti.e)((n,e)=>{let t,r=!1;n.subscribe((0,Kr.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function QT(n,e){return n===e}U(9568);var dt,JT=U(3942),bP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},il={},Dm=Dm||{},Xt=bP||self;function Tm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function fp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var rd="closure_uid_"+(1e9*Math.random()>>>0),XT=0;function eS(n,e,t){return n.call.apply(n.bind,arguments)}function tS(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function eo(n,e,t){return(eo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?eS:tS).apply(null,arguments)}function Sm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function fi(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[i].apply(r,u)}}function zc(){this.s=this.s,this.o=this.o}zc.prototype.s=!1,zc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function TC(n){Object.prototype.hasOwnProperty.call(n,rd)&&n[rd]||(n[rd]=++XT)}(this)},zc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const vh=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function yv(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function _v(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Tm(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let u=0;u<a;u++)n[i+u]=r[u]}else n.push(r)}}function to(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}to.prototype.h=function(){this.defaultPrevented=!0};var SC=function(){if(!Xt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Xt.addEventListener("test",()=>{},e),Xt.removeEventListener("test",()=>{},e)}catch{}return n}();function pp(n){return/^[\s\xa0]*$/.test(n)}function gp(){var n=Xt.navigator;return n&&(n=n.userAgent)?n:""}function ol(n){return-1!=gp().indexOf(n)}function mp(n){return mp[" "](n),n}mp[" "]=function(){};var xm,n,xC=ol("Opera"),id=ol("Trident")||ol("MSIE"),AC=ol("Edge"),vv=AC||id,MC=ol("Gecko")&&!(-1!=gp().toLowerCase().indexOf("webkit")&&!ol("Edge"))&&!(ol("Trident")||ol("MSIE"))&&!ol("Edge"),wv=-1!=gp().toLowerCase().indexOf("webkit")&&!ol("Edge");function PC(){var n=Xt.document;return n?n.documentMode:void 0}e:{var bv="",Cv=(n=gp(),MC?/rv:([^\);]+)(\)|;)/.exec(n):AC?/Edge\/([\d\.]+)/.exec(n):id?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):wv?/WebKit\/(\S+)/.exec(n):xC?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Cv&&(bv=Cv?Cv[1]:""),id){var Ev=PC();if(null!=Ev&&Ev>parseFloat(bv)){xm=String(Ev);break e}}xm=bv}var iS=Xt.document&&id&&(PC()||parseInt(xm,10))||void 0;function yp(n,e){if(to.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(MC){e:{try{mp(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:oS[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&yp.$.h.call(this)}}fi(yp,to);var oS={2:"touch",3:"pen",4:"mouse"};yp.prototype.h=function(){yp.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var wh="closure_listenable_"+(1e6*Math.random()|0),RC=0;function sS(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++RC,this.fa=this.ia=!1}function Am(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Mm(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function kC(n){const e={};for(const t in n)e[t]=n[t];return e}const NC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pm(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<NC.length;a++)t=NC[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function bh(n){this.src=n,this.g={},this.h=0}function Om(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=vh(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(Am(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function _p(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return i}return-1}bh.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=_p(n,e,r,i);return-1<u?(e=n[u],t||(e.ia=!1)):((e=new sS(e,this.src,a,!!r,i)).ia=t,n.push(e)),e};var Dv="closure_lm_"+(1e6*Math.random()|0),Tv={};function Rm(n,e,t,r,i){if(r&&r.once)return od(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)Rm(n,e[a],t,r,i);return null}return t=wp(t),n&&n[wh]?n.O(e,t,fp(r)?!!r.capture:!!r,i):FC(n,e,t,!1,r,i)}function FC(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var u=fp(i)?!!i.capture:!!i,f=vp(n);if(f||(n[Dv]=f=new bh(n)),(t=f.add(e,t,r,u,a)).proxy)return t;if(r=function LC(){const e=VC;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)SC||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(lS(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function od(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)od(n,e[a],t,r,i);return null}return t=wp(t),n&&n[wh]?n.P(e,t,fp(r)?!!r.capture:!!r,i):FC(n,e,t,!0,r,i)}function Sv(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)Sv(n,e[a],t,r,i);else r=fp(r)?!!r.capture:!!r,t=wp(t),n&&n[wh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=_p(a=n.g[e],t,r,i))&&(Am(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=vp(n))&&(e=n.g[e.toString()],n=-1,e&&(n=_p(e,t,r,i)),(t=-1<n?e[n]:null)&&xv(t))}function xv(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[wh])Om(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(lS(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=vp(e))?(Om(t,n),0==t.h&&(t.src=null,e[Dv]=null)):Am(n)}}}function lS(n){return n in Tv?Tv[n]:Tv[n]="on"+n}function VC(n,e){if(n.fa)n=!0;else{e=new yp(e,this);var t=n.listener,r=n.la||n.src;n.ia&&xv(n),n=t.call(r,e)}return n}function vp(n){return(n=n[Dv])instanceof bh?n:null}var Av="__closure_events_fn_"+(1e9*Math.random()>>>0);function wp(n){return"function"==typeof n?n:(n[Av]||(n[Av]=function(e){return n.handleEvent(e)}),n[Av])}function Ei(){zc.call(this),this.i=new bh(this),this.S=this,this.J=null}function Ii(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new to(e,n);else if(e instanceof to)e.target=e.target||n;else{var i=e;Pm(e=new to(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];i=Ch(u,r,!0,e)&&i}if(i=Ch(u=e.g=n,r,!0,e)&&i,i=Ch(u,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=Ch(u=e.g=t[a],r,!1,e)&&i}function Ch(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.fa&&u.capture==t){var f=u.listener,y=u.la||u.src;u.ia&&Om(n.i,u),i=!1!==f.call(y,r)&&i}}return i&&!r.defaultPrevented}fi(Ei,zc),Ei.prototype[wh]=!0,Ei.prototype.removeEventListener=function(n,e,t,r){Sv(this,n,e,t,r)},Ei.prototype.N=function(){if(Ei.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Am(t[r]);delete n.g[e],n.h--}}this.J=null},Ei.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ei.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var km=Xt.JSON.stringify;function BC(){var n=Fm;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var $C=new class UC{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new cS,n=>n.reset());class cS{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function uS(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function dS(n){Xt.setTimeout(()=>{throw n},0)}let Eh,Nm=!1,Fm=new class HC{constructor(){this.h=this.g=null}add(e,t){const r=$C.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},jC=()=>{const n=Xt.Promise.resolve(void 0);Eh=()=>{n.then(hS)}};var hS=()=>{for(var n;n=BC();){try{n.h.call(n.g)}catch(t){dS(t)}var e=$C;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Nm=!1};function Mv(n,e){Ei.call(this),this.h=n||1,this.g=e||Xt,this.j=eo(this.qb,this),this.l=Date.now()}function zC(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Pv(n,e,t){if("function"==typeof n)t&&(n=eo(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=eo(n.handleEvent,n)}return 2147483647<Number(e)?-1:Xt.setTimeout(n,e||0)}function GC(n){n.g=Pv(()=>{n.g=null,n.i&&(n.i=!1,GC(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}fi(Mv,Ei),(dt=Mv.prototype).ga=!1,dt.T=null,dt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ii(this,"tick"),this.ga&&(zC(this),this.start()))}},dt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dt.N=function(){Mv.$.N.call(this),zC(this),delete this.g};class qC extends zc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:GC(this)}N(){super.N(),this.g&&(Xt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ih(n){zc.call(this),this.h=n,this.g={}}fi(Ih,zc);var Ov=[];function WC(n,e,t,r){Array.isArray(t)||(t&&(Ov[0]=t.toString()),t=Ov);for(var i=0;i<t.length;i++){var a=Rm(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function ZC(n){Mm(n.g,function(e,t){this.g.hasOwnProperty(t)&&xv(e)},n),n.g={}}function bp(){this.g=!0}function Dh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Cp(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<i.length;u++)i[u]=""}}}return km(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Ih.prototype.N=function(){Ih.$.N.call(this),ZC(this)},Ih.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},bp.prototype.Ea=function(){this.g=!1},bp.prototype.info=function(){};var Gc={},Rv=null;function Ep(){return Rv=Rv||new Ei}function kv(n){to.call(this,Gc.Ta,n)}function Th(n){const e=Ep();Ii(e,new kv(e))}function Nv(n,e){to.call(this,Gc.STAT_EVENT,n),this.stat=e}function go(n){const e=Ep();Ii(e,new Nv(e,n))}function mS(n,e){to.call(this,Gc.Ua,n),this.size=e}function Sh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Xt.setTimeout(function(){n()},e)}Gc.Ta="serverreachability",fi(kv,to),Gc.STAT_EVENT="statevent",fi(Nv,to),Gc.Ua="timingevent",fi(mS,to);var Lm={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},KC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Fv(){}function xh(){}Fv.prototype.h=null;var Lv,Ip={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Dp(){to.call(this,"d")}function xs(){to.call(this,"c")}function Ah(){}function Jl(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Ih(this),this.P=yS,this.V=new Mv(n=vv?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new QC}function QC(){this.i=null,this.g="",this.h=!1}fi(Dp,to),fi(xs,to),fi(Ah,Fv),Ah.prototype.g=function(){return new XMLHttpRequest},Ah.prototype.i=function(){return{}},Lv=new Ah;var yS=45e3,Vv={},sd={};function Mh(n,e,t){n.L=1,n.v=Ap(Xl(e)),n.s=t,n.S=!0,JC(n,null)}function JC(n,e){n.G=Date.now(),ad(n),n.A=Xl(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),bS(t.i,"t",r),n.C=0,t=n.l.J,n.h=new QC,n.g=Fp(n.l,t?e:null,!n.s),0<n.O&&(n.M=new qC(eo(n.Pa,n,n.g),n.O)),WC(n.U,n.g,"readystatechange",n.nb),e=n.I?kC(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Th(),function fS(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),y=0;y<f.length;y++){var I=f[y].split("=");if(1<I.length){var x=I[0];I=I[1];var R=x.split("_");u=2<=R.length&&"type"==R[1]?u+(x+"=")+I+"&":u+(x+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.W,n.s)}function XC(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Uv(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=eE(n,t),i==sd){4==e&&(n.o=4,go(14),r=!1),Dh(n.j,n.m,null,"[Incomplete Response]");break}if(i==Vv){n.o=4,go(15),Dh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Dh(n.j,n.m,i,null),Sp(n,i)}XC(n)&&i!=sd&&i!=Vv&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,go(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),wE(e),e.M=!0,go(11))):(Dh(n.j,n.m,t,"[Invalid Chunked Response]"),Ph(n),Tp(n))}function eE(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?sd:(t=Number(e.substring(t,r)),isNaN(t)?Vv:(r+=1)+t>e.length?sd:(e=e.slice(r,r+t),n.C=r+t,e))}function ad(n){n.Y=Date.now()+n.P,Bv(n,n.P)}function Bv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Sh(eo(n.lb,n),e)}function Vm(n){n.B&&(Xt.clearTimeout(n.B),n.B=null)}function Tp(n){0==n.l.H||n.J||OS(n.l,n)}function Ph(n){Vm(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,zC(n.V),ZC(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function Sp(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||zm(t.i,n)))if(!n.K&&zm(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Qv(t),Np(t)}vE(t),go(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Sh(eo(t.ib,t),6e3));if(1>=cE(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else al(t,11)}else if((n.K||t.g==n)&&Qv(t),!pp(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let I=i[e];if(t.V=I[0],I=I[1],2==t.H)if("c"==I[0]){t.K=I[1],t.pa=I[2];const x=I[3];null!=x&&(t.ra=x,t.l.info("VER="+t.ra));const R=I[4];null!=R&&(t.Ga=R,t.l.info("SVER="+t.Ga));const j=I[5];null!=j&&"number"==typeof j&&0<j&&(t.L=r=1.5*j,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const X=n.g;if(X){const he=X.g?X.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(he){var a=r.i;a.g||-1==he.indexOf("spdy")&&-1==he.indexOf("quic")&&-1==he.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(jv(a,a.h),a.h=null))}if(r.F){const Be=X.g?X.g.getResponseHeader("X-HTTP-Session-Id"):null;Be&&(r.Da=Be,cr(r.I,r.F,Be))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var u=n;if((r=t).wa=Jv(r,r.J?r.pa:null,r.Y),u.K){uE(r.i,u);var f=u,y=r.L;y&&f.setTimeout(y),f.B&&(Vm(f),ad(f)),r.g=u}else MS(r);0<t.j.length&&Km(t)}else"stop"!=I[0]&&"close"!=I[0]||al(t,7);else 3==t.H&&("stop"==I[0]||"close"==I[0]?"stop"==I[0]?al(t,7):Zm(t):"noop"!=I[0]&&t.h&&t.h.Aa(I),t.A=0)}Th()}catch{}}function Um(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Tm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function tE(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Tm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Hv(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Tm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(dt=Jl.prototype).setTimeout=function(n){this.P=n},dt.nb=function(n){n=n.target;const e=this.M;e&&3==ma(n)?e.l():this.Pa(n)},dt.Pa=function(n){try{if(n==this.g)e:{const x=ma(this.g);var e=this.g.Ia();if(this.g.da(),!(3>x)&&(3!=x||vv||this.g&&(this.h.h||this.g.ja()||Zv(this.g)))){this.J||4!=x||7==e||Th(),Vm(this);var t=this.g.da();this.ca=t;t:if(XC(this)){var r=Zv(this.g);n="";var i=r.length,a=4==ma(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ph(this),Tp(this);var u="";break t}this.h.i=new Xt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==t,function pS(n,e,t,r,i,a,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.W,x,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,y=this.g;if((f=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pp(f)){var I=f;break t}}I=null}if(!(t=I)){this.i=!1,this.o=3,go(12),Ph(this),Tp(this);break e}Dh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sp(this,t)}this.S?(Uv(this,x,u),vv&&this.i&&3==x&&(WC(this.U,this.V,"tick",this.mb),this.V.start())):(Dh(this.j,this.m,u,null),Sp(this,u)),4==x&&Ph(this),this.i&&!this.J&&(4==x?OS(this.l,this):(this.i=!1,ad(this)))}else(function TS(n){const e={};n=(n.g&&2<=ma(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(pp(n[r]))continue;var t=uS(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const a=e[i]||[];e[i]=a,a.push(t)}!function aS(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<u.indexOf("Unknown SID")?(this.o=3,go(12)):(this.o=0,go(13)),Ph(this),Tp(this)}}}catch{}},dt.mb=function(){if(this.g){var n=ma(this.g),e=this.g.ja();this.C<e.length&&(Vm(this),Uv(this,n,e),this.i&&4!=n&&ad(this))}},dt.cancel=function(){this.J=!0,Ph(this)},dt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function gS(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Th(),go(17)),Ph(this),this.o=2,Tp(this)):Bv(this,this.Y-n)};var Bm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ld(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ld){this.h=n.h,Hm(this,n.j),this.s=n.s,this.g=n.g,xp(this,n.m),this.l=n.l;var e=n.i,t=new pi;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),$m(this,t),this.o=n.o}else n&&(e=String(n).match(Bm))?(this.h=!1,Hm(this,e[1]||"",!0),this.s=Oh(e[2]||""),this.g=Oh(e[3]||"",!0),xp(this,e[4]),this.l=Oh(e[5]||"",!0),$m(this,e[6]||"",!0),this.o=Oh(e[7]||"")):(this.h=!1,this.i=new pi(null,this.h))}function Xl(n){return new ld(n)}function Hm(n,e,t){n.j=t?Oh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function xp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function $m(n,e,t){e instanceof pi?(n.i=e,function aE(n,e){e&&!n.j&&(Qo(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(oE(this,r),bS(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Rh(e,rE)),n.i=new pi(e,n.h))}function cr(n,e,t){n.i.set(e,t)}function Ap(n){return cr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Oh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Rh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,vS),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function vS(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ld.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Rh(e,$v,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Rh(e,$v,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Rh(t,"/"==t.charAt(0)?wS:nE,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Rh(t,iE)),n.join("")};var $v=/[#\/\?@]/g,nE=/[#\?:]/g,wS=/[#\?]/g,rE=/[#\?@]/g,iE=/#/g;function pi(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Qo(n){n.g||(n.g=new Map,n.h=0,n.i&&function _S(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function oE(n,e){Qo(n),e=Mp(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function sE(n,e){return Qo(n),e=Mp(n,e),n.g.has(e)}function bS(n,e,t){oE(n,e),0<t.length&&(n.i=null,n.g.set(Mp(n,e),yv(t)),n.h+=t.length)}function Mp(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function kh(n){this.l=n||CS,n=Xt.PerformanceNavigationTiming?0<(n=Xt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Xt.g&&Xt.g.Ka&&Xt.g.Ka()&&Xt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dt=pi.prototype).add=function(n,e){Qo(this),this.i=null,n=Mp(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},dt.forEach=function(n,e){Qo(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},dt.ta=function(){Qo(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},dt.Z=function(n){Qo(this);let e=[];if("string"==typeof n)sE(this,n)&&(e=e.concat(this.g.get(Mp(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},dt.set=function(n,e){return Qo(this),this.i=null,sE(this,n=Mp(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},dt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),u=this.Z(r);for(r=0;r<u.length;r++){var i=a;""!==u[r]&&(i+="="+encodeURIComponent(String(u[r]))),n.push(i)}}return this.i=n.join("&")};var CS=10;function jm(n){return!!n.h||!!n.g&&n.g.size>=n.j}function cE(n){return n.h?1:n.g?n.g.size:0}function zm(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function jv(n,e){n.g?n.g.add(e):n.h=e}function uE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function dE(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return yv(n.i)}function hE(){this.g=new class{stringify(n){return Xt.JSON.stringify(n,void 0)}parse(n){return Xt.JSON.parse(n,void 0)}}}function fE(n,e,t){const r=t||"";try{Um(n,function(i,a){let u=i;fp(i)&&(u=km(i)),e.push(r+a+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Nh(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function qm(n){this.l=n.fc||null,this.j=n.ob||!1}function Pp(n,e){Ei.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Gv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kh.prototype.cancel=function(){if(this.i=dE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},fi(qm,Fv),qm.prototype.g=function(){return new Pp(this.l,this.j)},qm.prototype.i=function(n){return function(){return n}}({}),fi(Pp,Ei);var Gv=0;function qv(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function sl(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Op(n)}function Op(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(dt=Pp.prototype).open=function(n,e){if(this.readyState!=Gv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Op(this)},dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Xt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sl(this)),this.readyState=Gv},dt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Op(this)),this.g&&(this.readyState=3,Op(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Xt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qv(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},dt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?sl(this):Op(this),3==this.readyState&&qv(this)}},dt.Za=function(n){this.g&&(this.response=this.responseText=n,sl(this))},dt.Ya=function(n){this.g&&(this.response=n,sl(this))},dt.ka=function(){this.g&&sl(this)},dt.setRequestHeader=function(n,e){this.v.append(n,e)},dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Pp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var pE=Xt.JSON.parse;function vr(n){Ei.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ES,this.L=this.M=!1}fi(vr,Ei);var ES="",IS=/^https?$/i,CP=["POST","PUT"];function gE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,mE(n),Rp(n)}function mE(n){n.F||(n.F=!0,Ii(n,"complete"),Ii(n,"error"))}function Wv(n){if(n.h&&typeof Dm<"u"&&(!n.C[1]||4!=ma(n)||2!=n.da()))if(n.v&&4==ma(n))Pv(n.La,0,n);else if(Ii(n,"readystatechange"),4==ma(n)){n.h=!1;try{const u=n.da();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===u){var i=String(n.I).match(Bm)[1]||null;!i&&Xt.self&&Xt.self.location&&(i=Xt.self.location.protocol.slice(0,-1)),r=!IS.test(i?i.toLowerCase():"")}t=r}if(t)Ii(n,"complete"),Ii(n,"success");else{n.m=6;try{var a=2<ma(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",mE(n)}}finally{Rp(n)}}}function Rp(n,e){if(n.g){yE(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Ii(n,"ready");try{t.onreadystatechange=r}catch{}}}function yE(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Xt.clearTimeout(n.A),n.A=null)}function ma(n){return n.g?n.g.readyState:0}function Zv(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case ES:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function _E(n){let e="";return Mm(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function Wm(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=_E(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):cr(n,e,t))}function kp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Kv(n){this.Ga=0,this.j=[],this.l=new bp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=kp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=kp("baseRetryDelayMs",5e3,n),this.hb=kp("retryDelaySeedMs",1e4,n),this.eb=kp("forwardChannelMaxRetries",2,n),this.xa=kp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new kh(n&&n.concurrentRequestLimit),this.Ja=new hE,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Zm(n){if(Yv(n),3==n.H){var e=n.W++,t=Xl(n.I);if(cr(t,"SID",n.K),cr(t,"RID",e),cr(t,"TYPE","terminate"),Fh(n,t),(e=new Jl(n,n.l,e)).L=2,e.v=Ap(Xl(t)),t=!1,Xt.navigator&&Xt.navigator.sendBeacon)try{t=Xt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Xt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Fp(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ad(e)}kS(n)}function Np(n){n.g&&(wE(n),n.g.cancel(),n.g=null)}function Yv(n){Np(n),n.u&&(Xt.clearTimeout(n.u),n.u=null),Qv(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Xt.clearTimeout(n.m),n.m=null)}function Km(n){if(!jm(n.i)&&!n.m){n.m=!0;var e=n.Na;Eh||jC(),Nm||(Eh(),Nm=!0),Fm.add(e,n),n.C=0}}function xS(n,e){var t;t=e?e.m:n.W++;const r=Xl(n.I);cr(r,"SID",n.K),cr(r,"RID",t),cr(r,"AID",n.V),Fh(n,r),n.o&&n.s&&Wm(r,n.o,n.s),t=new Jl(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=AS(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),jv(n.i,t),Mh(t,r,e)}function Fh(n,e){n.na&&Mm(n.na,function(t,r){cr(e,r,t)}),n.h&&Um({},function(t,r){cr(e,r,t)})}function AS(n,e,t){t=Math.min(n.j.length,t);var r=n.h?eo(n.h.Va,n.h,n):null;e:{var i=n.j;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=i[0].g,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let y=0;y<t;y++){let I=i[y].g;const x=i[y].map;if(I-=a,0>I)a=Math.max(0,i[y].g-100),f=!1;else try{fE(x,u,"req"+I+"_")}catch{r&&r(x)}}if(f){r=u.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function MS(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Eh||jC(),Nm||(Eh(),Nm=!0),Fm.add(e,n),n.A=0}}function vE(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Sh(eo(n.Ma,n),RS(n,n.A)),n.A++,0))}function wE(n){null!=n.B&&(Xt.clearTimeout(n.B),n.B=null)}function PS(n){n.g=new Jl(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Xl(n.wa);cr(e,"RID","rpc"),cr(e,"SID",n.K),cr(e,"AID",n.V),cr(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&cr(e,"TO",n.qa),cr(e,"TYPE","xmlhttp"),Fh(n,e),n.o&&n.s&&Wm(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Ap(Xl(e)),t.s=null,t.S=!0,JC(t,n)}function Qv(n){null!=n.v&&(Xt.clearTimeout(n.v),n.v=null)}function OS(n,e){var t=null;if(n.g==e){Qv(n),wE(n),n.g=null;var r=2}else{if(!zm(n.i,e))return;t=e.F,uE(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Ii(r=Ep(),new mS(r,t)),Km(n)}else MS(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function SS(n,e){return!(cE(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Sh(eo(n.Na,n,e),RS(n,n.C)),n.C++,0)))}(n,e)||2==r&&vE(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:al(n,5);break;case 4:al(n,10);break;case 3:al(n,6);break;default:al(n,2)}}function RS(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function al(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=eo(n.pb,n);t||(t=new ld("//www.google.com/images/cleardot.gif"),Xt.location&&"http"==Xt.location.protocol||Hm(t,"https"),Ap(t)),function Gm(n,e){const t=new bp;if(Xt.Image){const r=new Image;r.onload=Sm(Nh,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Sm(Nh,t,r,"TestLoadImage: error",!1,e),r.onabort=Sm(Nh,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Sm(Nh,t,r,"TestLoadImage: timeout",!1,e),Xt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else go(2);n.H=0,n.h&&n.h.za(e),kS(n),Yv(n)}function kS(n){if(n.H=0,n.ma=[],n.h){const e=dE(n.i);(0!=e.length||0!=n.j.length)&&(_v(n.ma,e),_v(n.ma,n.j),n.i.i.length=0,yv(n.j),n.j.length=0),n.h.ya()}}function Jv(n,e,t){var r=t instanceof ld?Xl(t):new ld(t);if(""!=r.g)e&&(r.g=e+"."+r.g),xp(r,r.m);else{var i=Xt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new ld(null);r&&Hm(a,r),e&&(a.g=e),i&&xp(a,i),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&cr(r,t,e),cr(r,"VER",n.ra),Fh(n,r),r}function Fp(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new vr(t&&n.Ha&&!n.va?new qm({ob:!0}):n.va)).Oa(n.J),e}function Xv(){}function Lp(){if(id&&!(10<=Number(iS)))throw Error("Environmental error: no available transport.")}function As(n,e){Ei.call(this),this.g=new Kv(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!pp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!pp(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Lh(this)}function Ym(n){Dp.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function ew(){xs.call(this),this.status=1}function Lh(n){this.g=n}function ll(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function CE(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],u=(e=n.g[0])+(a^(t=n.g[1])&((i=n.g[2])^a))+r[0]+3614090360&4294967295;u=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=t+(u<<7&4294967295|u>>>25))+((u=a+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=e+(a^t&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=a+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=e+(a^t&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=a+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=e+(a^t&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=a+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=i+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=t+(e^i&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=e+(i^a&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=a+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=t+(a^e&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=e+(i^a&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=a+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=t+(a^e&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=e+(i^a&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=a+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=t+(a^e&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=e+(i^a&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=a+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=i+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=t+(a^e&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=e+(t^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=a+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=i+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=a+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=i+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^i^a)+r[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=a+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=i+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^a^e)+r[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=e+(t^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=a+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=i+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=t+(i^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=e+(i^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=a+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=i+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=t+(a^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=e+(i^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=a+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=i+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=t+(a^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=e+(i^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=a+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=i+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=t+(a^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((a=(e=t+((u=e+(i^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=a+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((i=a+((u=i+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+a&4294967295}function Wn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var a=0|n[i];r&&a==e||(t[i]=a,r=!1)}this.g=t}(dt=vr.prototype).Oa=function(n){this.M=n},dt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Lv.g(),this.C=function YC(n){return n.h||(n.h=n.i())}(this.u?this.u:Lv),this.g.onreadystatechange=eo(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void gE(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Xt.FormData&&n instanceof Xt.FormData,!(0<=vh(CP,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,u]of t)this.g.setRequestHeader(a,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{yE(this),0<this.B&&((this.L=function DS(n){return id&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=eo(this.ua,this)):this.A=Pv(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){gE(this,a)}},dt.ua=function(){typeof Dm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ii(this,"timeout"),this.abort(8))},dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ii(this,"complete"),Ii(this,"abort"),Rp(this))},dt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rp(this,!0)),vr.$.N.call(this)},dt.La=function(){this.s||(this.G||this.v||this.l?Wv(this):this.kb())},dt.kb=function(){Wv(this)},dt.isActive=function(){return!!this.g},dt.da=function(){try{return 2<ma(this)?this.g.status:-1}catch{return-1}},dt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},dt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),pE(e)}},dt.Ia=function(){return this.m},dt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(dt=Kv.prototype).ra=8,dt.H=1,dt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Jl(this,this.l,n);let a=this.s;if(this.U&&(a?(a=kC(a),Pm(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=AS(this,i,e),cr(t=Xl(this.I),"RID",n),cr(t,"CVER",22),this.F&&cr(t,"X-HTTP-Session-Id",this.F),Fh(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(_E(a)))+"&"+e:this.o&&Wm(t,this.o,a)),jv(this.i,i),this.bb&&cr(t,"TYPE","init"),this.P?(cr(t,"$req",e),cr(t,"SID","null"),i.aa=!0,Mh(i,t,null)):Mh(i,t,e),this.H=2}}else 3==this.H&&(n?xS(this,n):0==this.j.length||jm(this.i)||xS(this))},dt.Ma=function(){if(this.u=null,PS(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Sh(eo(this.jb,this),n)}},dt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,go(10),Np(this),PS(this))},dt.ib=function(){null!=this.v&&(this.v=null,Np(this),vE(this),go(19))},dt.pb=function(n){n?(this.l.info("Successfully pinged google.com"),go(2)):(this.l.info("Failed to ping google.com"),go(1))},dt.isActive=function(){return!!this.h&&this.h.isActive(this)},(dt=Xv.prototype).Ba=function(){},dt.Aa=function(){},dt.za=function(){},dt.ya=function(){},dt.isActive=function(){return!0},dt.Va=function(){},Lp.prototype.g=function(n,e){return new As(n,e)},fi(As,Ei),As.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;go(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=Jv(n,null,n.Y),Km(n)},As.prototype.close=function(){Zm(this.g)},As.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=km(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Km(e)},As.prototype.N=function(){this.g.h=null,delete this.j,Zm(this.g),delete this.g,As.$.N.call(this)},fi(Ym,Dp),fi(ew,xs),fi(Lh,Xv),Lh.prototype.Ba=function(){Ii(this.g,"a")},Lh.prototype.Aa=function(n){Ii(this.g,new Ym(n))},Lh.prototype.za=function(n){Ii(this.g,new ew)},Lh.prototype.ya=function(){Ii(this.g,"b")},fi(ll,function bE(){this.blockSize=-1}),ll.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ll.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,a=0;a<e;){if(0==i)for(;a<=t;)CE(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[i++]=n.charCodeAt(a++),i==this.blockSize){CE(this,r),i=0;break}}else for(;a<e;)if(r[i++]=n[a++],i==this.blockSize){CE(this,r),i=0;break}}this.h=i,this.i+=e},ll.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var NS={};function Vh(n){return-128<=n&&128>n?function rS(n,e){var t=NS;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Wn([0|e],0>e?-1:0)}):new Wn([0|n],0>n?-1:0)}function cl(n){if(isNaN(n)||!isFinite(n))return Vp;if(0>n)return Ui(cl(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=EE;return new Wn(e,0)}var EE=4294967296,Vp=Vh(0),tw=Vh(1),IE=Vh(16777216);function ec(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function ya(n){return-1==n.h}function Ui(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Wn(t,~n.h).add(tw)}function Up(n,e){return n.add(Ui(e))}function Bp(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Qm(n,e){this.g=n,this.h=e}function To(n,e){if(ec(e))throw Error("division by zero");if(ec(n))return new Qm(Vp,Vp);if(ya(n))return e=To(Ui(n),e),new Qm(Ui(e.g),Ui(e.h));if(ya(e))return e=To(n,Ui(e)),new Qm(Ui(e.g),e.h);if(30<n.g.length){if(ya(n)||ya(e))throw Error("slowDivide_ only works with positive integers.");for(var t=tw,r=e;0>=r.X(n);)t=DE(t),r=DE(r);var i=qc(t,1),a=qc(r,1);for(r=qc(r,2),t=qc(t,2);!ec(r);){var u=a.add(r);0>=u.X(n)&&(i=i.add(t),a=u),r=qc(r,1),t=qc(t,1)}return e=Up(n,i.R(e)),new Qm(i,e)}for(i=Vp;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),u=(a=cl(t)).R(e);ya(u)||0<u.X(n);)u=(a=cl(t-=r)).R(e);ec(a)&&(a=tw),i=i.add(a),n=Up(n,u)}return new Qm(i,n)}function DE(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Wn(t,n.h)}function qc(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],a=0;a<r;a++)i[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new Wn(i,n.h)}(dt=Wn.prototype).ea=function(){if(ya(this))return-Ui(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:EE+r)*e,e*=EE}return n},dt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ec(this))return"0";if(ya(this))return"-"+Ui(this).toString(n);for(var e=cl(Math.pow(n,6)),t=this,r="";;){var i=To(t,e).g,a=((0<(t=Up(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ec(t=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},dt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},dt.X=function(n){return ya(n=Up(this,n))?-1:ec(n)?0:1},dt.abs=function(){return ya(this)?Ui(this):this},dt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var a=r+(65535&this.D(i))+(65535&n.D(i)),u=(a>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=u>>>16,t[i]=(u&=65535)<<16|(a&=65535)}return new Wn(t,-2147483648&t[t.length-1]?-1:0)},dt.R=function(n){if(ec(this)||ec(n))return Vp;if(ya(this))return ya(n)?Ui(this).R(Ui(n)):Ui(Ui(this).R(n));if(ya(n))return Ui(this.R(Ui(n)));if(0>this.X(IE)&&0>n.X(IE))return cl(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var a=this.D(r)>>>16,u=65535&this.D(r),f=n.D(i)>>>16,y=65535&n.D(i);t[2*r+2*i]+=u*y,Bp(t,2*r+2*i),t[2*r+2*i+1]+=a*y,Bp(t,2*r+2*i+1),t[2*r+2*i+1]+=u*f,Bp(t,2*r+2*i+1),t[2*r+2*i+2]+=a*f,Bp(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Wn(t,0)},dt.gb=function(n){return To(this,n).h},dt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Wn(t,this.h&n.h)},dt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Wn(t,this.h|n.h)},dt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Wn(t,this.h^n.h)},Lp.prototype.createWebChannel=Lp.prototype.g,As.prototype.send=As.prototype.u,As.prototype.open=As.prototype.m,As.prototype.close=As.prototype.close,Lm.NO_ERROR=0,Lm.TIMEOUT=8,Lm.HTTP_ERROR=6,KC.COMPLETE="complete",xh.EventType=Ip,Ip.OPEN="a",Ip.CLOSE="b",Ip.ERROR="c",Ip.MESSAGE="d",Ei.prototype.listen=Ei.prototype.O,vr.prototype.listenOnce=vr.prototype.P,vr.prototype.getLastError=vr.prototype.Sa,vr.prototype.getLastErrorCode=vr.prototype.Ia,vr.prototype.getStatus=vr.prototype.da,vr.prototype.getResponseJson=vr.prototype.Wa,vr.prototype.getResponseText=vr.prototype.ja,vr.prototype.send=vr.prototype.ha,vr.prototype.setWithCredentials=vr.prototype.Oa,ll.prototype.digest=ll.prototype.l,ll.prototype.reset=ll.prototype.reset,ll.prototype.update=ll.prototype.j,Wn.prototype.add=Wn.prototype.add,Wn.prototype.multiply=Wn.prototype.R,Wn.prototype.modulo=Wn.prototype.gb,Wn.prototype.compare=Wn.prototype.X,Wn.prototype.toNumber=Wn.prototype.ea,Wn.prototype.toString=Wn.prototype.toString,Wn.prototype.getBits=Wn.prototype.D,Wn.fromNumber=cl,Wn.fromString=function FS(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Ui(FS(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=cl(Math.pow(e,8)),r=Vp,i=0;i<n.length;i+=8){var a=Math.min(8,n.length-i),u=parseInt(n.substring(i,i+a),e);8>a?(a=cl(Math.pow(e,a)),r=r.R(a).add(cl(u))):r=(r=r.R(t)).add(cl(u))}return r};var LS=il.createWebChannelTransport=function(){return new Lp},Ms=il.getStatEventTarget=function(){return Ep()},nw=il.ErrorCode=Lm,rw=il.EventType=KC,VS=il.Event=Gc,TE=il.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},iw=il.FetchXmlHttpFactory=qm,Hp=il.WebChannel=xh,SE=il.XhrIo=vr,US=il.Md5=ll,cd=il.Integer=Wn;const ow="@firebase/firestore";class Di{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Di.UNAUTHENTICATED=new Di(null),Di.GOOGLE_CREDENTIALS=new Di("google-credentials-uid"),Di.FIRST_PARTY=new Di("first-party-uid"),Di.MOCK_USER=new Di("mock-user");let ud="9.23.0";const Wc=new Hc.Yd("@firebase/firestore");function $p(){return Wc.logLevel}function ze(n,...e){if(Wc.logLevel<=Hc.in.DEBUG){const t=e.map(sw);Wc.debug(`Firestore (${ud}): ${n}`,...t)}}function Pr(n,...e){if(Wc.logLevel<=Hc.in.ERROR){const t=e.map(sw);Wc.error(`Firestore (${ud}): ${n}`,...t)}}function ii(n,...e){if(Wc.logLevel<=Hc.in.WARN){const t=e.map(sw);Wc.warn(`Firestore (${ud}): ${n}`,...t)}}function sw(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function _t(n="Unexpected state"){const e=`FIRESTORE (${ud}) INTERNAL ASSERTION FAILED: `+n;throw Pr(e),new Error(e)}function Rt(n,e){n||_t()}function lt(n,e){return n}const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ue extends cn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ti{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class aw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Di.UNAUTHENTICATED))}shutdown(){}}class xE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class EP{constructor(e){this.t=e,this.currentUser=Di.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=I=>this.i!==i?(i=this.i,t(I)):Promise.resolve();let u=new Ti;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ti,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const I=u;e.enqueueRetryable((0,Te.Z)(function*(){yield I.promise,yield a(r.currentUser)}))},y=I=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=I,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(I=>y(I)),setTimeout(()=>{if(!this.auth){const I=this.t.getImmediate({optional:!0});I?y(I):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ti)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Rt("string"==typeof r.accessToken),new aw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Rt(null===e||"string"==typeof e),new Di(e)}}class lw{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Di.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class AE{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new lw(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Di.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ME{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=a=>{null!=a.error&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.T;return this.T=a.token,ze("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?i(a):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Rt("string"==typeof t.token),this.T=t.token,new cw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function PE(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class jp{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=PE(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Kt(n,e){return n<e?-1:n>e?1:0}function dd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function OE(n){return n+"\0"}class hr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ue(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ue(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ue(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ue(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return hr.fromMillis(Date.now())}static fromDate(e){return hr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new hr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class kt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new kt(e)}static min(){return new kt(new hr(0,0))}static max(){return new kt(new hr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class zp{constructor(e,t,r){void 0===t?t=0:t>e.length&&_t(),void 0===r?r=e.length-t:r>e.length-t&&_t(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===zp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof zp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),u=t.get(i);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Tn extends zp{construct(e,t,r){return new Tn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ue(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Tn(t)}static emptyPath(){return new Tn([])}}const IP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jr extends zp{construct(e,t,r){return new Jr(e,t,r)}static isValidIdentifier(e){return IP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Jr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Ue(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Ue(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Ue(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===f?(u=!u,i++):"."!==f||u?(r+=f,i++):(a(),i++)}if(a(),u)throw new Ue(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jr(t)}static emptyPath(){return new Jr([])}}class ot{constructor(e){this.path=e}static fromPath(e){return new ot(Tn.fromString(e))}static fromName(e){return new ot(Tn.fromString(e).popFirst(5))}static empty(){return new ot(Tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Tn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Tn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new Tn(e.slice()))}}class Jm{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function uw(n){return n.fields.find(e=>2===e.kind)}function hd(n){return n.fields.filter(e=>2!==e.kind)}Jm.UNKNOWN_ID=-1;class dw{constructor(e,t){this.fieldPath=e,this.kind=t}}class Xm{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Xm(0,no.min())}}function jS(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=kt.fromTimestamp(1e9===r?new hr(t+1,0):new hr(t,r));return new no(i,ot.empty(),e)}function RE(n){return new no(n.readTime,n.key,-1)}class no{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new no(kt.min(),ot.empty(),-1)}static max(){return new no(kt.max(),ot.empty(),-1)}}function hw(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=ot.comparator(n.documentKey,e.documentKey),0!==t?t:Kt(n.largestBatchId,e.largestBatchId))}const kE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function So(n){return ey.apply(this,arguments)}function ey(){return ey=(0,Te.Z)(function*(n){if(n.code!==ye.FAILED_PRECONDITION||n.message!==kE)throw n;ze("LocalStore","Unexpectedly lost primary lease")}),ey.apply(this,arguments)}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,r)=>{t(e)})}static reject(e){return new ue((t,r)=>{r(e)})}static waitFor(e){return new ue((t,r)=>{let i=0,a=0,u=!1;e.forEach(f=>{++i,f.next(()=>{++a,u&&a===i&&t()},y=>r(y))}),u=!0,a===i&&t()})}static or(e){let t=ue.resolve(!1);for(const r of e)t=t.next(i=>i?ue.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new ue((r,i)=>{const a=e.length,u=new Array(a);let f=0;for(let y=0;y<a;y++){const I=y;t(e[I]).next(x=>{u[I]=x,++f,f===a&&r(u)},x=>i(x))}})}static doWhile(e,t){return new ue((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class Uh{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Ti,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new fd(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=NE(r.target.error);this.v.reject(new fd(e,i))}}static open(e,t,r,i){try{return new Uh(t,e.transaction(i,r))}catch(a){throw new fd(t,a)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(ze("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new SP(t)}}class _a{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===_a.S((0,cn.z$)())&&Pr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ze("SimpleDb","Removing database:",e),Bh(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,cn.hl)())return!1;if(_a.C())return!0;const e=(0,cn.z$)(),t=_a.S(e),r=0<t&&t<10,i=_a.N(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,Te.Z)(function*(){return t.db||(ze("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{r(u.target.result)},a.onblocked=()=>{i(new fd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;i("VersionError"===f.name?new Ue(ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Ue(ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new fd(e,f))},a.onupgradeneeded=u=>{ze("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.V.O(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{ze("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,Te.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.$(e);const y=Uh.open(a.db,e,u?"readonly":"readwrite",r),I=i(y).next(x=>(y.P(),x)).catch(x=>(y.abort(x),ue.reject(x))).toPromise();return I.catch(()=>{}),yield y.R,I}catch(y){const I=y,x="FirebaseError"!==I.name&&f<3;if(ze("SimpleDb","Transaction failed with error:",I.message,"Retrying:",x),a.close(),!x)return Promise.reject(I)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class pw{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Bh(this.L.delete())}}class fd extends Ue{constructor(e,t){super(ye.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function va(n){return"IndexedDbTransactionError"===n.name}class SP{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ze("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ze("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Bh(r)}add(e){return ze("SimpleDb","ADD",this.store.name,e,e),Bh(this.store.add(e))}get(e){return Bh(this.store.get(e)).next(t=>(void 0===t&&(t=null),ze("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ze("SimpleDb","DELETE",this.store.name,e),Bh(this.store.delete(e))}count(){return ze("SimpleDb","COUNT",this.store.name),Bh(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.W(i,(u,f)=>{a.push(f)}).next(()=>a)}{const i=this.store.getAll(r.range);return new ue((a,u)=>{i.onerror=f=>{u(f.target.error)},i.onsuccess=f=>{a(f.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ue((i,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}J(e,t){ze("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(a,u,f)=>f.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new ue((r,i)=>{t.onerror=a=>{const u=NE(a.target.error);i(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():r()}):r()}})}W(e,t){const r=[];return new ue((i,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void i();const y=new pw(f),I=t(f.primaryKey,f.value,y);if(I instanceof ue){const x=I.catch(R=>(y.done(),ue.reject(R)));r.push(x)}y.isDone?i():null===y.K?f.continue():f.continue(y.K)}}).next(()=>ue.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Bh(n){return new ue((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=NE(r.target.error);t(i)}})}let zS=!1;function NE(n){const e=_a.S((0,cn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ue("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return zS||(zS=!0,setTimeout(()=>{throw r},0)),r}}return n}class FE{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;ze("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Te.Z)(function*(){t.task=null;try{ze("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){va(r)?ze("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield So(r)}yield t.et(6e4)}))}}class GS{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Te.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,a=!0;return ue.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return ze("IndexBackiller",`Processing collection: ${u}`),this.it(e,u,i).next(f=>{i-=f,r.add(u)});a=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.rt(i,a)).next(f=>(ze("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>u.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,a)=>{const u=RE(a);hw(u,r)>0&&(r=u)}),new no(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Jo=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Gp(n){return null==n}function qp(n){return 0===n&&1/n==-1/0}function gw(n){return"number"==typeof n&&Number.isInteger(n)&&!qp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Bi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=VE(e)),e=LE(n.get(t),e);return VE(e)}function LE(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function VE(n){return n+"\x01\x01"}function ul(n){const e=n.length;if(Rt(e>=2),2===e)return Rt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Tn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&_t(),n.charAt(u+1)){case"\x01":const f=n.substring(a,u);let y;0===i.length?y=f:(i+=f,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(a,u),i+="\0";break;case"\x11":i+=n.substring(a,u+1);break;default:_t()}a=u+2}return new Tn(r)}const mw=["userId","batchId"];function Hh(n,e){return[n,Bi(e)]}function qS(n,e,t){return[n,Bi(e),t]}const UE={},yw=["prefixPath","collectionGroup","readTime","documentId"],WS=["prefixPath","collectionGroup","documentId"],ZS=["collectionGroup","readTime","prefixPath","documentId"],xP=["canonicalId","targetId"],AP=["targetId","path"],KS=["path","targetId"],YS=["collectionId","parent"],QS=["indexId","uid"],MP=["uid","sequenceNumber"],PP=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],OP=["indexId","uid","orderedDocumentKey"],RP=["userId","collectionPath","documentId"],kP=["userId","collectionPath","largestBatchId"],JS=["userId","collectionGroup","largestBatchId"],XS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],NP=[...XS,"documentOverlays"],ex=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],tx=ex,FP=[...tx,"indexConfiguration","indexState","indexEntries"];class BE extends fw{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function o(n,e){const t=lt(n);return _a.M(t.ht,e)}function s(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function l(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function d(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class h{constructor(e,t){this.comparator=e,this.root=t||_.EMPTY}insert(e,t){return new h(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_.BLACK,null,null))}remove(e){return new h(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new g(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new g(this.root,e,this.comparator,!1)}getReverseIterator(){return new g(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new g(this.root,e,this.comparator,!0)}}class g{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??_.RED,this.left=i??_.EMPTY,this.right=a??_.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new _(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return _.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const e=this.left.check();if(e!==this.right.check())throw _t();return e+(this.isRed()?0:1)}}_.EMPTY=null,_.RED=!0,_.BLACK=!1,_.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(n,e,t,r,i){return this}insert(n,e,t){return new _(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class b{constructor(e){this.comparator=e,this.data=new h(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new S(this.data.getIterator())}getIteratorFrom(e){return new S(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof b)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new b(this.comparator);return t.data=e,t}}class S{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function A(n){return n.hasNext()?n.getNext():void 0}class k{constructor(e){this.fields=e,e.sort(Jr.comparator)}static empty(){return new k([])}unionWith(e){let t=new b(Jr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new k(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return dd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class $ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class re{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new $("Invalid base64 string: "+i):i}}(e);return new re(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new re(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}re.EMPTY_BYTE_STRING=new re("");const Oe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qe(n){if(Rt(!!n),"string"==typeof n){let e=0;const t=Oe.exec(n);if(Rt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ge(n.seconds),nanos:Ge(n.nanos)}}function Ge(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ht(n){return"string"==typeof n?re.fromBase64String(n):re.fromUint8Array(n)}function Vt(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function He(n){const e=n.mapValue.fields.__previous_value__;return Vt(e)?He(e):e}function Ht(n){const e=qe(n.mapValue.fields.__local_write_time__.timestampValue);return new hr(e.seconds,e.nanos)}class Vn{constructor(e,t,r,i,a,u,f,y,I){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=y,this.useFetchStreams=I}}class Un{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Un("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Un&&e.projectId===this.projectId&&e.database===this.database}}const xo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},$h={nullValue:"NULL_VALUE"};function dl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Vt(n)?4:UP(n)?9007199254740991:10:_t()}function Ps(n,e){if(n===e)return!0;const t=dl(n);if(t!==dl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ht(n).isEqual(Ht(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=qe(r.timestampValue),u=qe(i.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,ht(n.bytesValue).isEqual(ht(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Ge(r.geoPointValue.latitude)===Ge(i.geoPointValue.latitude)&&Ge(r.geoPointValue.longitude)===Ge(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ge(r.integerValue)===Ge(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Ge(r.doubleValue),u=Ge(i.doubleValue);return a===u?qp(a)===qp(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return dd(n.arrayValue.values||[],e.arrayValue.values||[],Ps);case 10:return function(r,i){const a=r.mapValue.fields||{},u=i.mapValue.fields||{};if(s(a)!==s(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!Ps(a[f],u[f])))return!1;return!0}(n,e);default:return _t()}var i}function pd(n,e){return void 0!==(n.values||[]).find(t=>Ps(t,e))}function hl(n,e){if(n===e)return 0;const t=dl(n),r=dl(e);if(t!==r)return Kt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Kt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const u=Ge(i.integerValue||i.doubleValue),f=Ge(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return ty(n.timestampValue,e.timestampValue);case 4:return ty(Ht(n),Ht(e));case 5:return Kt(n.stringValue,e.stringValue);case 6:return function(i,a){const u=ht(i),f=ht(a);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const u=i.split("/"),f=a.split("/");for(let y=0;y<u.length&&y<f.length;y++){const I=Kt(u[y],f[y]);if(0!==I)return I}return Kt(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const u=Kt(Ge(i.latitude),Ge(a.latitude));return 0!==u?u:Kt(Ge(i.longitude),Ge(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const u=i.values||[],f=a.values||[];for(let y=0;y<u.length&&y<f.length;++y){const I=hl(u[y],f[y]);if(I)return I}return Kt(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===xo.mapValue&&a===xo.mapValue)return 0;if(i===xo.mapValue)return 1;if(a===xo.mapValue)return-1;const u=i.fields||{},f=Object.keys(u),y=a.fields||{},I=Object.keys(y);f.sort(),I.sort();for(let x=0;x<f.length&&x<I.length;++x){const R=Kt(f[x],I[x]);if(0!==R)return R;const j=hl(u[f[x]],y[I[x]]);if(0!==j)return j}return Kt(f.length,I.length)}(n.mapValue,e.mapValue);default:throw _t()}}function ty(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Kt(n,e);const t=qe(n),r=qe(e),i=Kt(t.seconds,r.seconds);return 0!==i?i:Kt(t.nanos,r.nanos)}function Kc(n){return Wp(n)}function Wp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=qe(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ht(n.bytesValue).toBase64():"referenceValue"in n?ot.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const u of r.values||[])a?a=!1:i+=",",i+=Wp(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",u=!0;for(const f of i)u?u=!1:a+=",",a+=`${f}:${Wp(r.fields[f])}`;return a+"}"}(n.mapValue):_t();var e}function Zp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function nx(n){return!!n&&"integerValue"in n}function _w(n){return!!n&&"arrayValue"in n}function LP(n){return!!n&&"nullValue"in n}function VP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function HE(n){return!!n&&"mapValue"in n}function vw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return l(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=vw(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vw(n.arrayValue.values[t]);return e}return Object.assign({},n)}function UP(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function oN(n){return"nullValue"in n?$h:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Zp(Un.empty(),ot.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:_t()}function sN(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Zp(Un.empty(),ot.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?xo:_t()}function BP(n,e){const t=hl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function HP(n,e){const t=hl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class mo{constructor(e){this.value=e}static empty(){return new mo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!HE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vw(t)}setAll(e){let t=Jr.emptyPath(),r={},i=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=f.popLast()}u?r[f.lastSegment()]=vw(u):i.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());HE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ps(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];HE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){l(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new mo(vw(this.value))}}function $P(n){const e=[];return l(n.fields,(t,r)=>{const i=new Jr([t]);if(HE(r)){const a=$P(r.mapValue).fields;if(0===a.length)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)}),new k(e)}class Or{constructor(e,t,r,i,a,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Or(e,0,kt.min(),kt.min(),kt.min(),mo.empty(),0)}static newFoundDocument(e,t,r,i){return new Or(e,1,t,kt.min(),r,i,0)}static newNoDocument(e,t){return new Or(e,2,t,kt.min(),kt.min(),mo.empty(),0)}static newUnknownDocument(e,t){return new Or(e,3,t,kt.min(),kt.min(),mo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(kt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=kt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Or&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Or(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zh{constructor(e,t){this.position=e,this.inclusive=t}}function jP(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],u=n.position[i];if(r=a.field.isKeyField()?ot.comparator(ot.fromName(u.referenceValue),t.key):hl(u,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function zP(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ps(n.position[t],e.position[t]))return!1;return!0}class ny{constructor(e,t="asc"){this.field=e,this.dir=t}}function aN(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class GP{}class Sn extends GP{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new lN(e,t,r):"array-contains"===t?new dN(e,r):"in"===t?new QP(e,r):"not-in"===t?new hN(e,r):"array-contains-any"===t?new fN(e,r):new Sn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new cN(e,r):new uN(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(hl(t,this.value)):null!==t&&dl(this.value)===dl(t)&&this.matchesComparison(hl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ir extends GP{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new ir(e,t)}matches(e){return ry(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function ry(n){return"and"===n.op}function rx(n){return"or"===n.op}function ix(n){return qP(n)&&ry(n)}function qP(n){for(const e of n.filters)if(e instanceof ir)return!1;return!0}function ox(n){if(n instanceof Sn)return n.field.canonicalString()+n.op.toString()+Kc(n.value);if(ix(n))return n.filters.map(e=>ox(e)).join(",");{const e=n.filters.map(t=>ox(t)).join(",");return`${n.op}(${e})`}}function WP(n,e){return n instanceof Sn?(t=n,(r=e)instanceof Sn&&t.op===r.op&&t.field.isEqual(r.field)&&Ps(t.value,r.value)):n instanceof ir?function(t,r){return r instanceof ir&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,a,u)=>i&&WP(a,r.filters[u]),!0)}(n,e):void _t();var t,r}function ZP(n,e){const t=n.filters.concat(e);return ir.create(t,n.op)}function KP(n){return n instanceof Sn?`${(e=n).field.canonicalString()} ${e.op} ${Kc(e.value)}`:n instanceof ir?function(e){return e.op.toString()+" {"+e.getFilters().map(KP).join(" ,")+"}"}(n):"Filter";var e}class lN extends Sn{constructor(e,t,r){super(e,t,r),this.key=ot.fromName(r.referenceValue)}matches(e){const t=ot.comparator(e.key,this.key);return this.matchesComparison(t)}}class cN extends Sn{constructor(e,t){super(e,"in",t),this.keys=YP(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class uN extends Sn{constructor(e,t){super(e,"not-in",t),this.keys=YP(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function YP(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ot.fromName(r.referenceValue))}class dN extends Sn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _w(t)&&pd(t.arrayValue,this.value)}}class QP extends Sn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&pd(this.value.arrayValue,t)}}class hN extends Sn{constructor(e,t){super(e,"not-in",t)}matches(e){if(pd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!pd(this.value.arrayValue,t)}}class fN extends Sn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_w(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>pd(this.value.arrayValue,r))}}class pN{constructor(e,t=null,r=[],i=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=f,this.dt=null}}function sx(n,e=null,t=[],r=[],i=null,a=null,u=null){return new pN(n,e,t,r,i,a,u)}function Kp(n){const e=lt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>ox(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Gp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Kc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Kc(r)).join(",")),e.dt=t}return e.dt}function ww(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!aN(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!WP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!zP(n.startAt,e.startAt)&&zP(n.endAt,e.endAt)}function $E(n){return ot.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function jE(n,e){return n.filters.filter(t=>t instanceof Sn&&t.field.isEqual(e))}function JP(n,e,t){let r=$h,i=!0;for(const a of jE(n,e)){let u=$h,f=!0;switch(a.op){case"<":case"<=":u=oN(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,f=!1;break;case"!=":case"not-in":u=$h}BP({value:r,inclusive:i},{value:u,inclusive:f})<0&&(r=u,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];BP({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}function XP(n,e,t){let r=xo,i=!0;for(const a of jE(n,e)){let u=xo,f=!0;switch(a.op){case">=":case">":u=sN(a.value),f=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,f=!1;break;case"!=":case"not-in":u=xo}HP({value:r,inclusive:i},{value:u,inclusive:f})>0&&(r=u,i=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];HP({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}class gd{constructor(e,t=null,r=[],i=[],a=null,u="F",f=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=y,this.wt=null,this._t=null}}function e1(n,e,t,r,i,a,u,f){return new gd(n,e,t,r,i,a,u,f)}function iy(n){return new gd(n)}function t1(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function ax(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function zE(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function lx(n){return null!==n.collectionGroup}function Yp(n){const e=lt(n);if(null===e.wt){e.wt=[];const t=zE(e),r=ax(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new ny(t)),e.wt.push(new ny(Jr.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ny(Jr.keyField(),a))}}}return e.wt}function Xo(n){const e=lt(n);if(!e._t)if("F"===e.limitType)e._t=sx(e.path,e.collectionGroup,Yp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Yp(e))t.push(new ny(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new zh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new zh(e.startAt.position,e.startAt.inclusive):null;e._t=sx(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function cx(n,e){e.getFirstInequalityField(),zE(n);const t=n.filters.concat([e]);return new gd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function GE(n,e,t){return new gd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bw(n,e){return ww(Xo(n),Xo(e))&&n.limitType===e.limitType}function n1(n){return`${Kp(Xo(n))}|lt:${n.limitType}`}function ux(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>KP(r)).join(", ")}]`),Gp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Kc(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Kc(r)).join(",")),`Target(${t})`}(Xo(n))}; limitType=${n.limitType})`}function Cw(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):ot.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Yp(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,u){const f=jP(i,a,u);return i.inclusive?f<=0:f<0}(t.startAt,Yp(t),r)||t.endAt&&!function(i,a,u){const f=jP(i,a,u);return i.inclusive?f>=0:f>0}(t.endAt,Yp(t),r)));var t,r}function r1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function i1(n){return(e,t)=>{let r=!1;for(const i of Yp(n)){const a=gN(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function gN(n,e,t){const r=n.field.isKeyField()?ot.comparator(e.key,t.key):function(i,a,u){const f=a.data.field(i),y=u.data.field(i);return null!==f&&null!==y?hl(f,y):_t()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return _t()}}class md{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){l(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return d(this.inner)}size(){return this.innerSize}}const mN=new h(ot.comparator);function Os(){return mN}const o1=new h(ot.comparator);function Ew(...n){let e=o1;for(const t of n)e=e.insert(t.key,t);return e}function s1(n){let e=o1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Yc(){return Iw()}function a1(){return Iw()}function Iw(){return new md(n=>n.toString(),(n,e)=>n.isEqual(e))}const yN=new h(ot.comparator),_N=new b(ot.comparator);function mn(...n){let e=_N;for(const t of n)e=e.add(t);return e}const vN=new b(Kt);function dx(){return vN}function l1(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qp(e)?"-0":e}}function c1(n){return{integerValue:""+n}}function u1(n,e){return gw(e)?c1(e):l1(n,e)}class qE{constructor(){this._=void 0}}function wN(n,e,t){return n instanceof oy?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Vt(i)&&(i=He(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Qp?h1(n,e):n instanceof Jp?f1(n,e):function(r,i){const a=d1(r,i),u=p1(a)+p1(r.gt);return nx(a)&&nx(r.gt)?c1(u):l1(r.serializer,u)}(n,e)}function bN(n,e,t){return n instanceof Qp?h1(n,e):n instanceof Jp?f1(n,e):t}function d1(n,e){return n instanceof sy?nx(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class oy extends qE{}class Qp extends qE{constructor(e){super(),this.elements=e}}function h1(n,e){const t=g1(e);for(const r of n.elements)t.some(i=>Ps(i,r))||t.push(r);return{arrayValue:{values:t}}}class Jp extends qE{constructor(e){super(),this.elements=e}}function f1(n,e){let t=g1(e);for(const r of n.elements)t=t.filter(i=>!Ps(i,r));return{arrayValue:{values:t}}}class sy extends qE{constructor(e,t){super(),this.serializer=e,this.gt=t}}function p1(n){return Ge(n.integerValue||n.doubleValue)}function g1(n){return _w(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Dw{constructor(e,t){this.field=e,this.transform=t}}class EN{constructor(e,t){this.version=e,this.transformResults=t}}class Hr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Hr}static exists(e){return new Hr(void 0,e)}static updateTime(e){return new Hr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function WE(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ZE{}function m1(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ly(n.key,Hr.none()):new ay(n.key,n.data,Hr.none());{const t=n.data,r=mo.empty();let i=new b(Jr.comparator);for(let a of e.fields)if(!i.has(a)){let u=t.field(a);null===u&&a.length>1&&(a=a.popLast(),u=t.field(a)),null===u?r.delete(a):r.set(a,u),i=i.add(a)}return new yd(n.key,r,new k(i.toArray()),Hr.none())}}function IN(n,e,t){n instanceof ay?function(r,i,a){const u=r.value.clone(),f=v1(r.fieldTransforms,i,a.transformResults);u.setAll(f),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof yd?function(r,i,a){if(!WE(r.precondition,i))return void i.convertToUnknownDocument(a.version);const u=v1(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(_1(r)),f.setAll(u),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Tw(n,e,t,r){return n instanceof ay?function(i,a,u,f){if(!WE(i.precondition,a))return u;const y=i.value.clone(),I=w1(i.fieldTransforms,f,a);return y.setAll(I),a.convertToFoundDocument(a.version,y).setHasLocalMutations(),null}(n,e,t,r):n instanceof yd?function(i,a,u,f){if(!WE(i.precondition,a))return u;const y=w1(i.fieldTransforms,f,a),I=a.data;return I.setAll(_1(i)),I.setAll(y),a.convertToFoundDocument(a.version,I).setHasLocalMutations(),null===u?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(x=>x.field))}(n,e,t,r):(u=t,WE(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function DN(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=d1(r.transform,i||null);null!=a&&(null===t&&(t=mo.empty()),t.set(r.field,a))}return t||null}function y1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&dd(t,r,(i,a)=>function CN(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Qp&&r instanceof Qp||t instanceof Jp&&r instanceof Jp?dd(t.elements,r.elements,Ps):t instanceof sy&&r instanceof sy?Ps(t.gt,r.gt):t instanceof oy&&r instanceof oy);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class ay extends ZE{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class yd extends ZE{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function _1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function v1(n,e,t){const r=new Map;Rt(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],u=a.transform,f=e.data.field(a.field);r.set(a.field,bN(u,f,t[i]))}return r}function w1(n,e,t){const r=new Map;for(const i of n){const a=i.transform,u=t.data.field(i.field);r.set(i.field,wN(a,u,e))}return r}class ly extends ZE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hx extends ZE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class fx{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&IN(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Tw(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Tw(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=a1();return this.mutations.forEach(i=>{const a=e.get(i.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(i.key)?null:f;const y=m1(u,f);null!==y&&r.set(i.key,y),u.isValidDocument()||u.convertToNoDocument(kt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),mn())}isEqual(e){return this.batchId===e.batchId&&dd(this.mutations,e.mutations,(t,r)=>y1(t,r))&&dd(this.baseMutations,e.baseMutations,(t,r)=>y1(t,r))}}class px{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Rt(e.mutations.length===r.length);let i=yN;const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new px(e,t,r,i)}}class gx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class SN{constructor(e,t){this.count=e,this.unchangedNames=t}}var Si,Rn;function b1(n){switch(n){default:return _t();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0}}function C1(n){if(void 0===n)return Pr("GRPC error has no .code"),ye.UNKNOWN;switch(n){case Si.OK:return ye.OK;case Si.CANCELLED:return ye.CANCELLED;case Si.UNKNOWN:return ye.UNKNOWN;case Si.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case Si.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case Si.INTERNAL:return ye.INTERNAL;case Si.UNAVAILABLE:return ye.UNAVAILABLE;case Si.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case Si.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case Si.NOT_FOUND:return ye.NOT_FOUND;case Si.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case Si.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case Si.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case Si.ABORTED:return ye.ABORTED;case Si.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case Si.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case Si.DATA_LOSS:return ye.DATA_LOSS;default:return _t()}}(Rn=Si||(Si={}))[Rn.OK=0]="OK",Rn[Rn.CANCELLED=1]="CANCELLED",Rn[Rn.UNKNOWN=2]="UNKNOWN",Rn[Rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rn[Rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rn[Rn.NOT_FOUND=5]="NOT_FOUND",Rn[Rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rn[Rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rn[Rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rn[Rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rn[Rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rn[Rn.ABORTED=10]="ABORTED",Rn[Rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rn[Rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rn[Rn.INTERNAL=13]="INTERNAL",Rn[Rn.UNAVAILABLE=14]="UNAVAILABLE",Rn[Rn.DATA_LOSS=15]="DATA_LOSS";class mx{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return KE}static getOrCreateInstance(){return null===KE&&(KE=new mx),KE}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let KE=null;function E1(){return new TextEncoder}const xN=new cd([4294967295,4294967295],0);function I1(n){const e=E1().encode(n),t=new US;return t.update(e),new Uint8Array(t.digest())}function D1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new cd([t,r],0),new cd([i,a],0)]}class yx{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Sw(`Invalid padding: ${t}`);if(r<0)throw new Sw(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Sw(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Sw(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=cd.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(cd.fromNumber(r)));return 1===i.compare(xN)&&(i=new cd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=I1(e),[r,i]=D1(t);for(let a=0;a<this.hashCount;a++){const u=this.Et(r,i,a);if(!this.At(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new yx(a,i,t);return r.forEach(f=>u.insert(f)),u}insert(e){if(0===this.It)return;const t=I1(e),[r,i]=D1(t);for(let a=0;a<this.hashCount;a++){const u=this.Et(r,i,a);this.Rt(u)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Sw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xw{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Aw.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new xw(kt.min(),i,new h(Kt),Os(),mn())}}class Aw{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Aw(r,t,mn(),mn(),mn())}}class YE{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class T1{constructor(e,t){this.targetId=e,this.Vt=t}}class S1{constructor(e,t,r=re.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class x1{constructor(){this.St=0,this.Dt=M1(),this.Ct=re.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=mn(),t=mn(),r=mn();return this.Dt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:_t()}}),new Aw(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=M1()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class AN{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Os(),this.zt=A1(),this.Wt=new h(Kt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:_t()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,a=this.se(r);if(a){const u=a.target;if($E(u))if(0===i){const f=new ot(u.path);this.Yt(r,f,Or.newNoDocument(f,kt.min()))}else Rt(1===i);else{const f=this.ie(r);if(f!==i){const y=this.re(e,f);0!==y&&(this.ee(r),this.Wt=this.Wt.insert(r,2===y?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=mx.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(I,x,R){var j,X,he,Be,Re,vt;const At={localCacheCount:x,existenceFilterCount:R.count},pt=R.unchangedNames;return pt&&(At.bloomFilter={applied:0===I,hashCount:null!==(j=pt?.hashCount)&&void 0!==j?j:0,bitmapLength:null!==(Be=null===(he=null===(X=pt?.bits)||void 0===X?void 0:X.bitmap)||void 0===he?void 0:he.length)&&void 0!==Be?Be:0,padding:null!==(vt=null===(Re=pt?.bits)||void 0===Re?void 0:Re.padding)&&void 0!==vt?vt:0}),At}(y,f,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:u=0},hashCount:f=0}=r;let y,I;try{y=ht(a).toUint8Array()}catch(x){if(x instanceof $)return ii("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw x}try{I=new yx(y,u,f)}catch(x){return ii(x instanceof Sw?"BloomFilter error: ":"Applying bloom filter failed: ",x),1}return 0===I.It?1:i!==t-this.oe(e.targetId,I)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(a=>{const u=this.Gt.ue(),f=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;t.vt(f)||(this.Yt(e,a,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((a,u)=>{const f=this.se(u);if(f){if(a.current&&$E(f.target)){const y=new ot(f.target.path);null!==this.jt.get(y)||this.ae(u,y)||this.Yt(u,y,Or.newNoDocument(y,e))}a.Mt&&(t.set(u,a.Ot()),a.Ft())}});let r=mn();this.zt.forEach((a,u)=>{let f=!0;u.forEachWhile(y=>{const I=this.se(y);return!I||"TargetPurposeLimboResolution"===I.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.jt.forEach((a,u)=>u.setReadTime(e));const i=new xw(e,t,this.Wt,this.jt,r);return this.jt=Os(),this.zt=A1(),this.Wt=new h(Kt),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new x1,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new b(Kt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||ze("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new x1),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function A1(){return new h(ot.comparator)}function M1(){return new h(ot.comparator)}const MN={asc:"ASCENDING",desc:"DESCENDING"},PN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ON={and:"AND",or:"OR"};class RN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _x(n,e){return n.useProto3Json||Gp(e)?e:{value:e}}function cy(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function kN(n,e){return cy(n,e.toTimestamp())}function gi(n){return Rt(!!n),kt.fromTimestamp(function(e){const t=qe(e);return new hr(t.seconds,t.nanos)}(n))}function vx(n,e){return(t=n,new Tn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function O1(n){const e=Tn.fromString(n);return Rt(H1(e)),e}function Mw(n,e){return vx(n.databaseId,e.path)}function Qc(n,e){const t=O1(e);if(t.get(1)!==n.databaseId.projectId)throw new Ue(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ue(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ot(k1(t))}function wx(n,e){return vx(n.databaseId,e)}function R1(n){const e=O1(n);return 4===e.length?Tn.emptyPath():k1(e)}function Pw(n){return new Tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function k1(n){return Rt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function N1(n,e,t){return{name:Mw(n,e),fields:t.value.mapValue.fields}}function F1(n,e,t){const r=Qc(n,e.name),i=gi(e.updateTime),a=e.createTime?gi(e.createTime):kt.min(),u=new mo({mapValue:{fields:e.fields}}),f=Or.newFoundDocument(r,i,a,u);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function Ow(n,e){let t;if(e instanceof ay)t={update:N1(n,e.key,e.value)};else if(e instanceof ly)t={delete:Mw(n,e.key)};else if(e instanceof yd)t={update:N1(n,e.key,e.data),updateMask:$N(e.fieldMask)};else{if(!(e instanceof hx))return _t();t={verify:Mw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const u=a.transform;if(u instanceof oy)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Qp)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Jp)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof sy)return{fieldPath:a.field.canonicalString(),increment:u.gt};throw _t()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:kN(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:_t()),t;var i}function bx(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Hr.updateTime(gi(i.updateTime)):void 0!==i.exists?Hr.exists(i.exists):Hr.none():Hr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,u){let f=null;"setToServerValue"in u?(Rt("REQUEST_TIME"===u.setToServerValue),f=new oy):"appendMissingElements"in u?f=new Qp(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new Jp(u.removeAllFromArray.values||[]):"increment"in u?f=new sy(a,u.increment):_t();const y=Jr.fromServerFormat(u.fieldPath);return new Dw(y,f)}(n,i)):[];var i;if(e.update){const i=Qc(n,e.update.name),a=new mo({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new k((e.updateMask.fieldPaths||[]).map(I=>Jr.fromServerFormat(I)));return new yd(i,a,u,t,r)}return new ay(i,a,t,r)}if(e.delete){const i=Qc(n,e.delete);return new ly(i,t)}if(e.verify){const i=Qc(n,e.verify);return new hx(i,t)}return _t()}function L1(n,e){return{documents:[wx(n,e.path)]}}function Cx(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=wx(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=wx(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0!==y.length)return B1(ir.create(y,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const a=function(y){if(0!==y.length)return y.map(I=>{return{field:Gh((x=I).field),direction:UN(x.dir)};var x})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=_x(n,e.limit);var f,y;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),t}function V1(n){let e=R1(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Rt(1===r);const x=t.from[0];x.allDescendants?i=x.collectionId:e=e.child(x.collectionId)}let a=[];t.where&&(a=function(x){const R=U1(x);return R instanceof ir&&ix(R)?R.getFilters():[R]}(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(x=>{return new ny(uy((R=x).field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let f=null;t.limit&&(f=function(x){let R;return R="object"==typeof x?x.value:x,Gp(R)?null:R}(t.limit));let y=null;var x;t.startAt&&(y=new zh((x=t.startAt).values||[],!!x.before));let I=null;return t.endAt&&(I=function(x){return new zh(x.values||[],!x.before)}(t.endAt)),e1(e,i,u,a,f,"F",y,I)}function U1(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=uy(e.unaryFilter.field);return Sn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=uy(e.unaryFilter.field);return Sn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=uy(e.unaryFilter.field);return Sn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=uy(e.unaryFilter.field);return Sn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}(n):void 0!==n.fieldFilter?Sn.create(uy((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return ir.create(e.compositeFilter.filters.map(t=>U1(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return _t()}}(e.compositeFilter.op))}(n):_t();var e}function UN(n){return MN[n]}function BN(n){return PN[n]}function HN(n){return ON[n]}function Gh(n){return{fieldPath:n.canonicalString()}}function uy(n){return Jr.fromServerFormat(n.fieldPath)}function B1(n){return n instanceof Sn?function(e){if("=="===e.op){if(VP(e.value))return{unaryFilter:{field:Gh(e.field),op:"IS_NAN"}};if(LP(e.value))return{unaryFilter:{field:Gh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(VP(e.value))return{unaryFilter:{field:Gh(e.field),op:"IS_NOT_NAN"}};if(LP(e.value))return{unaryFilter:{field:Gh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gh(e.field),op:BN(e.op),value:e.value}}}(n):n instanceof ir?function(e){const t=e.getFilters().map(r=>B1(r));return 1===t.length?t[0]:{compositeFilter:{op:HN(e.op),filters:t}}}(n):_t()}function $N(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function H1(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class _d{constructor(e,t,r,i,a=kt.min(),u=kt.min(),f=re.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=y}withSequenceNumber(e){return new _d(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _d(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _d(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _d(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $1{constructor(e){this.fe=e}}function j1(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:QE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Mw(i=n.fe,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:cy(i,a.version.toTimestamp()),createTime:cy(i,a.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Xp(e.version)};else{if(!e.isUnknownDocument())return _t();r.unknownDocument={path:t.path.toArray(),version:Xp(e.version)}}var i,a;return r}function QE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Xp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function eg(n){const e=new hr(n.seconds,n.nanoseconds);return kt.fromTimestamp(e)}function tg(n,e){const t=(e.baseMutations||[]).map(a=>bx(n.fe,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>bx(n.fe,a)),i=hr.fromMillis(e.localWriteTimeMs);return new fx(e.batchId,i,t,r)}function Rw(n){const e=eg(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?eg(n.lastLimboFreeSnapshotVersion):kt.min();let r;var i;return void 0!==n.query.documents?(Rt(1===(i=n.query).documents.length),r=Xo(iy(R1(i.documents[0])))):r=Xo(V1(n.query)),new _d(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,re.fromBase64String(n.resumeToken))}function z1(n,e){const t=Xp(e.snapshotVersion),r=Xp(e.lastLimboFreeSnapshotVersion);let i;i=$E(e.target)?L1(n.fe,e.target):Cx(n.fe,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Kp(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Ex(n){const e=V1({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?GE(e,e.limit,"L"):e}function Ix(n,e){return new gx(e.largestBatchId,bx(n.fe,e.overlayMutation))}function G1(n,e){const t=e.path.lastSegment();return[n,Bi(e.path.popLast()),t]}function q1(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Xp(r.readTime),documentKey:Bi(r.documentKey.path),largestBatchId:r.largestBatchId}}class zN{getBundleMetadata(e,t){return W1(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:eg(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return W1(e).put({bundleId:(r=t).id,createTime:Xp(gi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Z1(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:Ex(i.bundledQuery),readTime:eg(i.readTime)};var i})}saveNamedQuery(e,t){return Z1(e).put({name:(r=t).name,readTime:Xp(gi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function W1(n){return o(n,"bundles")}function Z1(n){return o(n,"namedQueries")}class JE{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new JE(e,t.uid||"")}getOverlay(e,t){return kw(e).get(G1(this.userId,t)).next(r=>r?Ix(this.serializer,r):null)}getOverlays(e,t){const r=Yc();return ue.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,u)=>{const f=new gx(t,u);i.push(this.we(e,f))}),ue.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(Bi(u.getCollectionPath())));const a=[];return i.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);a.push(kw(e).J("collectionPathOverlayIndex",f))}),ue.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Yc(),a=Bi(t),u=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return kw(e).j("collectionPathOverlayIndex",u).next(f=>{for(const y of f){const I=Ix(this.serializer,y);i.set(I.getKey(),I)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=Yc();let u;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return kw(e).X({index:"collectionGroupOverlayIndex",range:f},(y,I,x)=>{const R=Ix(this.serializer,I);a.size()<i||R.largestBatchId===u?(a.set(R.getKey(),R),u=R.largestBatchId):x.done()}).next(()=>a)}we(e,t){return kw(e).put(function(r,i,a){const[u,f,y]=G1(i,a.mutation.key);return{userId:i,collectionPath:f,documentId:y,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Ow(r.fe,a.mutation)}}(this.serializer,this.userId,t))}}function kw(n){return o(n,"documentOverlays")}class ng{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Ge(e.integerValue));else if("doubleValue"in e){const r=Ge(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),qp(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(ht(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?UP(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):_t()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),ot.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function GN(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function K1(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=GN(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}ng.Ve=new ng;class qN{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=K1(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=K1(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class WN{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class ZN{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Nw{constructor(){this.je=new qN,this.ze=new WN(this.je),this.We=new ZN(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class rg{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new rg(this.indexId,this.documentKey,this.arrayValue,r)}}function qh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Y1(n.arrayValue,e.arrayValue),0!==t?t:(t=Y1(n.directionalValue,e.directionalValue),0!==t?t:ot.comparator(n.documentKey,e.documentKey)))}function Y1(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class KN{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){Rt(e.collectionGroup===this.collectionId);const t=uw(e);if(void 0!==t&&!this.en(t))return!1;const r=hd(e);let i=new Set,a=0,u=0;for(;a<r.length&&this.en(r[a]);++a)i=i.add(r[a].fieldPath.canonicalString());if(a===r.length)return!0;if(void 0!==this.Ze){if(!i.has(this.Ze.field.canonicalString())){const f=r[a];if(!this.nn(this.Ze,f)||!this.sn(this.Ye[u++],f))return!1}++a}for(;a<r.length;++a){const f=r[a];if(u>=this.Ye.length||!this.sn(this.Ye[u++],f))return!1}return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Q1(n){var e,t;if(Rt(n instanceof Sn||n instanceof ir),n instanceof Sn){if(n instanceof QP){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(a=>Sn.create(n.field,"==",a)))||[];return ir.create(i,"or")}return n}const r=n.filters.map(i=>Q1(i));return ir.create(r,n.op)}function YN(n){if(0===n.getFilters().length)return[];const e=Sx(Q1(n));return Rt(J1(e)),Dx(e)||Tx(e)?[e]:e.getFilters()}function Dx(n){return n instanceof Sn}function Tx(n){return n instanceof ir&&ix(n)}function J1(n){return Dx(n)||Tx(n)||function(e){if(e instanceof ir&&rx(e)){for(const t of e.getFilters())if(!Dx(t)&&!Tx(t))return!1;return!0}return!1}(n)}function Sx(n){if(Rt(n instanceof Sn||n instanceof ir),n instanceof Sn)return n;if(1===n.filters.length)return Sx(n.filters[0]);const e=n.filters.map(r=>Sx(r));let t=ir.create(e,n.op);return t=XE(t),J1(t)?t:(Rt(t instanceof ir),Rt(ry(t)),Rt(t.filters.length>1),t.filters.reduce((r,i)=>xx(r,i)))}function xx(n,e){let t;return Rt(n instanceof Sn||n instanceof ir),Rt(e instanceof Sn||e instanceof ir),t=n instanceof Sn?e instanceof Sn?ir.create([n,e],"and"):X1(n,e):e instanceof Sn?X1(e,n):function(r,i){if(Rt(r.filters.length>0&&i.filters.length>0),ry(r)&&ry(i))return ZP(r,i.getFilters());const a=rx(r)?r:i,u=rx(r)?i:r,f=a.filters.map(y=>xx(y,u));return ir.create(f,"or")}(n,e),XE(t)}function X1(n,e){if(ry(e))return ZP(e,n.getFilters());{const t=e.filters.map(r=>xx(n,r));return ir.create(t,"or")}}function XE(n){if(Rt(n instanceof Sn||n instanceof ir),n instanceof Sn)return n;const e=n.getFilters();if(1===e.length)return XE(e[0]);if(qP(n))return n;const t=e.map(i=>XE(i)),r=[];return t.forEach(i=>{i instanceof Sn?r.push(i):i instanceof ir&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:ir.create(r,n.op)}class QN{constructor(){this.rn=new Ax}addToCollectionParentIndex(e,t){return this.rn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(no.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(no.min())}updateCollectionGroup(e,t,r){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class Ax{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new b(Tn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new b(Tn.comparator)).toArray()}}const eI=new Uint8Array(0);class JN{constructor(e,t){this.user=e,this.databaseId=t,this.on=new Ax,this.un=new md(r=>Kp(r),(r,i)=>ww(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const a={collectionId:r,parent:Bi(i)};return eO(e).put(a)}return ue.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[OE(t),""],!1,!0);return eO(e).j(i).next(a=>{for(const u of a){if(u.collectionId!==t)break;r.push(ul(u.parent))}return r})}addFieldIndex(e,t){const r=tI(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete i.indexId;const a=r.add(i);if(t.indexState){const u=Lw(e);return a.next(f=>{u.put(q1(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=tI(e),i=Lw(e),a=Fw(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Fw(e);let i=!0;const a=new Map;return ue.forEach(this.cn(t),u=>this.an(e,u).next(f=>{i&&(i=!!f),a.set(u,f)})).next(()=>{if(i){let u=mn();const f=[];return ue.forEach(a,(y,I)=>{var x;ze("IndexedDbIndexManager",`Using index ${x=y,`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(pt=>`${pt.fieldPath}:${pt.kind}`).join(",")}`} to execute ${Kp(t)}`);const R=function(pt,Mt){const sn=uw(Mt);if(void 0===sn)return null;for(const yn of jE(pt,sn.fieldPath))switch(yn.op){case"array-contains-any":return yn.value.arrayValue.values||[];case"array-contains":return[yn.value]}return null}(I,y),j=function(pt,Mt){const sn=new Map;for(const yn of hd(Mt))for(const xi of jE(pt,yn.fieldPath))switch(xi.op){case"==":case"in":sn.set(yn.fieldPath.canonicalString(),xi.value);break;case"not-in":case"!=":return sn.set(yn.fieldPath.canonicalString(),xi.value),Array.from(sn.values())}return null}(I,y),X=function(pt,Mt){const sn=[];let yn=!0;for(const xi of hd(Mt)){const ba=0===xi.kind?JP(pt,xi.fieldPath,pt.startAt):XP(pt,xi.fieldPath,pt.startAt);sn.push(ba.value),yn&&(yn=ba.inclusive)}return new zh(sn,yn)}(I,y),he=function(pt,Mt){const sn=[];let yn=!0;for(const xi of hd(Mt)){const ba=0===xi.kind?XP(pt,xi.fieldPath,pt.endAt):JP(pt,xi.fieldPath,pt.endAt);sn.push(ba.value),yn&&(yn=ba.inclusive)}return new zh(sn,yn)}(I,y),Be=this.hn(y,I,X),Re=this.hn(y,I,he),vt=this.ln(y,I,j),At=this.fn(y.indexId,R,Be,X.inclusive,Re,he.inclusive,vt);return ue.forEach(At,pt=>r.H(pt,t.limit).next(Mt=>{Mt.forEach(sn=>{const yn=ot.fromSegments(sn.documentKey);u.has(yn)||(u=u.add(yn),f.push(yn))})}))}).next(()=>f)}return ue.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:YN(ir.create(e.filters,"and")).map(r=>sx(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,a,u,f){const y=(null!=t?t.length:1)*Math.max(r.length,a.length),I=y/(null!=t?t.length:1),x=[];for(let R=0;R<y;++R){const j=t?this.dn(t[R/I]):eI,X=this.wn(e,j,r[R%I],i),he=this._n(e,j,a[R%I],u),Be=f.map(Re=>this.wn(e,j,Re,!0));x.push(...this.createRange(X,he,Be))}return x}wn(e,t,r,i){const a=new rg(e,ot.empty(),t,r);return i?a:a.Je()}_n(e,t,r,i){const a=new rg(e,ot.empty(),t,r);return i?a.Je():a}an(e,t){const r=new KN(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let u=null;for(const f of a)r.tn(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(e,t){let r=2;const i=this.cn(t);return ue.forEach(i,a=>this.an(e,a).next(u=>{u?0!==r&&u.fields.length<function(f){let y=new b(Jr.comparator),I=!1;for(const x of f.filters)for(const R of x.getFlattenedFilters())R.field.isKeyField()||("array-contains"===R.op||"array-contains-any"===R.op?I=!0:y=y.add(R.field));for(const x of f.orderBy)x.field.isKeyField()||(y=y.add(x.field));return y.size+(I?1:0)}(a)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}mn(e,t){const r=new Nw;for(const i of hd(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const u=r.He(i.kind);ng.Ve._e(a,u)}return r.Qe()}dn(e){const t=new Nw;return ng.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new Nw;return ng.Ve._e(Zp(this.databaseId,t),r.He(function(i){const a=hd(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let i=[];i.push(new Nw);let a=0;for(const u of hd(e)){const f=r[a++];for(const y of i)if(this.yn(t,u.fieldPath)&&_w(f))i=this.pn(i,u,f);else{const I=y.He(u.kind);ng.Ve._e(f,I)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],a=[];for(const u of r.arrayValue.values||[])for(const f of i){const y=new Nw;y.seed(f.Qe()),ng.Ve._e(u,y.He(t.kind)),a.push(y)}return a}yn(e,t){return!!e.filters.find(r=>r instanceof Sn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=tI(e),i=Lw(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(a=>{const u=[];return ue.forEach(a,f=>i.get([f.indexId,this.uid]).next(y=>{u.push(function(I,x){const R=x?new Xm(x.sequenceNumber,new no(eg(x.readTime),new ot(ul(x.documentKey)),x.largestBatchId)):Xm.empty(),j=I.fields.map(([X,he])=>new dw(Jr.fromServerFormat(X),he));return new Jm(I.indexId,I.collectionGroup,j,R)}(f,y))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Kt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=tI(e),a=Lw(e);return this.Tn(e).next(u=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>ue.forEach(f,y=>a.put(q1(y.indexId,this.user,u,r)))))}updateIndexEntries(e,t){const r=new Map;return ue.forEach(t,(i,a)=>{const u=r.get(i.collectionGroup);return(u?ue.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),ue.forEach(f,y=>this.En(e,i,y).next(I=>{const x=this.An(a,y);return I.isEqual(x)?ue.resolve():this.vn(e,a,y,I,x)}))))})}Rn(e,t,r,i){return Fw(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return Fw(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=Fw(e);let a=new b(qh);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(u,f)=>{a=a.add(new rg(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}An(e,t){let r=new b(qh);const i=this.mn(t,e);if(null==i)return r;const a=uw(t);if(null!=a){const u=e.data.field(a.fieldPath);if(_w(u))for(const f of u.arrayValue.values||[])r=r.add(new rg(t.indexId,e.key,this.dn(f),i))}else r=r.add(new rg(t.indexId,e.key,eI,i));return r}vn(e,t,r,i,a){ze("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,y,I,x,R){const j=f.getIterator(),X=y.getIterator();let he=A(j),Be=A(X);for(;he||Be;){let Re=!1,vt=!1;if(he&&Be){const At=I(he,Be);At<0?vt=!0:At>0&&(Re=!0)}else null!=he?vt=!0:Re=!0;Re?(x(Be),Be=A(X)):vt?(R(he),he=A(j)):(he=A(j),Be=A(X))}}(i,a,qh,f=>{u.push(this.Rn(e,t,r,f))},f=>{u.push(this.Pn(e,t,r,f))}),ue.waitFor(u)}Tn(e){let t=1;return Lw(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,f)=>qh(u,f)).filter((u,f,y)=>!f||0!==qh(u,y[f-1]));const i=[];i.push(e);for(const u of r){const f=qh(u,e),y=qh(u,t);if(0===f)i[0]=e.Je();else if(f>0&&y<0)i.push(u),i.push(u.Je());else if(y>0)break}i.push(t);const a=[];for(let u=0;u<i.length;u+=2){if(this.bn(i[u],i[u+1]))return[];a.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,eI,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,eI,[]]))}return a}bn(e,t){return qh(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(tO)}getMinOffset(e,t){return ue.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||_t())).next(tO)}}function eO(n){return o(n,"collectionParents")}function Fw(n){return o(n,"indexEntries")}function tI(n){return o(n,"indexConfiguration")}function Lw(n){return o(n,"indexState")}function tO(n){Rt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;hw(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new no(e.readTime,e.documentKey,t)}const nO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ao{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ao(e,Ao.DEFAULT_COLLECTION_PERCENTILE,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function rO(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let f=0;const y=r.X({range:u},(x,R,j)=>(f++,j.delete()));a.push(y.next(()=>{Rt(1===f)}));const I=[];for(const x of t.mutations){const R=qS(e,x.key.path,t.batchId);a.push(i.delete(R)),I.push(x.key)}return ue.waitFor(a).next(()=>I)}function nI(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw _t();e=n.noDocument}return JSON.stringify(e).length}Ao.DEFAULT_COLLECTION_PERCENTILE=10,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ao.DEFAULT=new Ao(41943040,Ao.DEFAULT_COLLECTION_PERCENTILE,Ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ao.DISABLED=new Ao(-1,0,0);class rI{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){Rt(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new rI(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Wh(e).X({index:"userMutationsIndex",range:r},(i,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=dy(e),u=Wh(e);return u.add({}).next(f=>{Rt("number"==typeof f);const y=new fx(f,t,r,i),I=function(j,X,he){const Be=he.baseMutations.map(vt=>Ow(j.fe,vt)),Re=he.mutations.map(vt=>Ow(j.fe,vt));return{userId:X,batchId:he.batchId,localWriteTimeMs:he.localWriteTime.toMillis(),baseMutations:Be,mutations:Re}}(this.serializer,this.userId,y),x=[];let R=new b((j,X)=>Kt(j.canonicalString(),X.canonicalString()));for(const j of i){const X=qS(this.userId,j.key.path,f);R=R.add(j.key.path.popLast()),x.push(u.put(I)),x.push(a.put(X,UE))}return R.forEach(j=>{x.push(this.indexManager.addToCollectionParentIndex(e,j))}),e.addOnCommittedListener(()=>{this.Vn[f]=y.keys()}),ue.waitFor(x).next(()=>y)})}lookupMutationBatch(e,t){return Wh(e).get(t).next(r=>r?(Rt(r.userId===this.userId),tg(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?ue.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Wh(e).X({index:"userMutationsIndex",range:i},(u,f,y)=>{f.userId===this.userId&&(Rt(f.batchId>=r),a=tg(this.serializer,f)),y.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Wh(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,a,u)=>{r=a.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Wh(e).j("userMutationsIndex",t).next(r=>r.map(i=>tg(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Hh(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return dy(e).X({range:i},(u,f,y)=>{const[I,x,R]=u,j=ul(x);if(I===this.userId&&t.path.isEqual(j))return Wh(e).get(R).next(X=>{if(!X)throw _t();Rt(X.userId===this.userId),a.push(tg(this.serializer,X))});y.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new b(Kt);const i=[];return t.forEach(a=>{const u=Hh(this.userId,a.path),f=IDBKeyRange.lowerBound(u),y=dy(e).X({range:f},(I,x,R)=>{const[j,X,he]=I,Be=ul(X);j===this.userId&&a.path.isEqual(Be)?r=r.add(he):R.done()});i.push(y)}),ue.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=Hh(this.userId,r),u=IDBKeyRange.lowerBound(a);let f=new b(Kt);return dy(e).X({range:u},(y,I,x)=>{const[R,j,X]=y,he=ul(j);R===this.userId&&r.isPrefixOf(he)?he.length===i&&(f=f.add(X)):x.done()}).next(()=>this.Dn(e,f))}Dn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Wh(e).get(a).next(u=>{if(null===u)throw _t();Rt(u.userId===this.userId),r.push(tg(this.serializer,u))}))}),ue.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return rO(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),ue.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ue.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return dy(e).X({range:r},(a,u,f)=>{if(a[0]===this.userId){const y=ul(a[1]);i.push(y)}else f.done()}).next(()=>{Rt(0===i.length)})})}containsKey(e,t){return iO(e,this.userId,t)}xn(e){return oO(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function iO(n,e,t){const r=Hh(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let u=!1;return dy(n).X({range:a,Y:!0},(f,y,I)=>{const[x,R,j]=f;x===e&&R===i&&(u=!0),I.done()}).next(()=>u)}function Wh(n){return o(n,"mutations")}function dy(n){return o(n,"documentMutations")}function oO(n){return o(n,"mutationQueues")}class ig{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new ig(0)}static Mn(){return new ig(-1)}}class XN{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new ig(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>kt.fromTimestamp(new hr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>hy(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(Rt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return hy(e).X((u,f)=>{const y=Rw(f);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,a.push(this.removeTargetData(e,y)))}).next(()=>ue.waitFor(a)).next(()=>i)}forEachTarget(e,t){return hy(e).X((r,i)=>{const a=Rw(i);t(a)})}$n(e){return sO(e).get("targetGlobalKey").next(t=>(Rt(null!==t),t))}On(e,t){return sO(e).put("targetGlobalKey",t)}Fn(e,t){return hy(e).put(z1(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Kp(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return hy(e).X({range:i,index:"queryTargetsIndex"},(u,f,y)=>{const I=Rw(f);ww(t,I.target)&&(a=I,y.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Zh(e);return t.forEach(u=>{const f=Bi(u.path);i.push(a.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,u))}),ue.waitFor(i)}removeMatchingKeys(e,t,r){const i=Zh(e);return ue.forEach(t,a=>{const u=Bi(a.path);return ue.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Zh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Zh(e);let a=mn();return i.X({range:r,Y:!0},(u,f,y)=>{const I=ul(u[1]),x=new ot(I);a=a.add(x)}).next(()=>a)}containsKey(e,t){const r=Bi(t.path),i=IDBKeyRange.bound([r],[OE(r)],!1,!0);let a=0;return Zh(e).X({index:"documentTargetsIndex",Y:!0,range:i},([u,f],y,I)=>{0!==u&&(a++,I.done())}).next(()=>a>0)}le(e,t){return hy(e).get(t).next(r=>r?Rw(r):null)}}function hy(n){return o(n,"targets")}function sO(n){return o(n,"targetGlobal")}function Zh(n){return o(n,"targetDocuments")}function aO([n,e],[t,r]){const i=Kt(n,t);return 0===i?Kt(e,r):i}class e2{constructor(e){this.Ln=e,this.buffer=new b(aO),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();aO(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;ze("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Te.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){va(r)?ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield So(r)}yield t.Qn(3e5)}))}}class t2{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ue.resolve(Jo.ct);const r=new e2(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(nO)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nO):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,a,u,f,y,I;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),i=this.params.maximumSequenceNumbersToCollect):i=R,u=Date.now(),this.nthSequenceNumber(e,i))).next(R=>(r=R,f=Date.now(),this.removeTargets(e,r,t))).next(R=>(a=R,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(R=>(I=Date.now(),$p()<=Hc.in.DEBUG&&ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-x}ms\n\tDetermined least recently used ${i} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(y-f)+`ms\n\tRemoved ${R} documents in `+(I-y)+`ms\nTotal Duration: ${I-x}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:R})))}}class n2{constructor(e,t){this.db=e,this.garbageCollector=function cO(n,e){return new t2(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return iI(e,r)}removeReference(e,t,r){return iI(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return iI(e,t)}Xn(e,t){return function(r,i){let a=!1;return oO(r).Z(u=>iO(r,u,i).next(f=>(f&&(a=!0),ue.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Yn(e,(u,f)=>{if(f<=t){const y=this.Xn(e,u).next(I=>{if(!I)return a++,r.getEntry(e,u).next(()=>(r.removeEntry(u,kt.min()),Zh(e).delete([0,Bi(u.path)])))});i.push(y)}}).next(()=>ue.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return iI(e,t)}Yn(e,t){const r=Zh(e);let i,a=Jo.ct;return r.X({index:"documentTargetsIndex"},([u,f],{path:y,sequenceNumber:I})=>{0===u?(a!==Jo.ct&&t(new ot(ul(i)),a),a=I,i=y):a=Jo.ct}).next(()=>{a!==Jo.ct&&t(new ot(ul(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function iI(n,e){return Zh(n).put((r=n.currentSequenceNumber,{targetId:0,path:Bi(e.path),sequenceNumber:r}));var r}class uO{constructor(){this.changes=new md(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Or.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ue.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class r2{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return og(e).put(r)}removeEntry(e,t,r){return og(e).delete(function(i,a){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],QE(a),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=Or.newInvalidDocument(t);return og(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Vw(t))},(i,a)=>{r=this.ts(t,a)}).next(()=>r)}es(e,t){let r={size:0,document:Or.newInvalidDocument(t)};return og(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Vw(t))},(i,a)=>{r={document:this.ts(t,a),size:nI(a)}}).next(()=>r)}getEntries(e,t){let r=Os();return this.ns(e,t,(i,a)=>{const u=this.ts(i,a);r=r.insert(i,u)}).next(()=>r)}ss(e,t){let r=Os(),i=new h(ot.comparator);return this.ns(e,t,(a,u)=>{const f=this.ts(a,u);r=r.insert(a,f),i=i.insert(a,nI(u))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return ue.resolve();let i=new b(pO);t.forEach(y=>i=i.add(y));const a=IDBKeyRange.bound(Vw(i.first()),Vw(i.last())),u=i.getIterator();let f=u.getNext();return og(e).X({index:"documentKeyIndex",range:a},(y,I,x)=>{const R=ot.fromSegments([...I.prefixPath,I.collectionGroup,I.documentId]);for(;f&&pO(f,R)<0;)r(f,null),f=u.getNext();f&&f.isEqual(R)&&(r(f,I),f=u.hasNext()?u.getNext():null),f?x.G(Vw(f)):x.done()}).next(()=>{for(;f;)r(f,null),f=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const a=t.path,u=[a.popLast().toArray(),a.lastSegment(),QE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return og(e).j(IDBKeyRange.bound(u,f,!0)).next(y=>{let I=Os();for(const x of y){const R=this.ts(ot.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);R.isFoundDocument()&&(Cw(t,R)||i.has(R.key))&&(I=I.insert(R.key,R))}return I})}getAllFromCollectionGroup(e,t,r,i){let a=Os();const u=fO(t,r),f=fO(t,no.max());return og(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(y,I,x)=>{const R=this.ts(ot.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);a=a.insert(R.key,R),a.size===i&&x.done()}).next(()=>a)}newChangeBuffer(e){return new i2(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return hO(e).get("remoteDocumentGlobalKey").next(t=>(Rt(!!t),t))}Zn(e,t){return hO(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function jN(n,e){let t;if(e.document)t=F1(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ot.fromSegments(e.noDocument.path),i=eg(e.noDocument.readTime);t=Or.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return _t();{const r=ot.fromSegments(e.unknownDocument.path),i=eg(e.unknownDocument.version);t=Or.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new hr(r[0],r[1]);return kt.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(kt.min()))return r}return Or.newInvalidDocument(e)}}function dO(n){return new r2(n)}class i2 extends uO{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new md(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new b((a,u)=>Kt(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.us.get(a);if(t.push(this.os.removeEntry(e,a,f.readTime)),u.isValidDocument()){const y=j1(this.os.serializer,u);i=i.add(a.path.popLast()),r+=nI(y)-f.size,t.push(this.os.addEntry(e,a,y))}else if(r-=f.size,this.trackRemovals){const y=j1(this.os.serializer,u.convertToNoDocument(kt.min()));t.push(this.os.addEntry(e,a,y))}}),i.forEach(a=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.os.updateMetadata(e,r)),ue.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((a,u)=>{this.us.set(a,{size:u,readTime:r.get(a).readTime})}),r))}}function hO(n){return o(n,"remoteDocumentGlobal")}function og(n){return o(n,"remoteDocumentsV14")}function Vw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function fO(n,e){const t=e.documentKey.path.toArray();return[n,QE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function pO(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Kt(t[a],r[a]),i)return i;return i=Kt(t.length,r.length),i||(i=Kt(t[t.length-2],r[r.length-2]),i||Kt(t[t.length-1],r[r.length-1]))}class o2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class gO{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Tw(r.mutation,i,k.empty(),hr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,mn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=mn()){const i=Yc();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let u=Ew();return a.forEach((f,y)=>{u=u.insert(f,y.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Yc();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,mn()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,r,i){let a=Os();const u=Iw(),f=Iw();return t.forEach((y,I)=>{const x=r.get(I.key);i.has(I.key)&&(void 0===x||x.mutation instanceof yd)?a=a.insert(I.key,I):void 0!==x?(u.set(I.key,x.mutation.getFieldMask()),Tw(x.mutation,I,x.mutation.getFieldMask(),hr.now())):u.set(I.key,k.empty())}),this.recalculateAndSaveOverlays(e,a).next(y=>(y.forEach((I,x)=>u.set(I,x)),t.forEach((I,x)=>{var R;return f.set(I,new o2(x,null!==(R=u.get(I))&&void 0!==R?R:null))}),f))}recalculateAndSaveOverlays(e,t){const r=Iw();let i=new h((u,f)=>u-f),a=mn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(y=>{const I=t.get(y);if(null===I)return;let x=r.get(y)||k.empty();x=f.applyToLocalView(I,x),r.set(y,x);const R=(i.get(f.batchId)||mn()).add(y);i=i.insert(f.batchId,R)})}).next(()=>{const u=[],f=i.getReverseIterator();for(;f.hasNext();){const y=f.getNext(),I=y.key,x=y.value,R=a1();x.forEach(j=>{if(!a.has(j)){const X=m1(t.get(j),r.get(j));null!==X&&R.set(j,X),a=a.add(j)}}),u.push(this.documentOverlayCache.saveOverlays(e,I,R))}return ue.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return ot.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):lx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):ue.resolve(Yc());let f=-1,y=a;return u.next(I=>ue.forEach(I,(x,R)=>(f<R.largestBatchId&&(f=R.largestBatchId),a.get(x)?ue.resolve():this.remoteDocumentCache.getEntry(e,x).next(j=>{y=y.insert(x,j)}))).next(()=>this.populateOverlays(e,I,a)).next(()=>this.computeViews(e,y,I,mn())).next(x=>({batchId:f,changes:s1(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ot(t)).next(r=>{let i=Ew();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=Ew();return this.indexManager.getCollectionParents(e,i).next(u=>ue.forEach(u,f=>{const y=(I=t,x=f.child(i),new gd(x,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt));var I,x;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(I=>{I.forEach((x,R)=>{a=a.insert(x,R)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(a=>{i.forEach((f,y)=>{const I=y.getKey();null===a.get(I)&&(a=a.insert(I,Or.newInvalidDocument(I)))});let u=Ew();return a.forEach((f,y)=>{const I=i.get(f);void 0!==I&&Tw(I.mutation,y,k.empty(),hr.now()),Cw(t,y)&&(u=u.insert(f,y))}),u})}}class s2{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ue.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:gi(r.createTime)}),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:Ex(r.bundledQuery),readTime:gi(r.readTime)}),ue.resolve();var r}}class a2{constructor(){this.overlays=new h(ot.comparator),this.ls=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Yc();return ue.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.we(e,t,a)}),ue.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),ue.resolve()}getOverlaysForCollection(e,t,r){const i=Yc(),a=t.length+1,u=new ot(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const y=f.getNext().value,I=y.getKey();if(!t.isPrefixOf(I.path))break;I.path.length===a&&y.largestBatchId>r&&i.set(y.getKey(),y)}return ue.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new h((I,x)=>I-x);const u=this.overlays.getIterator();for(;u.hasNext();){const I=u.getNext().value;if(I.getKey().getCollectionGroup()===t&&I.largestBatchId>r){let x=a.get(I.largestBatchId);null===x&&(x=Yc(),a=a.insert(I.largestBatchId,x)),x.set(I.getKey(),I)}}const f=Yc(),y=a.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((I,x)=>f.set(I,x)),!(f.size()>=i)););return ue.resolve(f)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const u=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new gx(t,r));let a=this.ls.get(t);void 0===a&&(a=mn(),this.ls.set(t,a)),this.ls.set(t,a.add(r.key))}}class Mx{constructor(){this.fs=new b(ro.ds),this.ws=new b(ro._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new ro(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new ro(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new ot(new Tn([])),r=new ro(t,e),i=new ro(t,e+1),a=[];return this.ws.forEachInRange([r,i],u=>{this.ys(u),a.push(u.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new ot(new Tn([])),r=new ro(t,e),i=new ro(t,e+1);let a=mn();return this.ws.forEachInRange([r,i],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new ro(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ro{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return ot.comparator(e.key,t.key)||Kt(e.As,t.As)}static _s(e,t){return Kt(e.As,t.As)||ot.comparator(e.key,t.key)}}class l2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new b(ro.ds)}checkEmpty(e){return ue.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.vs;this.vs++;const u=new fx(a,t,r,i);this.mutationQueue.push(u);for(const f of i)this.Rs=this.Rs.add(new ro(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ue.resolve(u)}lookupMutationBatch(e,t){return ue.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),a=i<0?0:i;return ue.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ro(t,0),i=new ro(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],u=>{const f=this.Ps(u.As);a.push(f)}),ue.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new b(Kt);return t.forEach(i=>{const a=new ro(i,0),u=new ro(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,u],f=>{r=r.add(f.As)})}),ue.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;ot.isDocumentKey(a)||(a=a.child(""));const u=new ro(new ot(a),0);let f=new b(Kt);return this.Rs.forEachWhile(y=>{const I=y.key.path;return!!r.isPrefixOf(I)&&(I.length===i&&(f=f.add(y.As)),!0)},u),ue.resolve(this.Vs(f))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Rt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ue.forEach(t.mutations,i=>{const a=new ro(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new ro(t,0),i=this.Rs.firstAfterOrEqual(r);return ue.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ue.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class c2{constructor(e){this.Ds=e,this.docs=new h(ot.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,u=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ue.resolve(r?r.document.mutableCopy():Or.newInvalidDocument(t))}getEntries(e,t){let r=Os();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Or.newInvalidDocument(i))}),ue.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=Os();const u=t.path,f=new ot(u.child("")),y=this.docs.getIteratorFrom(f);for(;y.hasNext();){const{key:I,value:{document:x}}=y.getNext();if(!u.isPrefixOf(I.path))break;I.path.length>u.length+1||hw(RE(x),r)<=0||(i.has(x.key)||Cw(t,x))&&(a=a.insert(x.key,x.mutableCopy()))}return ue.resolve(a)}getAllFromCollectionGroup(e,t,r,i){_t()}Cs(e,t){return ue.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new u2(this)}getSize(e){return ue.resolve(this.size)}}class u2 extends uO{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),ue.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class d2{constructor(e){this.persistence=e,this.xs=new md(t=>Kp(t),ww),this.lastRemoteSnapshotVersion=kt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Mx,this.targetCount=0,this.Ms=ig.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),ue.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new ig(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.Fn(t),ue.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.xs.forEach((u,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.xs.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),ue.waitFor(a).next(()=>i)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return ue.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),ue.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(u=>{a.push(i.markPotentiallyOrphaned(e,u))}),ue.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return ue.resolve(r)}containsKey(e,t){return ue.resolve(this.ks.containsKey(t))}}class Px{constructor(e,t){this.$s={},this.overlays={},this.Os=new Jo(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new d2(this),this.indexManager=new QN,this.remoteDocumentCache=new c2(r=>this.referenceDelegate.Ls(r)),this.serializer=new $1(t),this.qs=new s2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new a2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new l2(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){ze("MemoryPersistence","Starting transaction:",e);const i=new h2(this.Os.next());return this.referenceDelegate.Us(),r(i).next(a=>this.referenceDelegate.Ks(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Gs(e,t){return ue.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class h2 extends fw{constructor(e){super(),this.currentSequenceNumber=e}}class oI{constructor(e){this.persistence=e,this.Qs=new Mx,this.js=null}static zs(e){return new oI(e)}get Ws(){if(this.js)return this.js;throw _t()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),ue.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.Ws,r=>{const i=ot.fromPath(r);return this.Hs(e,i).next(a=>{a||t.removeEntry(i,kt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ue.or([()=>ue.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class f2{constructor(e){this.serializer=e}O(e,t,r,i){const a=new Uh("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mw,{unique:!0}),f.createObjectStore("documentMutations"),mO(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=ue.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),mO(e)),u=u.next(()=>function(f){const y=f.store("targetGlobal"),I={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:kt.min().toTimestamp(),targetCount:0};return y.put("targetGlobalKey",I)}(a))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(f,y){return y.store("mutations").j().next(I=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mw,{unique:!0});const x=y.store("mutations"),R=I.map(j=>x.put(j));return ue.waitFor(R)})}(e,a))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.Ys(a))),r<6&&i>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(a)))),r<7&&i>=7&&(u=u.next(()=>this.Zs(a))),r<8&&i>=8&&(u=u.next(()=>this.ti(e,a))),r<9&&i>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.ei(a))),r<11&&i>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(f){const y=f.createObjectStore("documentOverlays",{keyPath:RP});y.createIndex("collectionPathOverlayIndex",kP,{unique:!1}),y.createIndex("collectionGroupOverlayIndex",JS,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(f){const y=f.createObjectStore("remoteDocumentsV14",{keyPath:yw});y.createIndex("documentKeyIndex",WS),y.createIndex("collectionGroupIndex",ZS)}(e)).next(()=>this.ni(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>this.si(e,a))),r<15&&i>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:QS}).createIndex("sequenceNumberIndex",MP,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:PP}).createIndex("documentKeyIndex",OP,{unique:!1})}(e))),u}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=nI(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>ue.forEach(i,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",u).next(f=>ue.forEach(f,y=>{Rt(y.userId===a.userId);const I=tg(this.serializer,y);return rO(e,a.userId,I).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.X((u,f)=>{const y=new Tn(u),I=[0,Bi(y)];a.push(t.get(I).next(x=>x?ue.resolve():t.put({targetId:0,path:Bi(y),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ue.waitFor(a))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:YS});const r=t.store("collectionParents"),i=new Ax,a=u=>{if(i.add(u)){const f=u.lastSegment(),y=u.popLast();return r.put({collectionId:f,parent:Bi(y)})}};return t.store("remoteDocuments").X({Y:!0},(u,f)=>{const y=new Tn(u);return a(y.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([u,f,y],I)=>{const x=ul(f);return a(x.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const a=Rw(i),u=z1(this.serializer,a);return t.put(u)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((a,u)=>{const f=t.store("remoteDocumentsV14"),y=(I=u,I.document?new ot(Tn.fromString(I.document.name).popFirst(5)):I.noDocument?ot.fromSegments(I.noDocument.path):I.unknownDocument?ot.fromSegments(I.unknownDocument.path):_t()).path.toArray();var I;const x={prefixPath:y.slice(0,y.length-2),collectionGroup:y[y.length-2],documentId:y[y.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(f.put(x))}).next(()=>ue.waitFor(i))}si(e,t){const r=t.store("mutations"),i=dO(this.serializer),a=new Px(oI.zs,this.serializer.fe);return r.j().next(u=>{const f=new Map;return u.forEach(y=>{var I;let x=null!==(I=f.get(y.userId))&&void 0!==I?I:mn();tg(this.serializer,y).keys().forEach(R=>x=x.add(R)),f.set(y.userId,x)}),ue.forEach(f,(y,I)=>{const x=new Di(I),R=JE.de(this.serializer,x),j=a.getIndexManager(x),X=rI.de(x,this.serializer,j,a.referenceDelegate);return new gO(i,X,R,j).recalculateAndSaveOverlaysForDocumentKeys(new BE(t,Jo.ct),y).next()})})}}function mO(n){n.createObjectStore("targetDocuments",{keyPath:AP}).createIndex("documentTargetsIndex",KS,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",xP,{unique:!0}),n.createObjectStore("targetGlobal")}const Ox="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Rx{constructor(e,t,r,i,a,u,f,y,I,x,R=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=a,this.window=u,this.document=f,this.ri=I,this.oi=x,this.ui=R,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=j=>Promise.resolve(),!Rx.D())throw new Ue(ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new n2(this,i),this.di=t+"main",this.serializer=new $1(y),this.wi=new _a(this.di,this.ui,new f2(this.serializer)),this.Bs=new XN(this.referenceDelegate,this.serializer),this.remoteDocumentCache=dO(this.serializer),this.qs=new zN,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===x&&Pr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ue(ye.FAILED_PRECONDITION,Ox);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Jo(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,Te.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Te.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Te.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>aI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(va(e))return ze("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return Uw(e).get("owner").next(t=>ue.resolve(this.Ri(t)))}Pi(e){return aI(e).delete(this.clientId)}bi(){var e=this;return(0,Te.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=o(r,"clientMetadata");return i.j().next(a=>{const u=e.Si(a,18e5),f=a.filter(y=>-1===u.indexOf(y));return ue.forEach(f,y=>i.delete(y.clientId)).next(()=>f)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?ue.resolve(!0):Uw(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Ue(ye.FAILED_PRECONDITION,Ox);return!1}}return!(!this.networkEnabled||!this.inForeground)||aI(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>{if(this.clientId!==i.clientId){const u=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||u&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ze("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Te.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new BE(t,Jo.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>aI(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return rI.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new JN(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return JE.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){ze("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(u=this.ui)?FP:14===u?tx:13===u?ex:12===u?NP:11===u?XS:void _t();var u;let f;return this.wi.runTransaction(e,i,a,y=>(f=new BE(y,this.Os?this.Os.next():Jo.ct),"readwrite-primary"===t?this.Ti(f).next(I=>!!I||this.Ei(f)).next(I=>{if(!I)throw Pr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Ue(ye.FAILED_PRECONDITION,kE);return r(f)}).next(I=>this.vi(f).next(()=>I)):this.Oi(f).next(()=>r(f)))).then(y=>(f.raiseOnCommittedEvent(),y))}Oi(e){return Uw(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ue(ye.FAILED_PRECONDITION,Ox)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Uw(e).put("owner",t)}static D(){return _a.D()}Ai(e){const t=Uw(e);return t.get("owner").next(r=>this.Ri(r)?(ze("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ue.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Pr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,cn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return ze("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Pr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Pr("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Uw(n){return o(n,"owner")}function aI(n){return o(n,"clientMetadata")}function kx(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Nx{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=mn(),i=mn();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Nx(e,t.fromCache,r,i)}}class yO{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(a=>a||this.Gi(e,t,i,r)).next(a=>a||this.Qi(e,t))}Ki(e,t){if(t1(t))return ue.resolve(null);let r=Xo(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=GE(t,null,"F"),r=Xo(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=mn(...a);return this.Ui.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(y=>{const I=this.ji(t,f);return this.zi(t,I,u,y.readTime)?this.Ki(e,GE(t,null,"F")):this.Wi(e,I,t,y)}))})))}Gi(e,t,r,i){return t1(t)||i.isEqual(kt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(a=>{const u=this.ji(t,a);return this.zi(t,u,r,i)?this.Qi(e,t):($p()<=Hc.in.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ux(t)),this.Wi(e,u,t,jS(i,-1)))})}ji(e,t){let r=new b(i1(e));return t.forEach((i,a)=>{Cw(e,a)&&(r=r.add(a))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Qi(e,t){return $p()<=Hc.in.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",ux(t)),this.Ui.getDocumentsMatchingQuery(e,t,no.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}class p2{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new h(Kt),this.Yi=new md(a=>Kp(a),ww),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gO(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function _O(n,e,t,r){return new p2(n,e,t,r)}function vO(n,e){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,Te.Z)(function*(n,e){const t=lt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],f=[];let y=mn();for(const I of i){u.push(I.batchId);for(const x of I.mutations)y=y.add(x.key)}for(const I of a){f.push(I.batchId);for(const x of I.mutations)y=y.add(x.key)}return t.localDocuments.getDocuments(r,y).next(I=>({er:I,removedBatchIds:u,addedBatchIds:f}))})})}),Fx.apply(this,arguments)}function g2(n,e){const t=lt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Zi.newChangeBuffer({trackRemovals:!0});return function(u,f,y,I){const x=y.batch,R=x.keys();let j=ue.resolve();return R.forEach(X=>{j=j.next(()=>I.getEntry(f,X)).next(he=>{const Be=y.docVersions.get(X);Rt(null!==Be),he.version.compareTo(Be)<0&&(x.applyToRemoteDocument(he,y),he.isValidDocument()&&(he.setReadTime(y.commitVersion),I.addEntry(he)))})}),j.next(()=>u.mutationQueue.removeMutationBatch(f,x))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let f=mn();for(let y=0;y<u.mutationResults.length;++y)u.mutationResults[y].transformResults.length>0&&(f=f.add(u.batch.mutations[y].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function wO(n){const e=lt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function m2(n,e){const t=lt(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const f=[];e.targetChanges.forEach((x,R)=>{const j=i.get(R);if(!j)return;f.push(t.Bs.removeMatchingKeys(a,x.removedDocuments,R).next(()=>t.Bs.addMatchingKeys(a,x.addedDocuments,R)));let X=j.withSequenceNumber(a.currentSequenceNumber);var he,Be,Re;null!==e.targetMismatches.get(R)?X=X.withResumeToken(re.EMPTY_BYTE_STRING,kt.min()).withLastLimboFreeSnapshotVersion(kt.min()):x.resumeToken.approximateByteSize()>0&&(X=X.withResumeToken(x.resumeToken,r)),i=i.insert(R,X),Be=X,Re=x,(0===(he=j).resumeToken.approximateByteSize()||Be.snapshotVersion.toMicroseconds()-he.snapshotVersion.toMicroseconds()>=3e8||Re.addedDocuments.size+Re.modifiedDocuments.size+Re.removedDocuments.size>0)&&f.push(t.Bs.updateTargetData(a,X))});let y=Os(),I=mn();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,x))}),f.push(bO(a,u,e.documentUpdates).next(x=>{y=x.nr,I=x.sr})),!r.isEqual(kt.min())){const x=t.Bs.getLastRemoteSnapshotVersion(a).next(R=>t.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(x)}return ue.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,y,I)).next(()=>y)}).then(a=>(t.Ji=i,a))}function bO(n,e,t){let r=mn(),i=mn();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=Os();return t.forEach((f,y)=>{const I=a.get(f);y.isFoundDocument()!==I.isFoundDocument()&&(i=i.add(f)),y.isNoDocument()&&y.version.isEqual(kt.min())?(e.removeEntry(f,y.readTime),u=u.insert(f,y)):!I.isValidDocument()||y.version.compareTo(I.version)>0||0===y.version.compareTo(I.version)&&I.hasPendingWrites?(e.addEntry(y),u=u.insert(f,y)):ze("LocalStore","Ignoring outdated watch update for ",f,". Current version:",I.version," Watch version:",y.version)}),{nr:u,sr:i}})}function y2(n,e){const t=lt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fy(n,e){const t=lt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(a=>a?(i=a,ue.resolve(i)):t.Bs.allocateTargetId(r).next(u=>(i=new _d(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function py(n,e,t){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,Te.Z)(function*(n,e,t){const r=lt(n),i=r.Ji.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!va(u))throw u;ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),Lx.apply(this,arguments)}function lI(n,e,t){const r=lt(n);let i=kt.min(),a=mn();return r.persistence.runTransaction("Execute query","readonly",u=>function(f,y,I){const x=lt(f),R=x.Yi.get(I);return void 0!==R?ue.resolve(x.Ji.get(R)):x.Bs.getTargetData(y,I)}(r,u,Xo(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(u,f.targetId).next(y=>{a=y})}).next(()=>r.Hi.getDocumentsMatchingQuery(u,e,t?i:kt.min(),t?a:mn())).next(f=>(IO(r,r1(e),f),{documents:f,ir:a})))}function CO(n,e){const t=lt(n),r=lt(t.Bs),i=t.Ji.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.le(a,e).next(u=>u?u.target:null))}function EO(n,e){const t=lt(n),r=t.Xi.get(e)||kt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Zi.getAllFromCollectionGroup(i,e,jS(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(IO(t,e,i),i))}function IO(n,e,t){let r=n.Xi.get(e)||kt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Xi.set(e,r)}function Vx(){return Vx=(0,Te.Z)(function*(n,e,t,r){const i=lt(n);let a=mn(),u=Os();for(const I of t){const x=e.rr(I.metadata.name);I.document&&(a=a.add(x));const R=e.ur(I);R.setReadTime(e.cr(I.metadata.readTime)),u=u.insert(x,R)}const f=i.Zi.newChangeBuffer({trackRemovals:!0}),y=yield fy(i,(I=r,Xo(iy(Tn.fromString(`__bundle__/docs/${I}`)))));var I;return i.persistence.runTransaction("Apply bundle documents","readwrite",I=>bO(I,f,u).next(x=>(f.apply(I),x)).next(x=>i.Bs.removeMatchingKeysForTargetId(I,y.targetId).next(()=>i.Bs.addMatchingKeys(I,a,y.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(I,x.nr,x.sr)).next(()=>x.nr)))}),Vx.apply(this,arguments)}function v2(n,e){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,Te.Z)(function*(n,e,t=mn()){const r=yield fy(n,Xo(Ex(e.bundledQuery))),i=lt(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const u=gi(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.qs.saveNamedQuery(a,e);const f=r.withResumeToken(re.EMPTY_BYTE_STRING,u);return i.Ji=i.Ji.insert(f.targetId,f),i.Bs.updateTargetData(a,f).next(()=>i.Bs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Bs.addMatchingKeys(a,t,r.targetId)).next(()=>i.qs.saveNamedQuery(a,e))})}),Ux.apply(this,arguments)}function DO(n,e){return`firestore_clients_${n}_${e}`}function TO(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Bx(n,e){return`firestore_targets_${n}_${e}`}class cI{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static ar(e,t,r){const i=JSON.parse(r);let a,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(a=new Ue(i.error.code,i.error.message))),u?new cI(e,t,i.state,a):(Pr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Ue(r.error.code,r.error.message))),a?new Bw(e,r.state,i):(Pr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class uI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=dx();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=gw(r.activeTargetIds[u]),a=a.add(r.activeTargetIds[u]);return i?new uI(e,a):(Pr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Hx{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Hx(t.clientId,t.onlineState):(Pr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class $x{constructor(){this.activeTargetIds=dx()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jx{constructor(e,t,r,i,a){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new h(Kt),this.started=!1,this.yr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=DO(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new $x),this.Tr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Te.Z)(function*(){const t=yield e.syncEngine.$i();for(const i of t){if(i===e.wr)continue;const a=e.getItem(DO(e.persistenceKey,i));if(a){const u=uI.ar(i,a);u&&(e.gr=e.gr.insert(u.clientId,u))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const i=e.br(r);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Bx(this.persistenceKey,e));if(r){const i=Bw.ar(e,r);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Bx(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ze("SharedClientState","READ",e,t),t}setItem(e,t){ze("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ze("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ze("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void Pr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Te.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.Fr(i,null)}{const i=t.Br(r.key,r.newValue);if(i)return t.Fr(i.clientId,i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.Lr(r.key,r.newValue);if(i)return t.qr(i)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const i=t.Ur(r.key,r.newValue);if(i)return t.Kr(i)}}else if(r.key===t.vr){if(null!==r.newValue){const i=t.br(r.newValue);if(i)return t.Vr(i)}}else if(r.key===t.Ir){const i=function(a){let u=Jo.ct;if(null!=a)try{const f=JSON.parse(a);Rt("number"==typeof f),u=f}catch(f){Pr("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(r.newValue);i!==Jo.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Gr(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Qr(a)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const i=new cI(this.currentUser,e,t,r),a=TO(this.persistenceKey,this.currentUser,e);this.setItem(a,i.hr())}Cr(e){const t=TO(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const i=Bx(this.persistenceKey,e),a=new Bw(e,t,r);this.setItem(i,a.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return uI.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return cI.ar(new Di(void 0!==r[2]?r[2]:null),i,t)}Ur(e,t){const r=this.Ar.exec(e),i=Number(r[1]);return Bw.ar(i,t)}br(e){return Hx.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Te.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);ze("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),u=[],f=[];return a.forEach(y=>{i.has(y)||u.push(y)}),i.forEach(y=>{a.has(y)||f.push(y)}),this.syncEngine.Wr(u,f).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=dx();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class SO{constructor(){this.Hr=new $x,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new $x,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class w2{Yr(e){}shutdown(){}}class xO{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let dI=null;function zx(){return null===dI?dI=268435456+Math.round(2147483648*Math.random()):dI++,"0x"+dI.toString(16)}const b2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class C2{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Mo="WebChannelConnection";class E2 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,a){const u=zx(),f=this.To(e,t);ze("RestConnection",`Sending RPC '${e}' ${u}:`,f,r);const y={};return this.Eo(y,i,a),this.Ao(e,f,y,r).then(I=>(ze("RestConnection",`Received RPC '${e}' ${u}: `,I),I),I=>{throw ii("RestConnection",`RPC '${e}' ${u} failed with error: `,I,"url: ",f,"request:",r),I})}vo(e,t,r,i,a,u){return this.Io(e,t,r,i,a)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ud,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}To(e,t){return`${this.mo}/v1/${t}:${b2[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const a=zx();return new Promise((u,f)=>{const y=new SE;y.setWithCredentials(!0),y.listenOnce(rw.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case nw.NO_ERROR:const x=y.getResponseJson();ze(Mo,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(x)),u(x);break;case nw.TIMEOUT:ze(Mo,`RPC '${e}' ${a} timed out`),f(new Ue(ye.DEADLINE_EXCEEDED,"Request time out"));break;case nw.HTTP_ERROR:const R=y.getStatus();if(ze(Mo,`RPC '${e}' ${a} failed with status:`,R,"response text:",y.getResponseText()),R>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const X=j?.error;if(X&&X.status&&X.message){const he=function(Be){const Re=Be.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(Re)>=0?Re:ye.UNKNOWN}(X.status);f(new Ue(he,X.message))}else f(new Ue(ye.UNKNOWN,"Server responded with status "+y.getStatus()))}else f(new Ue(ye.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{ze(Mo,`RPC '${e}' ${a} completed.`)}});const I=JSON.stringify(i);ze(Mo,`RPC '${e}' ${a} sending request:`,i),y.send(t,"POST",I,r,15)})}Ro(e,t,r){const i=zx(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=LS(),f=Ms(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},I=this.longPollingOptions.timeoutSeconds;void 0!==I&&(y.longPollingTimeout=Math.round(1e3*I)),this.useFetchStreams&&(y.xmlHttpFactory=new iw({})),this.Eo(y.initMessageHeaders,t,r),y.encodeInitMessageHeaders=!0;const x=a.join("");ze(Mo,`Creating RPC '${e}' stream ${i}: ${x}`,y);const R=u.createWebChannel(x,y);let j=!1,X=!1;const he=new C2({ro:Re=>{X?ze(Mo,`Not sending because RPC '${e}' stream ${i} is closed:`,Re):(j||(ze(Mo,`Opening RPC '${e}' stream ${i} transport.`),R.open(),j=!0),ze(Mo,`RPC '${e}' stream ${i} sending:`,Re),R.send(Re))},oo:()=>R.close()}),Be=(Re,vt,At)=>{Re.listen(vt,pt=>{try{At(pt)}catch(Mt){setTimeout(()=>{throw Mt},0)}})};return Be(R,Hp.EventType.OPEN,()=>{X||ze(Mo,`RPC '${e}' stream ${i} transport opened.`)}),Be(R,Hp.EventType.CLOSE,()=>{X||(X=!0,ze(Mo,`RPC '${e}' stream ${i} transport closed`),he.wo())}),Be(R,Hp.EventType.ERROR,Re=>{X||(X=!0,ii(Mo,`RPC '${e}' stream ${i} transport errored:`,Re),he.wo(new Ue(ye.UNAVAILABLE,"The operation could not be completed")))}),Be(R,Hp.EventType.MESSAGE,Re=>{var vt;if(!X){const At=Re.data[0];Rt(!!At);const pt=At,Mt=pt.error||(null===(vt=pt[0])||void 0===vt?void 0:vt.error);if(Mt){ze(Mo,`RPC '${e}' stream ${i} received error:`,Mt);const sn=Mt.status;let yn=function(ba){const Ry=Si[ba];if(void 0!==Ry)return C1(Ry)}(sn),xi=Mt.message;void 0===yn&&(yn=ye.INTERNAL,xi="Unknown error status: "+sn+" with message "+Mt.message),X=!0,he.wo(new Ue(yn,xi)),R.close()}else ze(Mo,`RPC '${e}' stream ${i} received:`,At),he._o(At)}}),Be(f,VS.STAT_EVENT,Re=>{Re.stat===TE.PROXY?ze(Mo,`RPC '${e}' stream ${i} detected buffering proxy`):Re.stat===TE.NOPROXY&&ze(Mo,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{he.fo()},0),he}}function AO(){return typeof window<"u"?window:null}function hI(){return typeof document<"u"?document:null}function Hw(n){return new RN(n,!0)}class Gx{constructor(e,t,r=1e3,i=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&ze("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class MO{constructor(e,t,r,i,a,u,f,y){this.ii=e,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Gx(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Te.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Te.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,Te.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ye.RESOURCE_EXHAUSTED?(Pr(t.toString()),Pr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ye.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Ue(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,Te.Z)(function*(){e.state=0,e.start()}))}tu(e){return ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class I2 extends MO{constructor(e,t,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=a}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function FN(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:_t(),i=e.targetChange.targetIds||[],a=function(y,I){return y.useProto3Json?(Rt(void 0===I||"string"==typeof I),re.fromBase64String(I||"")):(Rt(void 0===I||I instanceof Uint8Array),re.fromUint8Array(I||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(y){const I=void 0===y.code?ye.UNKNOWN:C1(y.code);return new Ue(I,y.message||"")}(u);t=new S1(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Qc(n,r.document.name),a=gi(r.document.updateTime),u=r.document.createTime?gi(r.document.createTime):kt.min(),f=new mo({mapValue:{fields:r.document.fields}}),y=Or.newFoundDocument(i,a,u,f);t=new YE(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,i=Qc(n,r.document),a=r.readTime?gi(r.readTime):kt.min(),u=Or.newNoDocument(i,a);t=new YE([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=Qc(n,r.document);t=new YE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return _t();{const r=e.filter,{count:i=0,unchangedNames:a}=r,u=new SN(i,a);t=new T1(r.targetId,u)}}var y;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return kt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?kt.min():a.readTime?gi(a.readTime):kt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Pw(this.serializer),t.addTarget=function(i,a){let u;const f=a.target;if(u=$E(f)?{documents:L1(i,f)}:{query:Cx(i,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){u.resumeToken=P1(i,a.resumeToken);const y=_x(i,a.expectedCount);null!==y&&(u.expectedCount=y)}else if(a.snapshotVersion.compareTo(kt.min())>0){u.readTime=cy(i,a.snapshotVersion.toTimestamp());const y=_x(i,a.expectedCount);null!==y&&(u.expectedCount=y)}return u}(this.serializer,e);const r=function VN(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Pw(this.serializer),t.removeTarget=e,this.Wo(t)}}class D2 extends MO{constructor(e,t,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function LN(n,e){return n&&n.length>0?(Rt(void 0!==e),n.map(t=>function(r,i){let a=gi(r.updateTime?r.updateTime:i);return a.isEqual(kt.min())&&(a=gi(i)),new EN(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=gi(e.commitTime);return this.listener.cu(r,t)}return Rt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Pw(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Ow(this.serializer,r))};this.Wo(t)}}class T2 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Ue(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Io(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ue(ye.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.vo(e,t,r,a,u,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ue(ye.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class x2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Pr(t),this.mu=!1):ze("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class A2{constructor(e,t,r,i,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(f=>{r.enqueueAndForget((0,Te.Z)(function*(){var y;Kh(u)&&(ze("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,Te.Z)(function*(I){const x=lt(I);x.vu.add(4),yield gy(x),x.bu.set("Unknown"),x.vu.delete(4),yield $w(x)}),function(I){return y.apply(this,arguments)})(u))}))}),this.bu=new x2(r,i)}}function $w(n){return Wx.apply(this,arguments)}function Wx(){return Wx=(0,Te.Z)(function*(n){if(Kh(n))for(const e of n.Ru)yield e(!0)}),Wx.apply(this,arguments)}function gy(n){return Zx.apply(this,arguments)}function Zx(){return Zx=(0,Te.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),Zx.apply(this,arguments)}function fI(n,e){const t=lt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),Qx(t)?Yx(t):yy(t).Ko()&&Kx(t,e))}function jw(n,e){const t=lt(n),r=yy(t);t.Au.delete(e),r.Ko()&&PO(t,e),0===t.Au.size&&(r.Ko()?r.jo():Kh(t)&&t.bu.set("Unknown"))}function Kx(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(kt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}yy(n).su(e)}function PO(n,e){n.Vu.qt(e),yy(n).iu(e)}function Yx(n){n.Vu=new AN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),yy(n).start(),n.bu.gu()}function Qx(n){return Kh(n)&&!yy(n).Uo()&&n.Au.size>0}function Kh(n){return 0===lt(n).vu.size}function OO(n){n.Vu=void 0}function M2(n){return Jx.apply(this,arguments)}function Jx(){return Jx=(0,Te.Z)(function*(n){n.Au.forEach((e,t)=>{Kx(n,e)})}),Jx.apply(this,arguments)}function P2(n,e){return Xx.apply(this,arguments)}function Xx(){return Xx=(0,Te.Z)(function*(n,e){OO(n),Qx(n)?(n.bu.Iu(e),Yx(n)):n.bu.set("Unknown")}),Xx.apply(this,arguments)}function O2(n,e,t){return eA.apply(this,arguments)}function eA(){return eA=(0,Te.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof S1&&2===e.state&&e.cause)try{yield(r=(0,Te.Z)(function*(i,a){const u=a.cause;for(const f of a.targetIds)i.Au.has(f)&&(yield i.remoteSyncer.rejectListen(f,u),i.Au.delete(f),i.Vu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield pI(n,r)}else if(e instanceof YE?n.Vu.Ht(e):e instanceof T1?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(kt.min()))try{const r=yield wO(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const u=i.Vu.ce(a);return u.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const I=i.Au.get(y);I&&i.Au.set(y,I.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach((f,y)=>{const I=i.Au.get(f);if(!I)return;i.Au.set(f,I.withResumeToken(re.EMPTY_BYTE_STRING,I.snapshotVersion)),PO(i,f);const x=new _d(I.target,f,y,I.sequenceNumber);Kx(i,x)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){ze("RemoteStore","Failed to raise snapshot:",r),yield pI(n,r)}var r}),eA.apply(this,arguments)}function pI(n,e,t){return tA.apply(this,arguments)}function tA(){return tA=(0,Te.Z)(function*(n,e,t){if(!va(e))throw e;n.vu.add(1),yield gy(n),n.bu.set("Offline"),t||(t=()=>wO(n.localStore)),n.asyncQueue.enqueueRetryable((0,Te.Z)(function*(){ze("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield $w(n)}))}),tA.apply(this,arguments)}function RO(n,e){return e().catch(t=>pI(n,t,e))}function my(n){return nA.apply(this,arguments)}function nA(){return nA=(0,Te.Z)(function*(n){const e=lt(n),t=Yh(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;R2(e);)try{const i=yield y2(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,k2(e,i)}catch(i){yield pI(e,i)}kO(e)&&NO(e)}),nA.apply(this,arguments)}function R2(n){return Kh(n)&&n.Eu.length<10}function k2(n,e){n.Eu.push(e);const t=Yh(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function kO(n){return Kh(n)&&!Yh(n).Uo()&&n.Eu.length>0}function NO(n){Yh(n).start()}function N2(n){return rA.apply(this,arguments)}function rA(){return rA=(0,Te.Z)(function*(n){Yh(n).hu()}),rA.apply(this,arguments)}function F2(n){return iA.apply(this,arguments)}function iA(){return iA=(0,Te.Z)(function*(n){const e=Yh(n);for(const t of n.Eu)e.uu(t.mutations)}),iA.apply(this,arguments)}function L2(n,e,t){return oA.apply(this,arguments)}function oA(){return oA=(0,Te.Z)(function*(n,e,t){const r=n.Eu.shift(),i=px.from(r,e,t);yield RO(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield my(n)}),oA.apply(this,arguments)}function V2(n,e){return sA.apply(this,arguments)}function sA(){return sA=(0,Te.Z)(function*(n,e){var t;e&&Yh(n).ou&&(yield(t=(0,Te.Z)(function*(r,i){if(b1(a=i.code)&&a!==ye.ABORTED){const u=r.Eu.shift();Yh(r).Qo(),yield RO(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield my(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),kO(n)&&NO(n)}),sA.apply(this,arguments)}function FO(n,e){return aA.apply(this,arguments)}function aA(){return aA=(0,Te.Z)(function*(n,e){const t=lt(n);t.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const r=Kh(t);t.vu.add(3),yield gy(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield $w(t)}),aA.apply(this,arguments)}function lA(n,e){return cA.apply(this,arguments)}function cA(){return cA=(0,Te.Z)(function*(n,e){const t=lt(n);e?(t.vu.delete(2),yield $w(t)):e||(t.vu.add(2),yield gy(t),t.bu.set("Unknown"))}),cA.apply(this,arguments)}function yy(n){return n.Su||(n.Su=function(e,t,r){const i=lt(e);return i.fu(),new I2(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:M2.bind(null,n),ao:P2.bind(null,n),nu:O2.bind(null,n)}),n.Ru.push(function(){var e=(0,Te.Z)(function*(t){t?(n.Su.Qo(),Qx(n)?Yx(n):n.bu.set("Unknown")):(yield n.Su.stop(),OO(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Yh(n){return n.Du||(n.Du=function(e,t,r){const i=lt(e);return i.fu(),new D2(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:N2.bind(null,n),ao:V2.bind(null,n),au:F2.bind(null,n),cu:L2.bind(null,n)}),n.Ru.push(function(){var e=(0,Te.Z)(function*(t){t?(n.Du.Qo(),yield my(n)):(yield n.Du.stop(),n.Eu.length>0&&(ze("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class uA{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,a){const u=Date.now()+r,f=new uA(e,t,u,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ue(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _y(n,e){if(Pr("AsyncQueue",`${e}: ${n}`),va(n))return new Ue(ye.UNAVAILABLE,`${e}: ${n}`);throw n}class vy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ot.comparator(t.key,r.key):(t,r)=>ot.comparator(t.key,r.key),this.keyedMap=Ew(),this.sortedSet=new h(this.comparator)}static emptySet(e){return new vy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new vy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class LO{constructor(){this.Cu=new h(ot.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):_t():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class wy{constructor(e,t,r,i,a,u,f,y,I){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=y,this.hasCachedResults=I}static fromInitialDocuments(e,t,r,i,a){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new wy(e,t,vy.emptySet(t),u,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class U2{constructor(){this.Nu=void 0,this.listeners=[]}}class B2{constructor(){this.queries=new md(e=>n1(e),bw),this.onlineState="Unknown",this.ku=new Set}}function dA(n,e){return hA.apply(this,arguments)}function hA(){return hA=(0,Te.Z)(function*(n,e){const t=lt(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new U2),i)try{a.Nu=yield t.onListen(r)}catch(u){const f=_y(u,`Initialization of query '${ux(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,a),a.listeners.push(e),e.Mu(t.onlineState),a.Nu&&e.$u(a.Nu)&&gA(t)}),hA.apply(this,arguments)}function fA(n,e){return pA.apply(this,arguments)}function pA(){return pA=(0,Te.Z)(function*(n,e){const t=lt(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),pA.apply(this,arguments)}function H2(n,e){const t=lt(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const f of u.listeners)f.$u(i)&&(r=!0);u.Nu=i}}r&&gA(t)}function $2(n,e,t){const r=lt(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function gA(n){n.ku.forEach(e=>{e.next()})}class mA{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new wy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=wy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class j2{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class VO{constructor(e){this.serializer=e}rr(e){return Qc(this.serializer,e)}ur(e){return e.metadata.exists?F1(this.serializer,e.document,!1):Or.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return gi(e)}}class z2{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=UO(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=Tn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new VO(this.serializer);for(const i of e)if(i.metadata.queries){const a=r.rr(i.metadata.name);for(const u of i.metadata.queries){const f=(t.get(u)||mn()).add(a);t.set(u,f)}}return t}complete(){var e=this;return(0,Te.Z)(function*(){const t=yield function _2(n,e,t,r){return Vx.apply(this,arguments)}(e.localStore,new VO(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const i of e.queries)yield v2(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function UO(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class BO{constructor(e){this.key=e}}class HO{constructor(e){this.key=e}}class $O{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=mn(),this.mutatedKeys=mn(),this.tc=i1(e),this.ec=new vy(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new LO,i=t?t.ec:this.ec;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,f=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,I="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((x,R)=>{const j=i.get(x),X=Cw(this.query,R)?R:null,he=!!j&&this.mutatedKeys.has(j.key),Be=!!X&&(X.hasLocalMutations||this.mutatedKeys.has(X.key)&&X.hasCommittedMutations);let Re=!1;j&&X?j.data.isEqual(X.data)?he!==Be&&(r.track({type:3,doc:X}),Re=!0):this.rc(j,X)||(r.track({type:2,doc:X}),Re=!0,(y&&this.tc(X,y)>0||I&&this.tc(X,I)<0)&&(f=!0)):!j&&X?(r.track({type:0,doc:X}),Re=!0):j&&!X&&(r.track({type:1,doc:j}),Re=!0,(y||I)&&(f=!0)),Re&&(X?(u=u.add(X),a=Be?a.add(x):a.delete(x)):(u=u.delete(x),a=a.delete(x)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const x="F"===this.query.limitType?u.last():u.first();u=u.delete(x.key),a=a.delete(x.key),r.track({type:1,doc:x})}return{ec:u,ic:r,zi:f,mutatedKeys:a}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((I,x)=>function(R,j){const X=he=>{switch(he){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return X(R)-X(j)}(I.type,x.type)||this.tc(I.doc,x.doc)),this.oc(r);const u=t?this.uc():[],f=0===this.Zu.size&&this.current?1:0,y=f!==this.Xu;return this.Xu=f,0!==a.length||y?{snapshot:new wy(this.query,e.ec,i,a,e.mutatedKeys,0===f,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:u}:{cc:u}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new LO,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=mn(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new HO(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new BO(r))}),t}hc(e){this.Yu=e.ir,this.Zu=mn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return wy.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class G2{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class q2{constructor(e){this.key=e,this.fc=!1}}class W2{constructor(e,t,r,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.dc={},this.wc=new md(f=>n1(f),bw),this._c=new Map,this.mc=new Set,this.gc=new h(ot.comparator),this.yc=new Map,this.Ic=new Mx,this.Tc={},this.Ec=new Map,this.Ac=ig.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Z2(n,e){return yA.apply(this,arguments)}function yA(){return yA=(0,Te.Z)(function*(n,e){const t=BA(n);let r,i;const a=t.wc.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.lc();else{const u=yield fy(t.localStore,Xo(e)),f=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield _A(t,e,r,"current"===f,u.resumeToken),t.isPrimaryClient&&fI(t.remoteStore,u)}return i}),yA.apply(this,arguments)}function _A(n,e,t,r,i){return vA.apply(this,arguments)}function vA(){return vA=(0,Te.Z)(function*(n,e,t,r,i){n.Rc=(R,j,X)=>{return(he=(0,Te.Z)(function*(Be,Re,vt,At){let pt=Re.view.sc(vt);pt.zi&&(pt=yield lI(Be.localStore,Re.query,!1).then(({documents:yn})=>Re.view.sc(yn,pt)));const Mt=At&&At.targetChanges.get(Re.targetId),sn=Re.view.applyChanges(pt,Be.isPrimaryClient,Mt);return AA(Be,Re.targetId,sn.cc),sn.snapshot}),function(Be,Re,vt,At){return he.apply(this,arguments)})(n,R,j,X);var he};const a=yield lI(n.localStore,e,!0),u=new $O(e,a.ir),f=u.sc(a.documents),y=Aw.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),I=u.applyChanges(f,n.isPrimaryClient,y);AA(n,t,I.cc);const x=new G2(e,t,u);return n.wc.set(e,x),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),I.snapshot}),vA.apply(this,arguments)}function K2(n,e){return wA.apply(this,arguments)}function wA(){return wA=(0,Te.Z)(function*(n,e){const t=lt(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(a=>!bw(a,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield py(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),jw(t.remoteStore,r.targetId),by(t,r.targetId)}).catch(So))):(by(t,r.targetId),yield py(t.localStore,r.targetId,!0))}),wA.apply(this,arguments)}function bA(){return bA=(0,Te.Z)(function*(n,e,t){const r=HA(n);try{const i=yield function(a,u){const f=lt(a),y=hr.now(),I=u.reduce((j,X)=>j.add(X.key),mn());let x,R;return f.persistence.runTransaction("Locally write mutations","readwrite",j=>{let X=Os(),he=mn();return f.Zi.getEntries(j,I).next(Be=>{X=Be,X.forEach((Re,vt)=>{vt.isValidDocument()||(he=he.add(Re))})}).next(()=>f.localDocuments.getOverlayedDocuments(j,X)).next(Be=>{x=Be;const Re=[];for(const vt of u){const At=DN(vt,x.get(vt.key).overlayedDocument);null!=At&&Re.push(new yd(vt.key,At,$P(At.value.mapValue),Hr.exists(!0)))}return f.mutationQueue.addMutationBatch(j,y,Re,u)}).next(Be=>{R=Be;const Re=Be.applyToLocalDocumentSet(x,he);return f.documentOverlayCache.saveOverlays(j,Be.batchId,Re)})}).then(()=>({batchId:R.batchId,changes:s1(x)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,f){let y=a.Tc[a.currentUser.toKey()];y||(y=new h(Kt)),y=y.insert(u,f),a.Tc[a.currentUser.toKey()]=y}(r,i.batchId,t),yield vd(r,i.changes),yield my(r.remoteStore)}catch(i){const a=_y(i,"Failed to persist write");t.reject(a)}}),bA.apply(this,arguments)}function jO(n,e){return CA.apply(this,arguments)}function CA(){return CA=(0,Te.Z)(function*(n,e){const t=lt(n);try{const r=yield m2(t.localStore,e);e.targetChanges.forEach((i,a)=>{const u=t.yc.get(a);u&&(Rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.fc=!0:i.modifiedDocuments.size>0?Rt(u.fc):i.removedDocuments.size>0&&(Rt(u.fc),u.fc=!1))}),yield vd(t,r,e)}catch(r){yield So(r)}}),CA.apply(this,arguments)}function zO(n,e,t){const r=lt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((a,u)=>{const f=u.view.Mu(e);f.snapshot&&i.push(f.snapshot)}),function(a,u){const f=lt(a);f.onlineState=u;let y=!1;f.queries.forEach((I,x)=>{for(const R of x.listeners)R.Mu(u)&&(y=!0)}),y&&gA(f)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Q2(n,e,t){return EA.apply(this,arguments)}function EA(){return EA=(0,Te.Z)(function*(n,e,t){const r=lt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),a=i&&i.key;if(a){let u=new h(ot.comparator);u=u.insert(a,Or.newNoDocument(a,kt.min()));const f=mn().add(a),y=new xw(kt.min(),new Map,new h(Kt),u,f);yield jO(r,y),r.gc=r.gc.remove(a),r.yc.delete(e),MA(r)}else yield py(r.localStore,e,!1).then(()=>by(r,e,t)).catch(So)}),EA.apply(this,arguments)}function J2(n,e){return IA.apply(this,arguments)}function IA(){return IA=(0,Te.Z)(function*(n,e){const t=lt(n),r=e.batch.batchId;try{const i=yield g2(t.localStore,e);xA(t,r,null),SA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield vd(t,i)}catch(i){yield So(i)}}),IA.apply(this,arguments)}function X2(n,e,t){return DA.apply(this,arguments)}function DA(){return DA=(0,Te.Z)(function*(n,e,t){const r=lt(n);try{const i=yield function(a,u){const f=lt(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let I;return f.mutationQueue.lookupMutationBatch(y,u).next(x=>(Rt(null!==x),I=x.keys(),f.mutationQueue.removeMutationBatch(y,x))).next(()=>f.mutationQueue.performConsistencyCheck(y)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(y,I,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,I)).next(()=>f.localDocuments.getDocuments(y,I))})}(r.localStore,e);xA(r,e,t),SA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield vd(r,i)}catch(i){yield So(i)}}),DA.apply(this,arguments)}function TA(){return TA=(0,Te.Z)(function*(n,e){const t=lt(n);Kh(t.remoteStore)||ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const u=lt(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ec.get(r)||[];i.push(e),t.Ec.set(r,i)}catch(r){const i=_y(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),TA.apply(this,arguments)}function SA(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function xA(n,e,t){const r=lt(n);let i=r.Tc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function by(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||GO(n,r)})}function GO(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(jw(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),MA(n))}function AA(n,e,t){for(const r of t)r instanceof BO?(n.Ic.addReference(r.key,e),tF(n,r)):r instanceof HO?(ze("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||GO(n,r.key)):_t()}function tF(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(ze("SyncEngine","New document in limbo: "+t),n.mc.add(r),MA(n))}function MA(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new ot(Tn.fromString(e)),r=n.Ac.next();n.yc.set(r,new q2(t)),n.gc=n.gc.insert(t,r),fI(n.remoteStore,new _d(Xo(iy(t.path)),r,"TargetPurposeLimboResolution",Jo.ct))}}function vd(n,e,t){return PA.apply(this,arguments)}function PA(){return PA=(0,Te.Z)(function*(n,e,t){const r=lt(n),i=[],a=[],u=[];var f;r.wc.isEmpty()||(r.wc.forEach((f,y)=>{u.push(r.Rc(y,e,t).then(I=>{if((I||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,I?.fromCache?"not-current":"current"),I){i.push(I);const x=Nx.Li(y.targetId,I);a.push(x)}}))}),yield Promise.all(u),r.dc.nu(i),yield(f=(0,Te.Z)(function*(y,I){const x=lt(y);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>ue.forEach(I,j=>ue.forEach(j.Fi,X=>x.persistence.referenceDelegate.addReference(R,j.targetId,X)).next(()=>ue.forEach(j.Bi,X=>x.persistence.referenceDelegate.removeReference(R,j.targetId,X)))))}catch(R){if(!va(R))throw R;ze("LocalStore","Failed to update sequence numbers: "+R)}for(const R of I){const j=R.targetId;if(!R.fromCache){const X=x.Ji.get(j),Be=X.withLastLimboFreeSnapshotVersion(X.snapshotVersion);x.Ji=x.Ji.insert(j,Be)}}}),function(y,I){return f.apply(this,arguments)})(r.localStore,a))}),PA.apply(this,arguments)}function nF(n,e){return OA.apply(this,arguments)}function OA(){return OA=(0,Te.Z)(function*(n,e){const t=lt(n);if(!t.currentUser.isEqual(e)){ze("SyncEngine","User change. New user:",e.toKey());const r=yield vO(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(u=>{u.forEach(f=>{f.reject(new Ue(ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield vd(t,r.er)}var i}),OA.apply(this,arguments)}function rF(n,e){const t=lt(n),r=t.yc.get(e);if(r&&r.fc)return mn().add(r.key);{let i=mn();const a=t._c.get(e);if(!a)return i;for(const u of a){const f=t.wc.get(u);i=i.unionWith(f.view.nc)}return i}}function iF(n,e){return RA.apply(this,arguments)}function RA(){return RA=(0,Te.Z)(function*(n,e){const t=lt(n),r=yield lI(t.localStore,e.query,!0),i=e.view.hc(r);return t.isPrimaryClient&&AA(t,e.targetId,i.cc),i}),RA.apply(this,arguments)}function oF(n,e){return kA.apply(this,arguments)}function kA(){return kA=(0,Te.Z)(function*(n,e){const t=lt(n);return EO(t.localStore,e).then(r=>vd(t,r))}),kA.apply(this,arguments)}function sF(n,e,t,r){return NA.apply(this,arguments)}function NA(){return NA=(0,Te.Z)(function*(n,e,t,r){const i=lt(n),a=yield function(u,f){const y=lt(u),I=lt(y.mutationQueue);return y.persistence.runTransaction("Lookup mutation documents","readonly",x=>I.Sn(x,f).next(R=>R?y.localDocuments.getDocuments(x,R):ue.resolve(null)))}(i.localStore,e);var f;null!==a?("pending"===t?yield my(i.remoteStore):"acknowledged"===t||"rejected"===t?(xA(i,e,r||null),SA(i,e),f=e,lt(lt(i.localStore).mutationQueue).Cn(f)):_t(),yield vd(i,a)):ze("SyncEngine","Cannot apply mutation batch with id: "+e)}),NA.apply(this,arguments)}function FA(){return FA=(0,Te.Z)(function*(n,e){const t=lt(n);if(BA(t),HA(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield qO(t,r.toArray());t.vc=!0,yield lA(t.remoteStore,!0);for(const a of i)fI(t.remoteStore,a)}else if(!1===e&&!1!==t.vc){const r=[];let i=Promise.resolve();t._c.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(by(t,u),py(t.localStore,u,!0))),jw(t.remoteStore,u)}),yield i,yield qO(t,r),function(a){const u=lt(a);u.yc.forEach((f,y)=>{jw(u.remoteStore,y)}),u.Ic.Ts(),u.yc=new Map,u.gc=new h(ot.comparator)}(t),t.vc=!1,yield lA(t.remoteStore,!1)}}),FA.apply(this,arguments)}function qO(n,e,t){return LA.apply(this,arguments)}function LA(){return LA=(0,Te.Z)(function*(n,e,t){const r=lt(n),i=[],a=[];for(const u of e){let f;const y=r._c.get(u);if(y&&0!==y.length){f=yield fy(r.localStore,Xo(y[0]));for(const I of y){const x=r.wc.get(I),R=yield iF(r,x);R.snapshot&&a.push(R.snapshot)}}else{const I=yield CO(r.localStore,u);f=yield fy(r.localStore,I),yield _A(r,WO(I),u,!1,f.resumeToken)}i.push(f)}return r.dc.nu(a),i}),LA.apply(this,arguments)}function WO(n){return e1(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function lF(n){const e=lt(n);return lt(lt(e.localStore).persistence).$i()}function cF(n,e,t,r){return VA.apply(this,arguments)}function VA(){return VA=(0,Te.Z)(function*(n,e,t,r){const i=lt(n);if(i.vc)return void ze("SyncEngine","Ignoring unexpected query state notification.");const a=i._c.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield EO(i.localStore,r1(a[0])),f=xw.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,re.EMPTY_BYTE_STRING);yield vd(i,u,f);break}case"rejected":yield py(i.localStore,e,!0),by(i,e,r);break;default:_t()}}),VA.apply(this,arguments)}function uF(n,e,t){return UA.apply(this,arguments)}function UA(){return UA=(0,Te.Z)(function*(n,e,t){const r=BA(n);if(r.vc){for(const i of e){if(r._c.has(i)){ze("SyncEngine","Adding an already active target "+i);continue}const a=yield CO(r.localStore,i),u=yield fy(r.localStore,a);yield _A(r,WO(a),u.targetId,!1,u.resumeToken),fI(r.remoteStore,u)}for(const i of t)r._c.has(i)&&(yield py(r.localStore,i,!1).then(()=>{jw(r.remoteStore,i),by(r,i)}).catch(So))}}),UA.apply(this,arguments)}function BA(n){const e=lt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=jO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Q2.bind(null,e),e.dc.nu=H2.bind(null,e.eventManager),e.dc.Pc=$2.bind(null,e.eventManager),e}function HA(n){const e=lt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=J2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=X2.bind(null,e),e}class zw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Te.Z)(function*(){t.serializer=Hw(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return _O(this.persistence,new yO,e.initialUser,this.serializer)}createPersistence(e){return new Px(oI.zs,this.serializer)}createSharedClientState(e){return new SO}terminate(){var e=this;return(0,Te.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class $A extends zw{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Te.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield HA(r.Vc.syncEngine),yield my(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return _O(this.persistence,new yO,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new lO(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new GS(t,this.persistence);return new FE(e.asyncQueue,r)}createPersistence(e){const t=kx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ao.withCacheSize(this.cacheSizeBytes):Ao.DEFAULT;return new Rx(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,AO(),hI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new SO}}class ZO extends $A{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Te.Z)(function*(){yield t().call(r,e);const i=r.Vc.syncEngine;r.sharedClientState instanceof jx&&(r.sharedClientState.syncEngine={jr:sF.bind(null,i),zr:cF.bind(null,i),Wr:uF.bind(null,i),$i:lF.bind(null,i),Qr:oF.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var a=(0,Te.Z)(function*(u){yield function aF(n,e){return FA.apply(this,arguments)}(r.Vc.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}createSharedClientState(e){const t=AO();if(!jx.D(t))throw new Ue(ye.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=kx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new jx(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Cy{initialize(e,t){var r=this;return(0,Te.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>zO(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=nF.bind(null,r.syncEngine),yield lA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new B2}createDatastore(e){const t=Hw(e.databaseInfo.databaseId),r=new E2(e.databaseInfo);return new T2(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>zO(this.syncEngine,f,0),u=xO.D()?new xO:new w2,new A2(t,r,i,a,u);var t,r,i,a,u}createSyncEngine(e,t){return function(r,i,a,u,f,y,I){const x=new W2(r,i,a,u,f,y);return I&&(x.vc=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Te.Z)(function*(t){const r=lt(t);ze("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield gy(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function KO(n,e=10240){let t=0;return{read:()=>(0,Te.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Te.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class gI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Pr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class fF{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Ti,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Te.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Te.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Te.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),i=Number(r);isNaN(i)&&e.Mc(`length string (${r}) is not valid number`);const a=yield e.$c(i);return new j2(JSON.parse(a),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Te.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,Te.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Te.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class pF{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Te.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ue(ye.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Te.Z)(function*(a,u){const f=lt(a),y=Pw(f.serializer)+"/documents",I={documents:u.map(X=>Mw(f.serializer,X))},x=yield f.vo("BatchGetDocuments",y,I,u.length),R=new Map;x.forEach(X=>{const he=function NN(n,e){return"found"in e?function(t,r){Rt(!!r.found);const i=Qc(t,r.found.name),a=gi(r.found.updateTime),u=r.found.createTime?gi(r.found.createTime):kt.min(),f=new mo({mapValue:{fields:r.found.fields}});return Or.newFoundDocument(i,a,u,f)}(n,e):"missing"in e?function(t,r){Rt(!!r.missing),Rt(!!r.readTime);const i=Qc(t,r.missing),a=gi(r.readTime);return Or.newNoDocument(i,a)}(n,e):_t()}(f.serializer,X);R.set(he.key.toString(),he)});const j=[];return u.forEach(X=>{const he=R.get(X.toString());Rt(!!he),j.push(he)}),j}),function(a,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ly(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Te.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=ot.fromPath(i);e.mutations.push(new hx(a,e.precondition(a)))}),yield(r=(0,Te.Z)(function*(i,a){const u=lt(i),f=Pw(u.serializer)+"/documents",y={writes:a.map(I=>Ow(u.serializer,I))};yield u.Io("Commit",f,y)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _t();t=kt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ue(ye.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(kt.min())?Hr.exists(!1):Hr.updateTime(t):Hr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(kt.min()))throw new Ue(ye.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Hr.updateTime(t)}return Hr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class gF{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new Gx(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Te.Z)(function*(){const t=new pF(e.datastore),r=e.qc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Uc(a)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const t=this.updateFunction(e);return!Gp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!b1(t)}return!1}}class mF{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Di.UNAUTHENTICATED,this.clientId=jp.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,Te.Z)(function*(f){ze("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(ze("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,Te.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ue(ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=_y(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function mI(n,e){return jA.apply(this,arguments)}function jA(){return jA=(0,Te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Te.Z)(function*(a){r.isEqual(a)||(yield vO(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),jA.apply(this,arguments)}function zA(n,e){return GA.apply(this,arguments)}function GA(){return GA=(0,Te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield qA(n);ze("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>FO(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>FO(e.remoteStore,a)),n._onlineComponents=e}),GA.apply(this,arguments)}function YO(n){return"FirebaseError"===n.name?n.code===ye.FAILED_PRECONDITION||n.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function qA(n){return WA.apply(this,arguments)}function WA(){return WA=(0,Te.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ze("FirestoreClient","Using user provided OfflineComponentProvider");try{yield mI(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!YO(t))throw t;ii("Error using user provided cache. Falling back to memory cache: "+t),yield mI(n,new zw)}}else ze("FirestoreClient","Using default OfflineComponentProvider"),yield mI(n,new zw);return n._offlineComponents}),WA.apply(this,arguments)}function yI(n){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,Te.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ze("FirestoreClient","Using user provided OnlineComponentProvider"),yield zA(n,n._uninitializedComponentsProvider._online)):(ze("FirestoreClient","Using default OnlineComponentProvider"),yield zA(n,new Cy))),n._onlineComponents}),ZA.apply(this,arguments)}function QO(n){return qA(n).then(e=>e.persistence)}function _I(n){return qA(n).then(e=>e.localStore)}function JO(n){return yI(n).then(e=>e.remoteStore)}function KA(n){return yI(n).then(e=>e.syncEngine)}function Ey(n){return YA.apply(this,arguments)}function YA(){return YA=(0,Te.Z)(function*(n){const e=yield yI(n),t=e.eventManager;return t.onListen=Z2.bind(null,e.syncEngine),t.onUnlisten=K2.bind(null,e.syncEngine),t}),YA.apply(this,arguments)}function eR(n,e,t={}){const r=new Ti;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(i,a,u,f,y){const I=new gI({next:R=>{a.enqueueAndForget(()=>fA(i,x));const j=R.docs.has(u);!j&&R.fromCache?y.reject(new Ue(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&R.fromCache&&f&&"server"===f.source?y.reject(new Ue(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(R)},error:R=>y.reject(R)}),x=new mA(iy(u.path),I,{includeMetadataChanges:!0,Ku:!0});return dA(i,x)}(yield Ey(n),n.asyncQueue,e,t,r)})),r.promise}function tR(n,e,t={}){const r=new Ti;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(i,a,u,f,y){const I=new gI({next:R=>{a.enqueueAndForget(()=>fA(i,x)),R.fromCache&&"server"===f.source?y.reject(new Ue(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),x=new mA(u,I,{includeMetadataChanges:!0,Ku:!0});return dA(i,x)}(yield Ey(n),n.asyncQueue,e,t,r)})),r.promise}function nR(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const rR=new Map;function QA(n,e,t){if(!t)throw new Ue(ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function iR(n,e,t,r){if(!0===e&&!0===r)throw new Ue(ye.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function oR(n){if(!ot.isDocumentKey(n))throw new Ue(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function sR(n){if(ot.isDocumentKey(n))throw new Ue(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":_t()}function xn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ue(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vI(n);throw new Ue(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function aR(n,e){if(e<=0)throw new Ue(ye.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class lR{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ue(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ue(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=nR(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Ue(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ue(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ue(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gw{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ue(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ue(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lR(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new HS;switch(t.type){case"firstParty":return new AE(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ue(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=rR.get(e);t&&(ze("ComponentProvider","Removing Datastore"),rR.delete(e),t.terminate())}(this),Promise.resolve()}}class Rr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rr(this.firestore,e,this._key)}}class yo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yo(this.firestore,e,this._query)}}class Jc extends yo{constructor(e,t,r){super(e,t,iy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rr(this.firestore,null,new ot(e))}withConverter(e){return new Jc(this.firestore,e,this._path)}}function uR(n,e,...t){if(n=(0,cn.m9)(n),QA("collection","path",e),n instanceof Gw){const r=Tn.fromString(e,...t);return sR(r),new Jc(n,null,r)}{if(!(n instanceof Rr||n instanceof Jc))throw new Ue(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tn.fromString(e,...t));return sR(r),new Jc(n.firestore,null,r)}}function wI(n,e,...t){if(n=(0,cn.m9)(n),1===arguments.length&&(e=jp.A()),QA("doc","path",e),n instanceof Gw){const r=Tn.fromString(e,...t);return oR(r),new Rr(n,null,new ot(r))}{if(!(n instanceof Rr||n instanceof Jc))throw new Ue(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tn.fromString(e,...t));return oR(r),new Rr(n.firestore,n instanceof Jc?n.converter:null,new ot(r))}}function dR(n,e){return n=(0,cn.m9)(n),e=(0,cn.m9)(e),(n instanceof Rr||n instanceof Jc)&&(e instanceof Rr||e instanceof Jc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function JA(n,e){return n=(0,cn.m9)(n),e=(0,cn.m9)(e),n instanceof yo&&e instanceof yo&&n.firestore===e.firestore&&bw(n._query,e._query)&&n.converter===e.converter}class TF{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Gx(this,"async_queue_retry"),this.Xc=()=>{const t=hI();t&&ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=hI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=hI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Ti;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Te.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!va(t))throw t;ze("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,Pr("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=uA.createAndSchedule(this,e,t,r,a=>this.na(a));return this.zc.push(i),i}Zc(){this.Wc&&_t()}verifyOperationInProgress(){}sa(){var e=this;return(0,Te.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function XA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class SF{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ti,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class kr extends Gw{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new TF,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||hR(this),this._firestoreClient.terminate()}}function mi(n){return n._firestoreClient||hR(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function hR(n){var e,t,r;const i=n._freezeSettings(),a=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Vn(n._databaseId,f,n._persistenceKey,(I=i).host,I.ssl,I.experimentalForceLongPolling,I.experimentalAutoDetectLongPolling,nR(I.experimentalLongPollingOptions),I.useFetchStreams));var f,I;n._firestoreClient=new mF(n._authCredentials,n._appCheckCredentials,n._queue,a),(null===(t=i.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function fR(n,e,t){const r=new Ti;return n.asyncQueue.enqueue((0,Te.Z)(function*(){try{yield mI(n,t),yield zA(n,e),r.resolve()}catch(i){const a=i;if(!YO(a))throw a;ii("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a)}})).then(()=>r.promise)}function pR(n){if(n._initialized||n._terminated)throw new Ue(ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Xc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xc(re.fromBase64String(e))}catch(t){throw new Ue(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Xc(re.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class wd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ue(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sg{constructor(e){this._methodName=e}}class bI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ue(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ue(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}const VF=/^__.*__$/;class UF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new yd(e,this.data,this.fieldMask,t,this.fieldTransforms):new ay(e,this.data,t,this.fieldTransforms)}}class gR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new yd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class CI{constructor(e,t,r,i,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new CI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return DI(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(mR(this.ca)&&VF.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class BF{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Hw(e)}ya(e,t,r,i=!1){return new CI({ca:e,methodName:t,ga:r,path:Jr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ag(n){const e=n._freezeSettings(),t=Hw(n._databaseId);return new BF(n._databaseId,!!e.ignoreUndefinedProperties,t)}function EI(n,e,t,r,i,a={}){const u=n.ya(a.merge||a.mergeFields?2:0,e,t,i);rM("Data must be an object, but it was:",u,r);const f=vR(r,u);let y,I;if(a.merge)y=new k(u.fieldMask),I=u.fieldTransforms;else if(a.mergeFields){const x=[];for(const R of a.mergeFields){const j=Zw(e,R,t);if(!u.contains(j))throw new Ue(ye.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);bR(x,j)||x.push(j)}y=new k(x),I=u.fieldTransforms.filter(R=>y.covers(R.field))}else y=null,I=u.fieldTransforms;return new UF(new mo(f),y,I)}class Ww extends sg{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ww}}function yR(n,e,t){return new CI({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class eM extends sg{_toFieldTransform(e){return new Dw(e.path,new oy)}isEqual(e){return e instanceof eM}}class HF extends sg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=yR(this,e,!0),r=this.pa.map(a=>lg(a,t)),i=new Qp(r);return new Dw(e.path,i)}isEqual(e){return this===e}}class $F extends sg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=yR(this,e,!0),r=this.pa.map(a=>lg(a,t)),i=new Jp(r);return new Dw(e.path,i)}isEqual(e){return this===e}}class jF extends sg{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new sy(e.serializer,u1(e.serializer,this.Ia));return new Dw(e.path,t)}isEqual(e){return this===e}}function tM(n,e,t,r){const i=n.ya(1,e,t);rM("Data must be an object, but it was:",i,r);const a=[],u=mo.empty();l(r,(y,I)=>{const x=II(e,y,t);I=(0,cn.m9)(I);const R=i.da(x);if(I instanceof Ww)a.push(x);else{const j=lg(I,R);null!=j&&(a.push(x),u.set(x,j))}});const f=new k(a);return new gR(u,f,i.fieldTransforms)}function nM(n,e,t,r,i,a){const u=n.ya(1,e,t),f=[Zw(e,r,t)],y=[i];if(a.length%2!=0)throw new Ue(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<a.length;j+=2)f.push(Zw(e,a[j])),y.push(a[j+1]);const I=[],x=mo.empty();for(let j=f.length-1;j>=0;--j)if(!bR(I,f[j])){const X=f[j];let he=y[j];he=(0,cn.m9)(he);const Be=u.da(X);if(he instanceof Ww)I.push(X);else{const Re=lg(he,Be);null!=Re&&(I.push(X),x.set(X,Re))}}const R=new k(I);return new gR(x,R,u.fieldTransforms)}function _R(n,e,t,r=!1){return lg(t,n.ya(r?4:3,e))}function lg(n,e){if(wR(n=(0,cn.m9)(n)))return rM("Unsupported field value:",e,n),vR(n,e);if(n instanceof sg)return function(t,r){if(!mR(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const u of t){let f=lg(u,r.wa(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,cn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return u1(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=hr.fromDate(t);return{timestampValue:cy(r.serializer,i)}}if(t instanceof hr){const i=new hr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:cy(r.serializer,i)}}if(t instanceof bI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Xc)return{bytesValue:P1(r.serializer,t._byteString)};if(t instanceof Rr){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:vx(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${vI(t)}`)}(n,e)}function vR(n,e){const t={};return d(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):l(n,(r,i)=>{const a=lg(i,e.ha(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function wR(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof hr||n instanceof bI||n instanceof Xc||n instanceof Rr||n instanceof sg)}function rM(n,e,t){if(!wR(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=vI(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Zw(n,e,t){if((e=(0,cn.m9)(e))instanceof wd)return e._internalPath;if("string"==typeof e)return II(n,e);throw DI("Field path arguments must be of type string or ",n,!1,void 0,t)}const zF=new RegExp("[~\\*/\\[\\]]");function II(n,e,t){if(e.search(zF)>=0)throw DI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new wd(...e.split("."))._internalPath}catch{throw DI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function DI(n,e,t,r,i){const a=r&&!r.isEmpty(),u=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(a||u)&&(y+=" (found",a&&(y+=` in field ${r}`),u&&(y+=` in document ${i}`),y+=")"),new Ue(ye.INVALID_ARGUMENT,f+n+y)}function bR(n,e){return n.some(t=>t.isEqual(e))}class Kw{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Rr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new GF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(TI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class GF extends Kw{data(){return super.data()}}function TI(n,e){return"string"==typeof e?II(n,e):e instanceof wd?e._internalPath:e._delegate._internalPath}function CR(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ue(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class iM{}class Yw extends iM{}function Qh(n,e,...t){let r=[];e instanceof iM&&r.push(e),r=r.concat(t),function(i){const a=i.filter(f=>f instanceof Iy).length,u=i.filter(f=>f instanceof Qw).length;if(a>1||a>0&&u>0)throw new Ue(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Qw extends Yw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Qw(e,t,r)}_apply(e){const t=this._parse(e);return TR(e._query,t),new yo(e.firestore,e.converter,cx(e._query,t))}_parse(e){const t=ag(e.firestore);return function(i,a,u,f,y,I,x){let R;if(y.isKeyField()){if("array-contains"===I||"array-contains-any"===I)throw new Ue(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if("in"===I||"not-in"===I){DR(x,I);const j=[];for(const X of x)j.push(IR(f,i,X));R={arrayValue:{values:j}}}else R=IR(f,i,x)}else"in"!==I&&"not-in"!==I&&"array-contains-any"!==I||DR(x,I),R=_R(u,"where",x,"in"===I||"not-in"===I);return Sn.create(y,I,R)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Iy extends iM{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Iy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:ir.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let a=r;const u=i.getFlattenedFilters();for(const f of u)TR(a,f),a=cx(a,f)}(e._query,t),new yo(e.firestore,e.converter,cx(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class oM extends Yw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new oM(e,t)}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Ue(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ue(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new ny(i,a);return function(f,y){if(null===ax(f)){const I=zE(f);null!==I&&SR(0,I,y.field)}}(r,u),u}(e._query,this._field,this._direction);return new yo(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new gd(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class SI extends Yw{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new SI(e,t,r)}_apply(e){return new yo(e.firestore,e.converter,GE(e._query,this._limit,this._limitType))}}class xI extends Yw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new xI(e,t,r)}_apply(e){const t=ER(e,this.type,this._docOrFields,this._inclusive);return new yo(e.firestore,e.converter,(i=t,new gd((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class AI extends Yw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new AI(e,t,r)}_apply(e){const t=ER(e,this.type,this._docOrFields,this._inclusive);return new yo(e.firestore,e.converter,(i=t,new gd((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function ER(n,e,t,r){if(t[0]=(0,cn.m9)(t[0]),t[0]instanceof Kw)return function(i,a,u,f,y){if(!f)throw new Ue(ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const I=[];for(const x of Yp(i))if(x.field.isKeyField())I.push(Zp(a,f.key));else{const R=f.data.field(x.field);if(Vt(R))throw new Ue(ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const j=x.field.canonicalString();throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${j}' (used as the orderBy) does not exist.`)}I.push(R)}return new zh(I,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=ag(n.firestore);return function(a,u,f,y,I,x){const R=a.explicitOrderBy;if(I.length>R.length)throw new Ue(ye.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const j=[];for(let X=0;X<I.length;X++){const he=I[X];if(R[X].field.isKeyField()){if("string"!=typeof he)throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof he}`);if(!lx(a)&&-1!==he.indexOf("/"))throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${he}' contains a slash.`);const Be=a.path.child(Tn.fromString(he));if(!ot.isDocumentKey(Be))throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${Be}' is not because it contains an odd number of segments.`);const Re=new ot(Be);j.push(Zp(u,Re))}else{const Be=_R(f,y,he);j.push(Be)}}return new zh(j,x)}(n._query,n.firestore._databaseId,i,e,t,r)}}function IR(n,e,t){if("string"==typeof(t=(0,cn.m9)(t))){if(""===t)throw new Ue(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lx(e)&&-1!==t.indexOf("/"))throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Tn.fromString(t));if(!ot.isDocumentKey(r))throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zp(n,new ot(r))}if(t instanceof Rr)return Zp(n,t._key);throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vI(t)}.`)}function DR(n,e){if(!Array.isArray(n)||0===n.length)throw new Ue(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TR(n,e){if(e.isInequality()){const r=zE(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=ax(n);null!==a&&SR(0,i,a)}const t=function(r,i){for(const a of r)for(const u of a.getFlattenedFilters())if(i.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ue(ye.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function SR(n,e,t){if(!t.isEqual(e))throw new Ue(ye.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class sM{convertValue(e,t="none"){switch(dl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ht(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw _t()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return l(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new bI(Ge(e.latitude),Ge(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=He(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ht(e));default:return null}}convertTimestamp(e){const t=qe(e);return new hr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Tn.fromString(e);Rt(H1(r));const i=new Un(r.get(1),r.get(3)),a=new ot(r.popFirst(5));return i.isEqual(t)||Pr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function MI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class eL extends sM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rr(this.firestore,null,t)}}class cg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bd extends Kw{constructor(e,t,r,i,a,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Jw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(TI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Jw extends bd{data(e={}){return super.data(e)}}class Jh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new cg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Jw(this._firestore,this._userDataWriter,r.key,r,new cg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ue(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new Jw(r._firestore,r._userDataWriter,u.doc.key,u.doc,new cg(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const f=new Jw(r._firestore,r._userDataWriter,u.doc.key,u.doc,new cg(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,I=-1;return 0!==u.type&&(y=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),I=a.indexOf(u.doc.key)),{type:nL(u.type),doc:f,oldIndex:y,newIndex:I}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function nL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}function AR(n,e){return n instanceof bd&&e instanceof bd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Jh&&e instanceof Jh&&n._firestore===e._firestore&&JA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Xh extends sM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rr(this.firestore,null,t)}}function MR(n,e,t){n=xn(n,Rr);const r=xn(n.firestore,kr),i=MI(n.converter,e,t);return Dy(r,[EI(ag(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Hr.none())])}function PR(n,e,t,...r){n=xn(n,Rr);const i=xn(n.firestore,kr),a=ag(i);let u;return u="string"==typeof(e=(0,cn.m9)(e))||e instanceof wd?nM(a,"updateDoc",n._key,e,t,r):tM(a,"updateDoc",n._key,e),Dy(i,[u.toMutation(n._key,Hr.exists(!0))])}function OR(n,...e){var t,r,i;n=(0,cn.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||XA(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(XA(e[u])){const R=e[u];e[u]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[u+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[u+2]=null===(i=R.complete)||void 0===i?void 0:i.bind(R)}let y,I,x;if(n instanceof Rr)I=xn(n.firestore,kr),x=iy(n._key.path),y={next:R=>{e[u]&&e[u](aM(I,n,R))},error:e[u+1],complete:e[u+2]};else{const R=xn(n,yo);I=xn(R.firestore,kr),x=R._query;const j=new Xh(I);y={next:X=>{e[u]&&e[u](new Jh(I,j,R,X))},error:e[u+1],complete:e[u+2]},CR(n._query)}return function(R,j,X,he){const Be=new gI(he),Re=new mA(j,Be,X);return R.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return dA(yield Ey(R),Re)})),()=>{Be.Dc(),R.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return fA(yield Ey(R),Re)}))}}(mi(I),x,f,y)}function Dy(n,e){return function(t,r){const i=new Ti;return t.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function Y2(n,e,t){return bA.apply(this,arguments)}(yield KA(t),r,i)})),i.promise}(mi(n),e)}function aM(n,e,t){const r=t.docs.get(e._key),i=new Xh(n);return new bd(n,i,e._key,r,new cg(t.hasPendingWrites,t.fromCache),e.converter)}const wL={maxAttempts:5};class RR{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ag(e)}set(e,t,r){this._verifyNotCommitted();const i=ef(e,this._firestore),a=MI(i.converter,t,r),u=EI(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,Hr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=ef(e,this._firestore);let u;return u="string"==typeof(t=(0,cn.m9)(t))||t instanceof wd?nM(this._dataReader,"WriteBatch.update",a._key,t,r,i):tM(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,Hr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ef(e,this._firestore);return this._mutations=this._mutations.concat(new ly(t._key,Hr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ue(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ef(n,e){if((n=(0,cn.m9)(n)).firestore!==e)throw new Ue(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class bL extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ag(e)}get(e){const t=ef(e,this._firestore),r=new eL(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return _t();const a=i[0];if(a.isFoundDocument())return new Kw(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new Kw(this._firestore,r,t._key,null,t.converter);throw _t()})}set(e,t,r){const i=ef(e,this._firestore),a=MI(i.converter,t,r),u=EI(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const a=ef(e,this._firestore);let u;return u="string"==typeof(t=(0,cn.m9)(t))||t instanceof wd?nM(this._dataReader,"Transaction.update",a._key,t,r,i):tM(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=ef(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ef(e,this._firestore),r=new Xh(this._firestore);return super.get(e).then(i=>new bd(this._firestore,r,t._key,i._document,new cg(!1,!1),t.converter))}}function lM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ue("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function NR(){if(typeof Uint8Array>"u")throw new Ue("unimplemented","Uint8Arrays are not available in this environment.")}function FR(){if(!function J(){return typeof atob<"u"}())throw new Ue("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){ud=Ss.SDK_VERSION,(0,Ss._registerComponent)(new ed.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),u=new kr(new EP(t.getProvider("auth-internal")),new ME(t.getProvider("app-check-internal")),function(f,y){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ue(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Un(f.options.projectId,y)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),(0,Ss.registerVersion)(ow,"3.13.0",n),(0,Ss.registerVersion)(ow,"3.13.0","esm2017")}();class Xw{constructor(e){this._delegate=e}static fromBase64String(e){return FR(),new Xw(Xc.fromBase64String(e))}static fromUint8Array(e){return NR(),new Xw(Xc.fromUint8Array(e))}toBase64(){return FR(),this._delegate.toBase64()}toUint8Array(){return NR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function cM(n){return function ML(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class PL{enableIndexedDbPersistence(e,t){return function AF(n,e){pR(n=xn(n,kr));const t=mi(n);if(t._uninitializedComponentsProvider)throw new Ue(ye.FAILED_PRECONDITION,"SDK cache is already specified.");ii("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new Cy;return fR(t,i,new $A(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function MF(n){pR(n=xn(n,kr));const e=mi(n);if(e._uninitializedComponentsProvider)throw new Ue(ye.FAILED_PRECONDITION,"SDK cache is already specified.");ii("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Cy;return fR(e,r,new ZO(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function PF(n){if(n._initialized&&!n._terminated)throw new Ue(ye.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ti;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{yield(t=(0,Te.Z)(function*(r){if(!_a.D())return Promise.resolve();const i=r+"main";yield _a.delete(i)}),function(r){return t.apply(this,arguments)})(kx(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class LR{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Un||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&ii("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function cR(n,e,t,r={}){var i;const a=(n=xn(n,Gw))._getSettings(),u=`${e}:${t}`;if("firestore.googleapis.com"!==a.host&&a.host!==u&&ii("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:u,ssl:!1})),r.mockUserToken){let f,y;if("string"==typeof r.mockUserToken)f=r.mockUserToken,y=Di.MOCK_USER;else{f=(0,cn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new Ue(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Di(I)}n._authCredentials=new xE(new aw(f,y))}}(this._delegate,e,t,r)}enableNetwork(){return function RF(n){return function yF(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const e=yield QO(n),t=yield JO(n);return e.setNetworkEnabled(!0),function(r){const i=lt(r);return i.vu.delete(0),$w(i)}(t)}))}(mi(n=xn(n,kr)))}(this._delegate)}disableNetwork(){return function kF(n){return function _F(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const e=yield QO(n),t=yield JO(n);return e.setNetworkEnabled(!1),(r=(0,Te.Z)(function*(i){const a=lt(i);a.vu.add(0),yield gy(a),a.bu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(mi(n=xn(n,kr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,iR("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function OF(n){return function(e){const t=new Ti;return e.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function eF(n,e){return TA.apply(this,arguments)}(yield KA(e),t)})),t.promise}(mi(n=xn(n,kr)))}(this._delegate)}onSnapshotsInSync(e){return function dL(n,e){return function bF(n,e){const t=new gI(e);return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return r=yield Ey(n),i=t,lt(r).ku.add(i),void i.next();var r,i})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return r=yield Ey(n),i=t,void lt(r).ku.delete(i);var r,i}))}}(mi(n=xn(n,kr)),XA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ue("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ty(this,uR(this._delegate,e))}catch(t){throw es(t,"collection()","Firestore.collection()")}}doc(e){try{return new fl(this,wI(this._delegate,e))}catch(t){throw es(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ts(this,function DF(n,e){if(n=xn(n,Gw),QA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ue(ye.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new yo(n,null,(t=e,new gd(Tn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw es(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function CL(n,e,t){n=xn(n,kr);const r=Object.assign(Object.assign({},wL),t);return function(i){if(i.maxAttempts<1)throw new Ue(ye.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,u){const f=new Ti;return i.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){const y=yield function XO(n){return yI(n).then(e=>e.datastore)}(i);new gF(i.asyncQueue,y,u,a,f).run()})),f.promise}(mi(n),i=>e(new bL(n,i)),r)}(this._delegate,t=>e(new VR(this,t)))}batch(){return mi(this._delegate),new UR(new RR(this._delegate,e=>Dy(this._delegate,e)))}loadBundle(e){return function NF(n,e){const t=mi(n=xn(n,kr)),r=new SF;return function CF(n,e,t,r){const i=function(a,u){let f;return f="string"==typeof a?E1().encode(a):a,y=function(y,I){if(y instanceof Uint8Array)return KO(y,I);if(y instanceof ArrayBuffer)return KO(new Uint8Array(y),I);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new fF(y,u);var y}(t,Hw(e));n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){!function dF(n,e,t){const r=lt(n);var i;(i=(0,Te.Z)(function*(a,u,f){try{const y=yield u.getMetadata();if(yield function(j,X){const he=lt(j),Be=gi(X.createTime);return he.persistence.runTransaction("hasNewerBundle","readonly",Re=>he.qs.getBundleMetadata(Re,X.id)).then(Re=>!!Re&&Re.createTime.compareTo(Be)>=0)}(a.localStore,y))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(j=y).totalDocuments,bytesLoaded:j.totalBytes,totalDocuments:j.totalDocuments,totalBytes:j.totalBytes}),Promise.resolve(new Set);f._updateProgress(UO(y));const I=new z2(y,a.localStore,u.serializer);let x=yield u.bc();for(;x;){const j=yield I.zu(x);j&&f._updateProgress(j),x=yield u.bc()}const R=yield I.complete();return yield vd(a,R.Ju,void 0),yield function(j,X){const he=lt(j);return he.persistence.runTransaction("Save bundle","readwrite",Be=>he.qs.saveBundleMetadata(Be,X))}(a.localStore,y),f._completeWith(R.progress),Promise.resolve(R.Hu)}catch(y){return ii("SyncEngine",`Loading bundle failed with ${y}`),f._failWith(y),Promise.resolve(new Set)}var j}),function(a,u,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield KA(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function FF(n,e){return function EF(n,e){return n.asyncQueue.enqueue((0,Te.Z)(function*(){return function(t,r){const i=lt(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.qs.getNamedQuery(a,r))}(yield _I(n),e)}))}(mi(n=xn(n,kr)),e).then(t=>t?new yo(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ts(this,t):null)}}class PI extends sM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xw(new Xc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return fl.forKey(t,this.firestore,null)}}class VR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new PI(e)}get(e){const t=dg(e);return this._delegate.get(t).then(r=>new eb(this._firestore,new bd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=dg(e);return r?(lM("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=dg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=dg(e);return this._delegate.delete(t),this}}class UR{constructor(e){this._delegate=e}set(e,t,r){const i=dg(e);return r?(lM("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=dg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=dg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class ug{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Jw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new tb(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=ug.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new ug(e,new PI(e),t),i.set(t,a)),a}}ug.INSTANCES=new WeakMap;class fl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new PI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ue("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new fl(t,new Rr(t._delegate,r,new ot(e)))}static forKey(e,t,r){return new fl(t,new Rr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ty(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ty(this.firestore,uR(this._delegate,e))}catch(t){throw es(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,cn.m9)(e))instanceof Rr&&dR(this._delegate,e)}set(e,t){t=lM("DocumentReference.set",t);try{return t?MR(this._delegate,e,t):MR(this._delegate,e)}catch(r){throw es(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?PR(this._delegate,e):PR(this._delegate,e,t,...r)}catch(i){throw es(i,"updateDoc()","DocumentReference.update()")}}delete(){return function cL(n){return Dy(xn(n.firestore,kr),[new ly(n._key,Hr.none())])}(this._delegate)}onSnapshot(...e){const t=BR(e),r=HR(e,i=>new eb(this.firestore,new bd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return OR(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function iL(n){n=xn(n,Rr);const e=xn(n.firestore,kr),t=mi(e),r=new Xh(e);return function vF(n,e){const t=new Ti;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(r=(0,Te.Z)(function*(i,a,u){try{const f=yield function(y,I){const x=lt(y);return x.persistence.runTransaction("read document","readonly",R=>x.localDocuments.getDocument(R,I))}(i,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new Ue(ye.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const y=_y(f,`Failed to get document '${a} from cache`);u.reject(y)}}),function(i,a,u){return r.apply(this,arguments)})(yield _I(n),e,t);var r})),t.promise}(t,n._key).then(i=>new bd(e,r,n._key,i,new cg(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function oL(n){n=xn(n,Rr);const e=xn(n.firestore,kr);return eR(mi(e),n._key,{source:"server"}).then(t=>aM(e,n,t))}(this._delegate):function rL(n){n=xn(n,Rr);const e=xn(n.firestore,kr);return eR(mi(e),n._key).then(t=>aM(e,n,t))}(this._delegate),t.then(r=>new eb(this.firestore,new bd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new fl(this.firestore,this._delegate.withConverter(e?ug.getInstance(this.firestore,e):null))}}function es(n,e,t){return n.message=n.message.replace(e,t),n}function BR(n){for(const e of n)if("object"==typeof e&&!cM(e))return e;return{}}function HR(n,e){var t,r;let i;return i=cM(n[0])?n[0]:cM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class eb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new fl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return AR(this._delegate,e._delegate)}}class tb extends eb{data(e){const t=this._delegate.data(e);return function BS(n,e){n||_t()}(void 0!==t),t}}class ts{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new PI(e)}where(e,t,r){try{return new ts(this.firestore,Qh(this._delegate,function qF(n,e,t){const r=e,i=TI("where",n);return Qw._create(i,r,t)}(e,t,r)))}catch(i){throw es(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ts(this.firestore,Qh(this._delegate,function WF(n,e="asc"){const t=e,r=TI("orderBy",n);return oM._create(r,t)}(e,t)))}catch(r){throw es(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ts(this.firestore,Qh(this._delegate,function ZF(n){return aR("limit",n),SI._create("limit",n,"F")}(e)))}catch(t){throw es(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ts(this.firestore,Qh(this._delegate,function KF(n){return aR("limitToLast",n),SI._create("limitToLast",n,"L")}(e)))}catch(t){throw es(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ts(this.firestore,Qh(this._delegate,function YF(...n){return xI._create("startAt",n,!0)}(...e)))}catch(t){throw es(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ts(this.firestore,Qh(this._delegate,function QF(...n){return xI._create("startAfter",n,!1)}(...e)))}catch(t){throw es(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ts(this.firestore,Qh(this._delegate,function JF(...n){return AI._create("endBefore",n,!1)}(...e)))}catch(t){throw es(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ts(this.firestore,Qh(this._delegate,function XF(...n){return AI._create("endAt",n,!0)}(...e)))}catch(t){throw es(t,"endAt()","Query.endAt()")}}isEqual(e){return JA(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function aL(n){n=xn(n,yo);const e=xn(n.firestore,kr),t=mi(e),r=new Xh(e);return function wF(n,e){const t=new Ti;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(r=(0,Te.Z)(function*(i,a,u){try{const f=yield lI(i,a,!0),y=new $O(a,f.ir),I=y.sc(f.documents),x=y.applyChanges(I,!1);u.resolve(x.snapshot)}catch(f){const y=_y(f,`Failed to execute query '${a} against cache`);u.reject(y)}}),function(i,a,u){return r.apply(this,arguments)})(yield _I(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Jh(e,r,n,i))}(this._delegate):"server"===e?.source?function lL(n){n=xn(n,yo);const e=xn(n.firestore,kr),t=mi(e),r=new Xh(e);return tR(t,n._query,{source:"server"}).then(i=>new Jh(e,r,n,i))}(this._delegate):function sL(n){n=xn(n,yo);const e=xn(n.firestore,kr),t=mi(e),r=new Xh(e);return CR(n._query),tR(t,n._query).then(i=>new Jh(e,r,n,i))}(this._delegate),t.then(r=>new uM(this.firestore,new Jh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=BR(e),r=HR(e,i=>new uM(this.firestore,new Jh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return OR(this._delegate,t,r)}withConverter(e){return new ts(this.firestore,this._delegate.withConverter(e?ug.getInstance(this.firestore,e):null))}}class RL{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new tb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class uM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ts(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new tb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new RL(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new tb(this._firestore,r))})}isEqual(e){return AR(this._delegate,e._delegate)}}class Ty extends ts{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new fl(this.firestore,e):null}doc(e){try{return new fl(this.firestore,void 0===e?wI(this._delegate):wI(this._delegate,e))}catch(t){throw es(t,"doc()","CollectionReference.doc()")}}add(e){return function uL(n,e){const t=xn(n.firestore,kr),r=wI(n),i=MI(n.converter,e);return Dy(t,[EI(ag(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Hr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new fl(this.firestore,t))}isEqual(e){return dR(this._delegate,e._delegate)}withConverter(e){return new Ty(this.firestore,this._delegate.withConverter(e?ug.getInstance(this.firestore,e):null))}}function dg(n){return xn(n,Rr)}class dM{constructor(...e){this._delegate=new wd(...e)}static documentId(){return new dM(Jr.keyField().canonicalString())}isEqual(e){return(e=(0,cn.m9)(e))instanceof wd&&this._delegate._internalPath.isEqual(e._internalPath)}}class hg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function IL(){return new eM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new hg(e)}static delete(){const e=function EL(){return new Ww("deleteField")}();return e._methodName="FieldValue.delete",new hg(e)}static arrayUnion(...e){const t=function DL(...n){return new HF("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new hg(t)}static arrayRemove(...e){const t=function TL(...n){return new $F("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new hg(t)}static increment(e){const t=function SL(n){return new jF("increment",n)}(e);return t._methodName="FieldValue.increment",new hg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const kL={Firestore:LR,GeoPoint:bI,Timestamp:hr,Blob:Xw,Transaction:VR,WriteBatch:UR,DocumentReference:fl,DocumentSnapshot:eb,Query:ts,QueryDocumentSnapshot:tb,QuerySnapshot:uM,CollectionReference:Ty,FieldPath:dM,FieldValue:hg,setLogLevel:function OL(n){!function Zc(n){Wc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function $R(n,e){return function LL(n,e=gv.z){return new Ni.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function hM(n,e){return $R(n,e).pipe((0,$t.U)(t=>({payload:t,type:"query"})))}function OI(n,e){return hM(n,e).pipe(sa(void 0),mv(),(0,$t.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,f)=>{const y=i.find(x=>x.doc.ref.isEqual(u.ref)),I=t?.payload.docs.find(x=>x.ref.isEqual(u.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(u.metadata)||!y&&I&&JSON.stringify(I.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function jR(n,e,t){return OI(n,t).pipe(qa((r,i)=>function UL(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function BL(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return fM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return fM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return fM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),function DC(n,e=ws.y){return n=n??QT,(0,ti.e)((t,r)=>{let i,a=!0;t.subscribe((0,Kr.x)(r,u=>{const f=e(u);(a||!n(i,f))&&(a=!1,i=f,r.next(u))}))})}(),(0,$t.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function fM(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function zR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function FL(n){(function NL(n,e){n.INTERNAL.registerComponent(new ed.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},kL)))})(n,(e,t)=>new LR(e,t,new PL)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(JT.Z);class GR{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=OI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,$t.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(sa(void 0),mv(),Fi(([r,i])=>i.length>0||!r),(0,$t.U)(([r,i])=>i),_r.iC)}auditTrail(e){return this.stateChanges(e).pipe(qa((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=zR(e);return jR(this.query,t,this.afs.schedulers.outsideAngular).pipe(_r.iC)}valueChanges(e={}){return hM(this.query,this.afs.schedulers.outsideAngular).pipe((0,$t.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),_r.iC)}get(e){return(0,En.D)(this.query.get(e)).pipe(_r.iC)}add(e){return this.ref.add(e)}doc(e){return new qR(this.ref.doc(e),this.afs)}}class qR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=WR(r,t);return new GR(i,a,this.afs)}snapshotChanges(){return function VL(n,e){return $R(n,e).pipe(sa(void 0),mv(),(0,$t.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(_r.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,$t.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,En.D)(this.ref.get(e)).pipe(_r.iC)}}class HL{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?OI(this.query,this.afs.schedulers.outsideAngular).pipe((0,$t.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Fi(t=>t.length>0),_r.iC):OI(this.query,this.afs.schedulers.outsideAngular).pipe(_r.iC)}auditTrail(e){return this.stateChanges(e).pipe(qa((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=zR(e);return jR(this.query,t,this.afs.schedulers.outsideAngular).pipe(_r.iC)}valueChanges(e={}){return hM(this.query,this.afs.schedulers.outsideAngular).pipe((0,$t.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),_r.iC)}get(e){return(0,En.D)(this.query.get(e)).pipe(_r.iC)}}const $L=new c.OlP("angularfire2.enableFirestorePersistence"),jL=new c.OlP("angularfire2.firestore.persistenceSettings"),zL=new c.OlP("angularfire2.firestore.settings"),GL=new c.OlP("angularfire2.firestore.use-emulator");function WR(n,e=(t=>t)){return{query:e(n),ref:n}}let qL=(()=>{class n{constructor(t,r,i,a,u,f,y,I,x,R,j,X,he,Be,Re,vt,At){this.schedulers=y;const pt=(0,Xi.on)(t,f,r),Mt=x;R&&wC(pt,f,j,he,Be,Re,X,vt),[this.firestore,this.persistenceEnabled$]=(0,Xi.cc)(`${pt.name}.firestore`,"AngularFirestore",pt.name,()=>{const sn=f.runOutsideAngular(()=>pt.firestore());if(a&&sn.settings(a),Mt&&sn.useEmulator(...Mt),i&&!zi(u)){const yn=()=>{try{return(0,En.D)(sn.enablePersistence(I||void 0).then(()=>!0,()=>!1))}catch(xi){return typeof console<"u"&&console.warn(xi),St(!1)}};return[sn,f.runOutsideAngular(yn)]}return[sn,St(!1)]},[a,Mt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=WR(i,r),f=this.schedulers.ngZone.run(()=>a);return new GR(f,u,this)}collectionGroup(t,r){const i=r||(u=>u),a=this.firestore.collectionGroup(t);return new HL(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new qR(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Xi.Dh),c.LFG(Xi.xv,8),c.LFG($L,8),c.LFG(zL,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(_r.HU),c.LFG(jL,8),c.LFG(GL,8),c.LFG(Im,8),c.LFG(fv,8),c.LFG(pv,8),c.LFG(yC,8),c.LFG(_C,8),c.LFG(vC,8),c.LFG(_h,8),c.LFG(up,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const ZR="firebasestorage.googleapis.com",KR="storageBucket";class Xr extends cn.ZR{constructor(e,t,r=0){super(pM(e),`Firebase Storage: ${t} (${pM(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return pM(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var wr=(()=>(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(wr||(wr={})),wr))();function pM(n){return"storage/"+n}function gM(){return new Xr(wr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function YR(){return new Xr(wr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function QR(){return new Xr(wr.CANCELED,"User canceled the upload/download.")}function JR(){return new Xr(wr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Sy(n){return new Xr(wr.INVALID_ARGUMENT,n)}function XR(){return new Xr(wr.APP_DELETED,"The Firebase app was deleted.")}function ek(n){return new Xr(wr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function nb(n,e){return new Xr(wr.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function rb(n){throw new Xr(wr.INTERNAL_ERROR,"Internal error: "+n)}class Po{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Po.makeFromUrl(e,t)}catch{return new Po(e,"")}if(""===r.path)return r;throw function rV(n){return new Xr(wr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",f=new RegExp("^gs://"+i+"(/(.*))?$","i");function I(Mt){Mt.path_=decodeURIComponent(Mt.path)}const R=t.replace(/[.]/g,"\\."),pt=[{regex:f,indices:{bucket:1,path:3},postModify:function a(Mt){"/"===Mt.path.charAt(Mt.path.length-1)&&(Mt.path_=Mt.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${R}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:I},{regex:new RegExp(`^https?://${t===ZR?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:I}];for(let Mt=0;Mt<pt.length;Mt++){const sn=pt[Mt],yn=sn.regex.exec(e);if(yn){let ba=yn[sn.indices.path];ba||(ba=""),r=new Po(yn[sn.indices.bucket],ba),sn.postModify(r);break}}if(null==r)throw function nV(n){return new Xr(wr.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class lV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function RI(n){return"string"==typeof n||n instanceof String}function tk(n){return mM()&&n instanceof Blob}function mM(){return typeof Blob<"u"&&!(0,cn.UG)()}function yM(n,e,t,r){if(r<e)throw Sy(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Sy(`Invalid value for '${n}'. Expected ${t} or less.`)}function Cd(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function nk(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var tf=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(tf||(tf={})),tf))();function rk(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),a=-1!==e.indexOf(n);return t||i||a}class pV{constructor(e,t,r,i,a,u,f,y,I,x,R,j=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=y,this.timeout_=I,this.progressCallback_=x,this.connectionFactory_=R,this.retry=j,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((X,he)=>{this.resolve_=X,this.reject_=he,this.start_()})}start_(){const t=(r,i)=>{const a=this.resolve_,u=this.reject_,f=i.connection;if(i.wasSuccessCode)try{const y=this.callback_(f,f.getResponse());!function dV(n){return void 0!==n}(y)?a():a(y)}catch(y){u(y)}else if(null!==f){const y=gM();y.serverResponse=f.getErrorText(),u(this.errorCallback_?this.errorCallback_(f,y):y)}else u(i.canceled?this.appDelete_?XR():QR():YR())};this.canceled_?t(0,new kI(!1,null,!0)):this.backoffId_=function cV(n,e,t){let r=1,i=null,a=null,u=!1,f=0;function y(){return 2===f}let I=!1;function x(...Re){I||(I=!0,e.apply(null,Re))}function R(Re){i=setTimeout(()=>{i=null,n(X,y())},Re)}function j(){a&&clearTimeout(a)}function X(Re,...vt){if(I)return void j();if(Re)return j(),void x.call(null,Re,...vt);if(y()||u)return j(),void x.call(null,Re,...vt);let pt;r<64&&(r*=2),1===f?(f=2,pt=0):pt=1e3*(r+Math.random()),R(pt)}let he=!1;function Be(Re){he||(he=!0,j(),!I&&(null!==i?(Re||(f=2),clearTimeout(i),R(0)):Re||(f=1)))}return R(0),a=setTimeout(()=>{u=!0,Be(!0)},t),Be}((r,i)=>{if(i)return void r(!1,new kI(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const u=f=>{null!==this.progressCallback_&&this.progressCallback_(f.loaded,f.lengthComputable?f.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const f=a.getErrorCode()===tf.NO_ERROR,y=a.getStatus();if(!f||rk(y,this.additionalRetryCodes_)&&this.retry){const x=a.getErrorCode()===tf.ABORT;return void r(!1,new kI(!1,null,x))}const I=-1!==this.successCodes_.indexOf(y);r(!0,new kI(I,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function uV(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class kI{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function bV(...n){const e=function wV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(mM())return new Blob(n);throw new Xr(wr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const wa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class _M{constructor(e,t){this.data=e,this.contentType=t||null}}function vM(n,e){switch(n){case wa.RAW:return new _M(ik(e));case wa.BASE64:case wa.BASE64URL:return new _M(ok(n,e));case wa.DATA_URL:return new _M(function DV(n){const e=new sk(n);return e.base64?ok(wa.BASE64,e.rest):function IV(n){let e;try{e=decodeURIComponent(n)}catch{throw nb(wa.DATA_URL,"Malformed data URL.")}return ik(e)}(e.rest)}(e),function TV(n){return new sk(n).contentType}(e))}throw gM()}function ik(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function ok(n,e){switch(n){case wa.BASE64:{const i=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(i||a)throw nb(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case wa.BASE64URL:{const i=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(i||a)throw nb(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function EV(n){if(typeof atob>"u")throw function aV(n){return new Xr(wr.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:nb(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class sk{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw nb(wa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function SV(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class eu{constructor(e,t){let r=0,i="";tk(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(tk(this.data_)){const i=function CV(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new eu(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new eu(r,!0)}}static getBlob(...e){if(mM()){const t=e.map(r=>r instanceof eu?r.data_:r);return new eu(bV.apply(null,t))}{const t=e.map(u=>RI(u)?vM(wa.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let f=0;f<u.length;f++)i[a++]=u[f]}),new eu(i,!0)}}uploadData(){return this.data_}}function wM(n){let e;try{e=JSON.parse(n)}catch{return null}return function fV(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function ak(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function MV(n,e){return e}class ns{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||MV}}let NI=null;function ib(){if(NI)return NI;const n=[];n.push(new ns("bucket")),n.push(new ns("generation")),n.push(new ns("metageneration")),n.push(new ns("name","fullPath",!0));const t=new ns("name");t.xform=function e(a,u){return function PV(n){return!RI(n)||n.length<2?n:ak(n)}(u)},n.push(t);const i=new ns("size");return i.xform=function r(a,u){return void 0!==u?Number(u):u},n.push(i),n.push(new ns("timeCreated")),n.push(new ns("updated")),n.push(new ns("md5Hash",null,!0)),n.push(new ns("cacheControl",null,!0)),n.push(new ns("contentDisposition",null,!0)),n.push(new ns("contentEncoding",null,!0)),n.push(new ns("contentLanguage",null,!0)),n.push(new ns("contentType",null,!0)),n.push(new ns("metadata","customMetadata",!0)),NI=n,NI}function lk(n,e,t){const r=wM(e);return null===r?null:function RV(n,e,t){const r={type:"file"},i=t.length;for(let a=0;a<i;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return function OV(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new Po(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(r,n),r}(n,r,t)}function bM(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}const ck="prefixes";class tu{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function nu(n){if(!n)throw gM()}function FI(n,e){return function t(r,i){const a=lk(n,i,e);return nu(null!==a),a}}function xy(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function eV(){return new Xr(wr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function XL(){return new Xr(wr.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function JL(n){return new Xr(wr.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function tV(n){return new Xr(wr.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function ob(n){const e=xy(n);return function t(r,i){let a=e(r,i);return 404===r.getStatus()&&(a=function QL(n){return new Xr(wr.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=i.serverResponse,a}}function dk(n,e,t){const i=Cd(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,f=new tu(i,"GET",FI(n,t),u);return f.errorHandler=ob(e),f}function UV(n,e,t,r,i){const a={};a.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(a.delimiter=t),r&&(a.pageToken=r),i&&(a.maxResults=i);const f=Cd(e.bucketOnlyServerUrl(),n.host,n._protocol),I=n.maxOperationRetryTime,x=new tu(f,"GET",function LV(n,e){return function t(r,i){const a=function FV(n,e,t){const r=wM(t);return null===r?null:function NV(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[ck])for(const i of t[ck]){const a=i.replace(/\/$/,""),u=n._makeStorageReference(new Po(e,a));r.prefixes.push(u)}if(t.items)for(const i of t.items){const a=n._makeStorageReference(new Po(e,i.name));r.items.push(a)}return r}(n,e,r)}(n,e,i);return nu(null!==a),a}}(n,e.bucket),I);return x.urlParams=a,x.errorHandler=xy(e),x}function fk(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function jV(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class LI{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function CM(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{nu(!1)}return nu(!!t&&-1!==(e||["active"]).indexOf(t)),t}const WV={STATE_CHANGED:"state_changed"},rs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function EM(n){switch(n){case"running":case"pausing":case"canceling":return rs.RUNNING;case"paused":return rs.PAUSED;case"success":return rs.SUCCESS;case"canceled":return rs.CANCELED;default:return rs.ERROR}}class ZV{constructor(e,t,r){if(function hV(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function Ay(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class YV extends class KV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=tf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=tf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=tf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw rb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw rb("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw rb("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw rb("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw rb("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function tc(){return new YV}class yk{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=ib(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(wr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(rk(i.status,[])){if(!a)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=YR()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(wr.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function zV(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),u=fk(e,r,i),f={name:u.fullPath},y=Cd(a,n.host,n._protocol),x={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},R=bM(u,t),he=new tu(y,"POST",function X(Be){let Re;CM(Be);try{Re=Be.getResponseHeader("X-Goog-Upload-URL")}catch{nu(!1)}return nu(RI(Re)),Re},n.maxUploadRetryTime);return he.urlParams=f,he.headers=x,he.body=R,he.errorHandler=xy(e),he}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,tc,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function GV(n,e,t,r){const y=new tu(t,"POST",function a(I){const x=CM(I,["active","final"]);let R=null;try{R=I.getResponseHeader("X-Goog-Upload-Size-Received")}catch{nu(!1)}R||nu(!1);const j=Number(R);return nu(!isNaN(j)),new LI(j,r.size(),"final"===x)},n.maxUploadRetryTime);return y.headers={"X-Goog-Upload-Command":"query"},y.errorHandler=xy(e),y}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,tc,t,r);this._request=a,a.getPromise().then(u=>{this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new LI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let u;try{u=function qV(n,e,t,r,i,a,u,f){const y=new LI(0,0);if(u?(y.current=u.current,y.total=u.total):(y.current=0,y.total=r.size()),r.size()!==y.total)throw function oV(){return new Xr(wr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const I=y.total-y.current;let x=I;i>0&&(x=Math.min(x,i));const R=y.current;let X="";X=0===x?"finalize":I===x?"upload, finalize":"upload";const he={"X-Goog-Upload-Command":X,"X-Goog-Upload-Offset":`${y.current}`},Be=r.slice(R,R+x);if(null===Be)throw JR();const pt=new tu(t,"POST",function Re(Mt,sn){const yn=CM(Mt,["active","final"]),xi=y.current+x,ba=r.size();let Ry;return Ry="final"===yn?FI(e,a)(Mt,sn):null,new LI(xi,ba,"final"===yn,Ry)},e.maxUploadRetryTime);return pt.headers=he,pt.body=Be.uploadData(),pt.progressCallback=f||null,pt.errorHandler=xy(n),pt}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(y){return this._error=y,void this._transition("error")}const f=this._ref.storage._makeRequest(u,tc,i,a,!1);this._request=f,f.getPromise().then(y=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(y.current),y.finalized?(this._metadata=y.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=dk(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,tc,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function pk(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},y=function f(){let pt="";for(let Mt=0;Mt<2;Mt++)pt+=Math.random().toString().slice(2);return pt}();u["Content-Type"]="multipart/related; boundary="+y;const I=fk(e,r,i),x=bM(I,t),X=eu.getBlob("--"+y+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+x+"\r\n--"+y+"\r\nContent-Type: "+I.contentType+"\r\n\r\n",r,"\r\n--"+y+"--");if(null===X)throw JR();const he={name:I.fullPath},Be=Cd(a,n.host,n._protocol),vt=n.maxUploadRetryTime,At=new tu(Be,"POST",FI(n,t),vt);return At.urlParams=he,At.headers=u,At.body=X.uploadData(),At.errorHandler=xy(e),At}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,tc,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=QR(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=EM(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const a=new ZV(t||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(EM(this._state)){case rs.SUCCESS:Ay(this._resolve.bind(null,this.snapshot))();break;case rs.CANCELED:case rs.ERROR:Ay(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(EM(this._state)){case rs.RUNNING:case rs.PAUSED:e.next&&Ay(e.next.bind(e,this.snapshot))();break;case rs.SUCCESS:e.complete&&Ay(e.complete.bind(e))();break;default:e.error&&Ay(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class fg{constructor(e,t){this._service=e,this._location=t instanceof Po?t:Po.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new fg(e,t)}get root(){const e=new Po(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ak(this._location.path)}get storage(){return this._service}get parent(){const e=function xV(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Po(this._location.bucket,e);return new fg(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw ek(e)}}function vk(n,e,t){return IM.apply(this,arguments)}function IM(){return IM=(0,Te.Z)(function*(n,e,t){const i=yield wk(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield vk(n,e,i.nextPageToken))}),IM.apply(this,arguments)}function wk(n,e){null!=e&&"number"==typeof e.maxResults&&yM("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=UV(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,tc)}function lU(n){n._throwIfRoot("getDownloadURL");const e=function BV(n,e,t){const i=Cd(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,f=new tu(i,"GET",function VV(n,e){return function t(r,i){const a=lk(n,i,e);return nu(null!==a),function kV(n,e,t,r){const i=wM(e);if(null===i||!RI(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const u=encodeURIComponent;return a.split(",").map(I=>{const R=n.fullPath;return Cd("/b/"+u(n.bucket)+"/o/"+u(R),t,r)+nk({alt:"media",token:I})})[0]}(a,i,n.host,n._protocol)}}(n,t),u);return f.errorHandler=ob(e),f}(n.storage,n._location,ib());return n.storage.makeRequestWithTokens(e,tc).then(t=>{if(null===t)throw function sV(){return new Xr(wr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function bk(n,e){const t=function AV(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Po(n._location.bucket,t);return new fg(n.storage,r)}function Ck(n,e){if(n instanceof DM){const t=n;if(null==t._bucket)throw function iV(){return new Xr(wr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+KR+"' property when initializing the app?")}();const r=new fg(t,t._bucket);return null!=e?Ck(r,e):r}return void 0!==e?bk(n,e):n}function hU(n,e){if(e&&function uU(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof DM)return function dU(n,e){return new fg(n,e)}(n,e);throw Sy("To use ref(service, url), the first argument must be a Storage instance.")}return Ck(n,e)}function Ek(n,e){const t=e?.[KR];return null==t?null:Po.makeFromBucketSpec(t,n)}class DM{constructor(e,t,r,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=ZR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Po.makeFromBucketSpec(i,this._host):Ek(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Po.makeFromBucketSpec(this._url,e):Ek(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yM("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yM("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Te.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Te.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fg(this,e)}_makeRequest(e,t,r,i,a=!0){if(this._deleted)return new lV(XR());{const u=function vV(n,e,t,r,i,a,u=!0){const f=nk(n.urlParams),y=n.url+f,I=Object.assign({},n.headers);return function yV(n,e){e&&(n["X-Firebase-GMPID"]=e)}(I,e),function gV(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(I,t),function mV(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(I,a),function _V(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(I,r),new pV(y,n.method,I,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,u)}(e,this._appId,r,i,t,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var r=this;return(0,Te.Z)(function*(){const[i,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,a).getPromise()})()}}const Ik="@firebase/storage";function Sk(n,e){return hU(n=(0,cn.m9)(n),e)}function CU(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new DM(t,r,i,e,Ss.SDK_VERSION)}!function EU(){(0,Ss._registerComponent)(new ed.wA("storage",CU,"PUBLIC").setMultipleInstances(!0)),(0,Ss.registerVersion)(Ik,"0.11.2",""),(0,Ss.registerVersion)(Ik,"0.11.2","esm2017")}();class VI{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Ak{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new VI(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new VI(r,this,this._ref))},t)}on(e,t,r,i){let a;return t&&(a="function"==typeof t?u=>t(new VI(u,this,this._ref)):{next:t.next?u=>t.next(new VI(u,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,r||void 0,i||void 0)}}class Mk{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Ed(e,this._service))}get items(){return this._delegate.items.map(e=>new Ed(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Ed{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function bU(n,e){return bk(n,e)}(this._delegate,e);return new Ed(t,this.storage)}get root(){return new Ed(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Ed(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Ak(function pU(n,e,t){return function rU(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new yk(n,new eu(e),t)}(n=(0,cn.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=wa.RAW,r){this._throwIfRoot("putString");const i=vM(t,e),a=Object.assign({},r);return null==a.contentType&&null!=i.contentType&&(a.contentType=i.contentType),new Ak(new yk(this._delegate,new eu(i.data,!0),a),this)}listAll(){return function _U(n){return function oU(n){const e={prefixes:[],items:[]};return vk(n,e).then(()=>e)}(n=(0,cn.m9)(n))}(this._delegate).then(e=>new Mk(e,this.storage))}list(e){return function yU(n,e){return wk(n=(0,cn.m9)(n),e)}(this._delegate,e||void 0).then(t=>new Mk(t,this.storage))}getMetadata(){return function gU(n){return function sU(n){n._throwIfRoot("getMetadata");const e=dk(n.storage,n._location,ib());return n.storage.makeRequestWithTokens(e,tc)}(n=(0,cn.m9)(n))}(this._delegate)}updateMetadata(e){return function mU(n,e){return function aU(n,e){n._throwIfRoot("updateMetadata");const t=function HV(n,e,t,r){const a=Cd(e.fullServerUrl(),n.host,n._protocol),f=bM(t,r),I=n.maxOperationRetryTime,x=new tu(a,"PATCH",FI(n,r),I);return x.headers={"Content-Type":"application/json; charset=utf-8"},x.body=f,x.errorHandler=ob(e),x}(n.storage,n._location,e,ib());return n.storage.makeRequestWithTokens(t,tc)}(n=(0,cn.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function vU(n){return lU(n=(0,cn.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function wU(n){return function cU(n){n._throwIfRoot("deleteObject");const e=function $V(n,e){const r=Cd(e.fullServerUrl(),n.host,n._protocol),f=new tu(r,"DELETE",function u(y,I){},n.maxOperationRetryTime);return f.successCodes=[200,204],f.errorHandler=ob(e),f}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,tc)}(n=(0,cn.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw ek(e)}}class Pk{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Ok(e))throw Sy("ref() expected a child path but got a URL, use refFromURL instead.");return new Ed(Sk(this._delegate,e),this)}refFromURL(e){if(!Ok(e))throw Sy("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Po.makeFromUrl(e,this._delegate.host)}catch{throw Sy("refFromUrl() expected a valid full URL but got an invalid one.")}return new Ed(Sk(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function xk(n,e,t,r={}){!function fU(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,cn.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function Ok(n){return/^[A-Za-z]+:\/\//.test(n)}function SU(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new Pk(t,r)}function Rk(n){const e=function AU(n){return new Ni.y(e=>{const t=u=>e.next(u);t(n.snapshot);const a=n.on("state_changed",t);return n.then(u=>{t(u),e.complete()},u=>{t(n.snapshot),(u=>{e.error(u)})(u)}),function(){a()}}).pipe(function WL(n,e=gv.z){return(0,ti.e)((t,r)=>{let i=null,a=null,u=null;const f=()=>{if(i){i.unsubscribe(),i=null;const I=a;a=null,r.next(I)}};function y(){const I=u+n,x=e.now();if(x<I)return i=this.schedule(void 0,I-x),void r.add(i);f()}t.subscribe((0,Kr.x)(r,I=>{a=I,u=e.now(),i||(i=e.schedule(y,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{a=i=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,$t.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function UI(n){return{getDownloadURL:()=>St(void 0).pipe(_r.fc,Ar(()=>n.getDownloadURL()),_r.iC),getMetadata:()=>St(void 0).pipe(_r.fc,Ar(()=>n.getMetadata()),_r.iC),delete:()=>(0,En.D)(n.delete()),child:e=>UI(n.child(e)),updateMetadata:e=>(0,En.D)(n.updateMetadata(e)),put:(e,t)=>Rk(n.put(e,t)),putString:(e,t,r)=>Rk(n.putString(e,t,r)),list:e=>(0,En.D)(n.list(e)),listAll:()=>(0,En.D)(n.listAll())}}!function xU(n){const e={TaskState:rs,TaskEvent:WV,StringFormat:wa,Storage:Pk,Reference:Ed};n.INTERNAL.registerComponent(new ed.wA("storage-compat",SU,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(JT.Z);const MU=new c.OlP("angularfire2.storageBucket"),PU=new c.OlP("angularfire2.storage.maxUploadRetryTime"),OU=new c.OlP("angularfire2.storage.maxOperationRetryTime"),RU=new c.OlP("angularfire2.storage.use-emulator");let kU=(()=>{class n{constructor(t,r,i,a,u,f,y,I,x,R){const j=(0,Xi.on)(t,u,r);this.storage=(0,Xi.cc)(`${j.name}.storage.${i}`,"AngularFireStorage",j.name,()=>{const X=u.runOutsideAngular(()=>j.storage(i||void 0)),he=x;return he&&X.useEmulator(...he),y&&X.setMaxUploadRetryTime(y),I&&X.setMaxOperationRetryTime(I),X},[y,I])}ref(t){return UI(this.storage.ref(t))}refFromURL(t){return UI(this.storage.refFromURL(t))}upload(t,r,i){return UI(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Xi.Dh),c.LFG(Xi.xv,8),c.LFG(MU,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(_r.HU),c.LFG(PU,8),c.LFG(OU,8),c.LFG(RU,8),c.LFG(up,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),kk=(()=>{class n{constructor(t,r){this.afs=t,this.fireStorage=r}addEntrepot(t){return t.id=this.afs.createId(),this.afs.collection("/Entrepot").add(t)}getAllEntrepot(){return this.afs.collection("/Entrepot").snapshotChanges()}deleteEntrepot(t){return this.afs.doc("/Entrepot/"+t.id).delete().then(()=>{})}updateEntrepot(t){return this.afs.doc("/Entrepot/"+t.id).set(t)}find(t){return this.afs.doc("/Entrepot/"+t).valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(qL),c.LFG(kU))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var NU=U(1144);const FU=["addListener","removeListener"],LU=["addEventListener","removeEventListener"],VU=["on","off"];function nf(n,e,t,r){if((0,Zi.m)(t)&&(r=t,t=void 0),r)return nf(n,e,t).pipe(vu(r));const[i,a]=function HU(n){return(0,Zi.m)(n.addEventListener)&&(0,Zi.m)(n.removeEventListener)}(n)?LU.map(u=>f=>n[u](e,f,t)):function UU(n){return(0,Zi.m)(n.addListener)&&(0,Zi.m)(n.removeListener)}(n)?FU.map(Nk(n,e)):function BU(n){return(0,Zi.m)(n.on)&&(0,Zi.m)(n.off)}(n)?VU.map(Nk(n,e)):[];if(!i&&(0,NU.z)(n))return(0,yr.z)(u=>nf(u,e,t))((0,jo.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Ni.y(u=>{const f=(...y)=>u.next(1<y.length?y:y[0]);return i(f),()=>a(f)})}function Nk(n,e){return t=>r=>n[t](e,r)}var $U=U(5032);function TM(n){return(0,ti.e)((e,t)=>{(0,jo.Xf)(n).subscribe((0,Kr.x)(t,()=>t.complete(),$U.Z)),!t.closed&&e.subscribe(t)})}var jU=U(7582);const SM=["*"],zU=["cellTemplate"];function GU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"label",4)(1,"input",5),c.NdJ("click",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.onCheckboxChange(i))}),c.qZA()()}if(2&n){const t=c.oxw();c.xp6(1),c.Q6J("checked",t.isSelected)}}function qU(n,e){1&n&&c._UZ(0,"i",11)}function WU(n,e){1&n&&c._UZ(0,"i",12)}function ZU(n,e){1&n&&c._UZ(0,"i",13)}function KU(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",7),c.NdJ("click",function(){c.CHM(t);const i=c.oxw(2);return c.KtG(i.onTreeAction())}),c.TgZ(1,"span"),c.YNc(2,qU,1,0,"i",8),c.YNc(3,WU,1,0,"i",9),c.YNc(4,ZU,1,0,"i",10),c.qZA()()}if(2&n){const t=c.oxw(2);c.Q6J("disabled","disabled"===t.treeStatus),c.xp6(2),c.Q6J("ngIf","loading"===t.treeStatus),c.xp6(1),c.Q6J("ngIf","collapsed"===t.treeStatus),c.xp6(1),c.Q6J("ngIf","expanded"===t.treeStatus||"disabled"===t.treeStatus)}}function YU(n,e){}const QU=function(n){return{cellContext:n}};function JU(n,e){if(1&n&&c.YNc(0,YU,0,0,"ng-template",14),2&n){const t=c.oxw(2);c.Q6J("ngTemplateOutlet",t.column.treeToggleTemplate)("ngTemplateOutletContext",c.VKq(2,QU,t.cellContext))}}function XU(n,e){if(1&n&&(c.ynx(0),c.YNc(1,KU,5,4,"button",6),c.YNc(2,JU,1,4,null,2),c.BQk()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",!t.column.treeToggleTemplate),c.xp6(1),c.Q6J("ngIf",t.column.treeToggleTemplate)}}function eB(n,e){if(1&n&&c._UZ(0,"span",15),2&n){const t=c.oxw();c.Q6J("title",t.sanitizedValue)("innerHTML",t.value,c.oJD)}}function tB(n,e){}function nB(n,e){if(1&n&&c.YNc(0,tB,0,0,"ng-template",14,16,c.W1O),2&n){const t=c.oxw();c.Q6J("ngTemplateOutlet",t.column.cellTemplate)("ngTemplateOutletContext",t.cellContext)}}function rB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"datatable-body-cell",3),c.NdJ("activate",function(i){const u=c.CHM(t).index,f=c.oxw(2);return c.KtG(f.onActivate(i,u))})("treeAction",function(){c.CHM(t);const i=c.oxw(2);return c.KtG(i.onTreeAction())}),c.qZA()}if(2&n){const t=e.$implicit,r=c.oxw(2);c.Q6J("row",r.row)("group",r.group)("expanded",r.expanded)("isSelected",r.isSelected)("rowIndex",r.rowIndex)("column",t)("rowHeight",r.rowHeight)("displayCheck",r.displayCheck)("treeStatus",r.treeStatus)}}function iB(n,e){if(1&n&&(c.TgZ(0,"div",1),c.YNc(1,rB,1,9,"datatable-body-cell",2),c.qZA()),2&n){const t=e.$implicit,r=c.oxw();c.Gre("datatable-row-",t.type," datatable-row-group"),c.Q6J("ngStyle",r._groupStyles[t.type]),c.xp6(1),c.Q6J("ngForOf",t.columns)("ngForTrackBy",r.columnTrackingFn)}}function oB(n,e){if(1&n&&c._UZ(0,"datatable-body-row",1),2&n){const t=c.oxw();c.Q6J("innerWidth",t.innerWidth)("offsetX",t.offsetX)("columns",t._internalColumns)("rowHeight",t.rowHeight)("row",t.summaryRow)("rowIndex",-1)}}function sB(n,e){}function aB(n,e){if(1&n&&c.YNc(0,sB,0,0,"ng-template",4),2&n){const t=c.oxw(2);c.Q6J("ngTemplateOutlet",t.groupHeader.template)("ngTemplateOutletContext",t.groupContext)}}function lB(n,e){if(1&n&&(c.TgZ(0,"div",3),c.YNc(1,aB,1,2,null,1),c.qZA()),2&n){const t=c.oxw();c.Q6J("ngStyle",t.getGroupHeaderStyle()),c.xp6(1),c.Q6J("ngIf",t.groupHeader&&t.groupHeader.template)}}function cB(n,e){1&n&&c.Hsn(0,0,["*ngIf","(groupHeader && groupHeader.template && expanded) || !groupHeader || !groupHeader.template"])}function uB(n,e){}function dB(n,e){if(1&n&&c.YNc(0,uB,0,0,"ng-template",4),2&n){const t=c.oxw(2);c.Q6J("ngTemplateOutlet",t.rowDetail.template)("ngTemplateOutletContext",t.rowContext)}}function hB(n,e){if(1&n&&(c.TgZ(0,"div",5),c.YNc(1,dB,1,2,null,1),c.qZA()),2&n){const t=c.oxw();c.Udp("height",t.detailRowHeight,"px"),c.xp6(1),c.Q6J("ngIf",t.rowDetail&&t.rowDetail.template)}}function fB(n,e){1&n&&c._UZ(0,"datatable-progress")}function pB(n,e){if(1&n&&c._UZ(0,"datatable-summary-row",9),2&n){const t=c.oxw(2);c.Q6J("rowHeight",t.summaryHeight)("offsetX",t.offsetX)("innerWidth",t.innerWidth)("rows",t.rows)("columns",t.columns)}}function gB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"datatable-body-row",13),c.NdJ("treeAction",function(){c.CHM(t);const i=c.oxw().$implicit,a=c.oxw(2);return c.KtG(a.onTreeAction(i))})("activate",function(i){c.CHM(t);const a=c.oxw().index,u=c.oxw(2),f=c.MAs(2);return c.KtG(f.onActivate(i,u.indexes.first+a))}),c.qZA()}if(2&n){const t=c.oxw().$implicit,r=c.oxw(2),i=c.MAs(2);c.Q6J("isSelected",i.getRowSelected(t))("innerWidth",r.innerWidth)("offsetX",r.offsetX)("columns",r.columns)("rowHeight",r.getRowHeight(t))("row",t)("rowIndex",r.getRowIndex(t))("expanded",r.getRowExpanded(t))("rowClass",r.rowClass)("displayCheck",r.displayCheck)("treeStatus",t&&t.treeStatus)}}function mB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"datatable-body-row",15),c.NdJ("activate",function(i){const u=c.CHM(t).index;c.oxw(4);const f=c.MAs(2);return c.KtG(f.onActivate(i,u))}),c.qZA()}if(2&n){const t=e.$implicit,r=c.oxw(2).$implicit,i=c.oxw(2),a=c.MAs(2);c.Q6J("isSelected",a.getRowSelected(t))("innerWidth",i.innerWidth)("offsetX",i.offsetX)("columns",i.columns)("rowHeight",i.getRowHeight(t))("row",t)("group",r.value)("rowIndex",i.getRowIndex(t))("expanded",i.getRowExpanded(t))("rowClass",i.rowClass)}}function yB(n,e){if(1&n&&c.YNc(0,mB,1,10,"datatable-body-row",14),2&n){const t=c.oxw().$implicit,r=c.oxw(2);c.Q6J("ngForOf",t.value)("ngForTrackBy",r.rowTrackingFn)}}function _B(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"datatable-row-wrapper",10),c.NdJ("rowContextmenu",function(i){c.CHM(t);const a=c.oxw(2);return c.KtG(a.rowContextmenu.emit(i))}),c.YNc(1,gB,1,11,"datatable-body-row",11),c.YNc(2,yB,1,2,"ng-template",null,12,c.W1O),c.qZA()}if(2&n){const t=e.$implicit,r=e.index,i=c.MAs(3),a=c.oxw(2);c.Q6J("groupedRows",a.groupedRows)("innerWidth",a.innerWidth)("ngStyle",a.getRowsStyles(t))("rowDetail",a.rowDetail)("groupHeader",a.groupHeader)("offsetX",a.offsetX)("detailRowHeight",a.getDetailRowHeight(t&&t[r],r))("row",t)("expanded",a.getRowExpanded(t))("rowIndex",a.getRowIndex(t&&t[r])),c.xp6(1),c.Q6J("ngIf",!a.groupedRows)("ngIfElse",i)}}function vB(n,e){if(1&n&&c._UZ(0,"datatable-summary-row",16),2&n){const t=c.oxw(2);c.Q6J("ngStyle",t.getBottomSummaryRowStyles())("rowHeight",t.summaryHeight)("offsetX",t.offsetX)("innerWidth",t.innerWidth)("rows",t.rows)("columns",t.columns)}}function wB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"datatable-scroller",5),c.NdJ("scroll",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.onBodyScroll(i))}),c.YNc(1,pB,1,5,"datatable-summary-row",6),c.YNc(2,_B,4,12,"datatable-row-wrapper",7),c.YNc(3,vB,1,6,"datatable-summary-row",8),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("scrollbarV",t.scrollbarV)("scrollbarH",t.scrollbarH)("scrollHeight",t.scrollHeight)("scrollWidth",null==t.columnGroupWidths?null:t.columnGroupWidths.total),c.xp6(1),c.Q6J("ngIf",t.summaryRow&&"top"===t.summaryPosition),c.xp6(1),c.Q6J("ngForOf",t.temp)("ngForTrackBy",t.rowTrackingFn),c.xp6(1),c.Q6J("ngIf",t.summaryRow&&"bottom"===t.summaryPosition)}}function bB(n,e){if(1&n&&c._UZ(0,"div",17),2&n){const t=c.oxw();c.Q6J("innerHTML",t.emptyMessage,c.oJD)}}function CB(n,e){}function EB(n,e){if(1&n&&c.YNc(0,CB,0,0,"ng-template",5),2&n){const t=c.oxw();c.Q6J("ngTemplateOutlet",t.targetMarkerTemplate)("ngTemplateOutletContext",t.targetMarkerContext)}}function IB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"label",6)(1,"input",7),c.NdJ("change",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.select.emit(!i.allRowsSelected))}),c.qZA()()}if(2&n){const t=c.oxw();c.xp6(1),c.Q6J("checked",t.allRowsSelected)}}function DB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"span",8)(1,"span",9),c.NdJ("click",function(){c.CHM(t);const i=c.oxw();return c.KtG(i.onSort())}),c.qZA()()}if(2&n){const t=c.oxw();c.xp6(1),c.Q6J("innerHTML",t.name,c.oJD)}}function TB(n,e){}function SB(n,e){if(1&n&&c.YNc(0,TB,0,0,"ng-template",5),2&n){const t=c.oxw();c.Q6J("ngTemplateOutlet",t.column.headerTemplate)("ngTemplateOutletContext",t.cellContext)}}function xB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"datatable-header-cell",4),c.NdJ("resize",function(i){const u=c.CHM(t).$implicit,f=c.oxw(2);return c.KtG(f.onColumnResized(i,u))})("longPressStart",function(i){c.CHM(t);const a=c.oxw(2);return c.KtG(a.onLongPressStart(i))})("longPressEnd",function(i){c.CHM(t);const a=c.oxw(2);return c.KtG(a.onLongPressEnd(i))})("sort",function(i){c.CHM(t);const a=c.oxw(2);return c.KtG(a.onSort(i))})("select",function(i){c.CHM(t);const a=c.oxw(2);return c.KtG(a.select.emit(i))})("columnContextmenu",function(i){c.CHM(t);const a=c.oxw(2);return c.KtG(a.columnContextmenu.emit(i))}),c.qZA()}if(2&n){const t=e.$implicit,r=c.oxw(2);c.Q6J("resizeEnabled",t.resizeable)("pressModel",t)("pressEnabled",r.reorderable&&t.draggable)("dragX",r.reorderable&&t.draggable&&t.dragging)("dragY",!1)("dragModel",t)("dragEventTarget",r.dragEventTarget)("headerHeight",r.headerHeight)("isTarget",t.isTarget)("targetMarkerTemplate",r.targetMarkerTemplate)("targetMarkerContext",t.targetMarkerContext)("column",t)("sortType",r.sortType)("sorts",r.sorts)("selectionType",r.selectionType)("sortAscendingIcon",r.sortAscendingIcon)("sortDescendingIcon",r.sortDescendingIcon)("sortUnsetIcon",r.sortUnsetIcon)("allRowsSelected",r.allRowsSelected)}}function AB(n,e){if(1&n&&(c.TgZ(0,"div",2),c.YNc(1,xB,1,19,"datatable-header-cell",3),c.qZA()),2&n){const t=e.$implicit,r=c.oxw();c.Tol("datatable-row-"+t.type),c.Q6J("ngStyle",r._styleByGroup[t.type]),c.xp6(1),c.Q6J("ngForOf",t.columns)("ngForTrackBy",r.columnTrackingFn)}}function MB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"li",6)(1,"a",7),c.NdJ("click",function(){const a=c.CHM(t).$implicit,u=c.oxw();return c.KtG(u.selectPage(a.number))}),c._uU(2),c.qZA()()}if(2&n){const t=e.$implicit,r=c.oxw();c.ekj("active",t.number===r.page),c.uIk("aria-label","page "+t.number),c.xp6(2),c.hij(" ",t.text," ")}}function PB(n,e){}const OB=function(n,e,t,r,i){return{rowCount:n,pageSize:e,selectedCount:t,curPage:r,offset:i}};function RB(n,e){if(1&n&&c.YNc(0,PB,0,0,"ng-template",4),2&n){const t=c.oxw();c.Q6J("ngTemplateOutlet",t.footerTemplate.template)("ngTemplateOutletContext",c.qbA(2,OB,t.rowCount,t.pageSize,t.selectedCount,t.curPage,t.offset))}}function kB(n,e){if(1&n&&(c.TgZ(0,"span"),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.AsE(" ",null==t.selectedCount?null:t.selectedCount.toLocaleString()," ",t.selectedMessage," / ")}}function NB(n,e){if(1&n&&(c.TgZ(0,"div",5),c.YNc(1,kB,2,2,"span",1),c._uU(2),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",t.selectedMessage),c.xp6(1),c.AsE(" ",null==t.rowCount?null:t.rowCount.toLocaleString()," ",t.totalMessage," ")}}function FB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"datatable-pager",6),c.NdJ("change",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.page.emit(i))}),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("pagerLeftArrowIcon",t.pagerLeftArrowIcon)("pagerRightArrowIcon",t.pagerRightArrowIcon)("pagerPreviousIcon",t.pagerPreviousIcon)("pagerNextIcon",t.pagerNextIcon)("page",t.curPage)("size",t.pageSize)("count",t.rowCount)("hidden",!t.isVisible)}}const LB=function(n){return{"selected-count":n}};function VB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"datatable-header",4),c.NdJ("sort",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.onColumnSort(i))})("resize",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.onColumnResize(i))})("reorder",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.onColumnReorder(i))})("select",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.onHeaderSelect(i))})("columnContextmenu",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.onColumnContextmenu(i))}),c.ALo(1,"async"),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("sorts",t.sorts)("sortType",t.sortType)("scrollbarH",t.scrollbarH)("innerWidth",t._innerWidth)("offsetX",c.lcZ(1,15,t._offsetX))("dealsWithGroup",void 0!==t.groupedRows)("columns",t._internalColumns)("headerHeight",t.headerHeight)("reorderable",t.reorderable)("targetMarkerTemplate",t.targetMarkerTemplate)("sortAscendingIcon",t.cssClasses.sortAscending)("sortDescendingIcon",t.cssClasses.sortDescending)("sortUnsetIcon",t.cssClasses.sortUnset)("allRowsSelected",t.allRowsSelected)("selectionType",t.selectionType)}}function UB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"datatable-footer",5),c.NdJ("page",function(i){c.CHM(t);const a=c.oxw();return c.KtG(a.onFooterPage(i))}),c.qZA()}if(2&n){const t=c.oxw();c.Q6J("rowCount",t.rowCount)("pageSize",t.pageSize)("offset",t.offset)("footerHeight",t.footerHeight)("footerTemplate",t.footer)("totalMessage",t.messages.totalMessage)("pagerLeftArrowIcon",t.cssClasses.pagerLeftArrow)("pagerRightArrowIcon",t.cssClasses.pagerRightArrow)("pagerPreviousIcon",t.cssClasses.pagerPrevious)("selectedCount",t.selected.length)("selectedMessage",!!t.selectionType&&t.messages.selectedMessage)("pagerNextIcon",t.cssClasses.pagerNext)}}let xM=(()=>{class n{constructor(t){this.document=t,this.width=this.getWidth()}getWidth(){const t=this.document.createElement("div");t.style.visibility="hidden",t.style.width="100px",t.style.msOverflowStyle="scrollbar",this.document.body.appendChild(t);const r=t.offsetWidth;t.style.overflow="scroll";const i=this.document.createElement("div");i.style.width="100%",t.appendChild(i);const a=i.offsetWidth;return t.parentNode.removeChild(t),r-a}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(we))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Fk=(()=>{class n{getDimensions(t){return t.getBoundingClientRect()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),AM=(()=>{class n{constructor(){this.columnInputChanges=new ar.x}get columnInputChanges$(){return this.columnInputChanges.asObservable()}onInputChange(){this.columnInputChanges.next()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),BB=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngx-datatable-footer-template",""]]}),n})(),HB=(()=>{class n{constructor(t,r){this.element=t,this.zone=r,this.isVisible=!1,this.visible=new c.vpe}ngOnInit(){this.runCheck()}ngOnDestroy(){clearTimeout(this.timeout)}onVisibilityChange(){this.zone.run(()=>{this.isVisible=!0,this.visible.emit(!0)})}runCheck(){const t=()=>{const{offsetHeight:r,offsetWidth:i}=this.element.nativeElement;r&&i?(clearTimeout(this.timeout),this.onVisibilityChange()):(clearTimeout(this.timeout),this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>t(),50)}))};this.timeout=setTimeout(()=>t())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","visibilityObserver",""]],hostVars:2,hostBindings:function(t,r){2&t&&c.ekj("visible",r.isVisible)},outputs:{visible:"visible"}}),n})(),Lk=(()=>{class n{constructor(t){this.dragX=!0,this.dragY=!0,this.dragStart=new c.vpe,this.dragging=new c.vpe,this.dragEnd=new c.vpe,this.isDragging=!1,this.element=t.nativeElement}ngOnChanges(t){t.dragEventTarget&&t.dragEventTarget.currentValue&&this.dragModel.dragging&&this.onMousedown(t.dragEventTarget.currentValue)}ngOnDestroy(){this._destroySubscription()}onMouseup(t){!this.isDragging||(this.isDragging=!1,this.element.classList.remove("dragging"),this.subscription&&(this._destroySubscription(),this.dragEnd.emit({event:t,element:this.element,model:this.dragModel})))}onMousedown(t){if(t.target.classList.contains("draggable")&&(this.dragX||this.dragY)){t.preventDefault(),this.isDragging=!0;const i={x:t.clientX,y:t.clientY},a=nf(document,"mouseup");this.subscription=a.subscribe(f=>this.onMouseup(f));const u=nf(document,"mousemove").pipe(TM(a)).subscribe(f=>this.move(f,i));this.subscription.add(u),this.dragStart.emit({event:t,element:this.element,model:this.dragModel})}}move(t,r){if(!this.isDragging)return;const a=t.clientY-r.y;this.dragX&&(this.element.style.left=t.clientX-r.x+"px"),this.dragY&&(this.element.style.top=`${a}px`),this.element.classList.add("dragging"),this.dragging.emit({event:t,element:this.element,model:this.dragModel})}_destroySubscription(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=void 0)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","draggable",""]],inputs:{dragEventTarget:"dragEventTarget",dragModel:"dragModel",dragX:"dragX",dragY:"dragY"},outputs:{dragStart:"dragStart",dragging:"dragging",dragEnd:"dragEnd"},features:[c.TTD]}),n})(),$B=(()=>{class n{constructor(t,r){this.renderer=r,this.resizeEnabled=!0,this.resize=new c.vpe,this.resizing=!1,this.element=t.nativeElement}ngAfterViewInit(){const t=this.renderer;this.resizeHandle=t.createElement("span"),t.addClass(this.resizeHandle,this.resizeEnabled?"resize-handle":"resize-handle--not-resizable"),t.appendChild(this.element,this.resizeHandle)}ngOnDestroy(){this._destroySubscription(),this.renderer.destroyNode?this.renderer.destroyNode(this.resizeHandle):this.resizeHandle&&this.renderer.removeChild(this.renderer.parentNode(this.resizeHandle),this.resizeHandle)}onMouseup(){this.resizing=!1,this.subscription&&!this.subscription.closed&&(this._destroySubscription(),this.resize.emit(this.element.clientWidth))}onMousedown(t){const r=t.target.classList.contains("resize-handle"),i=this.element.clientWidth,a=t.screenX;if(r){t.stopPropagation(),this.resizing=!0;const u=nf(document,"mouseup");this.subscription=u.subscribe(y=>this.onMouseup());const f=nf(document,"mousemove").pipe(TM(u)).subscribe(y=>this.move(y,i,a));this.subscription.add(f)}}move(t,r,i){const u=r+(t.screenX-i);(!this.minWidth||u>=this.minWidth)&&(!this.maxWidth||u<=this.maxWidth)&&(this.element.style.width=`${u}px`)}_destroySubscription(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=void 0)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","resizeable",""]],hostVars:2,hostBindings:function(t,r){1&t&&c.NdJ("mousedown",function(a){return r.onMousedown(a)}),2&t&&c.ekj("resizeable",r.resizeEnabled)},inputs:{resizeEnabled:"resizeEnabled",minWidth:"minWidth",maxWidth:"maxWidth"},outputs:{resize:"resize"}}),n})(),jB=(()=>{class n{constructor(t,r){this.document=r,this.reorder=new c.vpe,this.targetChanged=new c.vpe,this.differ=t.find({}).create()}ngAfterContentInit(){this.updateSubscriptions(),this.draggables.changes.subscribe(this.updateSubscriptions.bind(this))}ngOnDestroy(){this.draggables.forEach(t=>{t.dragStart.unsubscribe(),t.dragging.unsubscribe(),t.dragEnd.unsubscribe()})}updateSubscriptions(){const t=this.differ.diff(this.createMapDiffs());if(t){const r=({currentValue:a,previousValue:u})=>{i({previousValue:u}),a&&(a.dragStart.subscribe(this.onDragStart.bind(this)),a.dragging.subscribe(this.onDragging.bind(this)),a.dragEnd.subscribe(this.onDragEnd.bind(this)))},i=({previousValue:a})=>{a&&(a.dragStart.unsubscribe(),a.dragging.unsubscribe(),a.dragEnd.unsubscribe())};t.forEachAddedItem(r),t.forEachRemovedItem(i)}}onDragStart(){this.positions={};let t=0;for(const r of this.draggables.toArray()){const i=r.element,a=parseInt(i.offsetLeft.toString(),0);this.positions[r.dragModel.prop]={left:a,right:a+parseInt(i.offsetWidth.toString(),0),index:t++,element:i}}}onDragging({model:r,event:i}){const a=this.positions[r.prop],u=this.isTarget(r,i);u?this.lastDraggingIndex!==u.i&&(this.targetChanged.emit({prevIndex:this.lastDraggingIndex,newIndex:u.i,initialIndex:a.index}),this.lastDraggingIndex=u.i):this.lastDraggingIndex!==a.index&&(this.targetChanged.emit({prevIndex:this.lastDraggingIndex,initialIndex:a.index}),this.lastDraggingIndex=a.index)}onDragEnd({element:t,model:r,event:i}){const a=this.positions[r.prop],u=this.isTarget(r,i);u&&this.reorder.emit({prevIndex:a.index,newIndex:u.i,model:r}),this.lastDraggingIndex=void 0,t.style.left="auto"}isTarget(t,r){let i=0;const f=this.document.elementsFromPoint(r.x||r.clientX,r.y||r.clientY);for(const y in this.positions){const I=this.positions[y];if(t.prop!==y&&f.find(x=>x===I.element))return{pos:I,i};i++}}createMapDiffs(){return this.draggables.toArray().reduce((t,r)=>(t[r.dragModel.$$id]=r,t),{})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.aQg),c.Y36(we))},n.\u0275dir=c.lG2({type:n,selectors:[["","orderable",""]],contentQueries:function(t,r,i){if(1&t&&c.Suo(i,Lk,5),2&t){let a;c.iGM(a=c.CRH())&&(r.draggables=a)}},outputs:{reorder:"reorder",targetChanged:"targetChanged"}}),n})(),zB=(()=>{class n{constructor(){this.pressEnabled=!0,this.duration=500,this.longPressStart=new c.vpe,this.longPressing=new c.vpe,this.longPressEnd=new c.vpe,this.mouseX=0,this.mouseY=0}get press(){return this.pressing}get isLongPress(){return this.isLongPressing}onMouseDown(t){if(1!==t.which||!this.pressEnabled||t.target.classList.contains("resize-handle"))return;this.mouseX=t.clientX,this.mouseY=t.clientY,this.pressing=!0,this.isLongPressing=!1;const i=nf(document,"mouseup");this.subscription=i.subscribe(a=>this.onMouseup()),this.timeout=setTimeout(()=>{this.isLongPressing=!0,this.longPressStart.emit({event:t,model:this.pressModel}),this.subscription.add(nf(document,"mousemove").pipe(TM(i)).subscribe(a=>this.onMouseMove(a))),this.loop(t)},this.duration),this.loop(t)}onMouseMove(t){if(this.pressing&&!this.isLongPressing){const r=Math.abs(t.clientX-this.mouseX)>10,i=Math.abs(t.clientY-this.mouseY)>10;(r||i)&&this.endPress()}}loop(t){this.isLongPressing&&(this.timeout=setTimeout(()=>{this.longPressing.emit({event:t,model:this.pressModel}),this.loop(t)},50))}endPress(){clearTimeout(this.timeout),this.isLongPressing=!1,this.pressing=!1,this._destroySubscription(),this.longPressEnd.emit({model:this.pressModel})}onMouseup(){this.endPress()}ngOnDestroy(){this._destroySubscription()}_destroySubscription(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=void 0)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","long-press",""]],hostVars:4,hostBindings:function(t,r){1&t&&c.NdJ("mousedown",function(a){return r.onMouseDown(a)}),2&t&&c.ekj("press",r.press)("longpress",r.isLongPress)},inputs:{pressEnabled:"pressEnabled",pressModel:"pressModel",duration:"duration"},outputs:{longPressStart:"longPressStart",longPressing:"longPressing",longPressEnd:"longPressEnd"}}),n})(),Vk=(()=>{class n{constructor(t,r,i){this.ngZone=t,this.renderer=i,this.scrollbarV=!1,this.scrollbarH=!1,this.scroll=new c.vpe,this.scrollYPos=0,this.scrollXPos=0,this.prevScrollYPos=0,this.prevScrollXPos=0,this._scrollEventListener=null,this.element=r.nativeElement}ngOnInit(){if(this.scrollbarV||this.scrollbarH){const t=this.renderer;this.parentElement=t.parentNode(t.parentNode(this.element)),this._scrollEventListener=this.onScrolled.bind(this),this.parentElement.addEventListener("scroll",this._scrollEventListener)}}ngOnDestroy(){this._scrollEventListener&&(this.parentElement.removeEventListener("scroll",this._scrollEventListener),this._scrollEventListener=null)}setOffset(t){this.parentElement&&(this.parentElement.scrollTop=t)}onScrolled(t){const r=t.currentTarget;requestAnimationFrame(()=>{this.scrollYPos=r.scrollTop,this.scrollXPos=r.scrollLeft,this.updateOffset()})}updateOffset(){let t;this.scrollYPos<this.prevScrollYPos?t="down":this.scrollYPos>this.prevScrollYPos&&(t="up"),this.scroll.emit({direction:t,scrollYPos:this.scrollYPos,scrollXPos:this.scrollXPos}),this.prevScrollYPos=this.scrollYPos,this.prevScrollXPos=this.scrollXPos}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.R0b),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275cmp=c.Xpm({type:n,selectors:[["datatable-scroller"]],hostAttrs:[1,"datatable-scroll"],hostVars:4,hostBindings:function(t,r){2&t&&c.Udp("height",r.scrollHeight,"px")("width",r.scrollWidth,"px")},inputs:{scrollbarV:"scrollbarV",scrollbarH:"scrollbarH",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth"},outputs:{scroll:"scroll"},ngContentSelectors:SM,decls:1,vars:0,template:function(t,r){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),GB=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngx-datatable-group-header-template",""]]}),n})(),qB=(()=>{class n{constructor(){this.rowHeight=0,this.toggle=new c.vpe}get template(){return this._templateInput||this._templateQuery}toggleExpandGroup(t){this.toggle.emit({type:"group",value:t})}expandAllGroups(){this.toggle.emit({type:"all",value:!0})}collapseAllGroups(){this.toggle.emit({type:"all",value:!1})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["ngx-datatable-group-header"]],contentQueries:function(t,r,i){if(1&t&&c.Suo(i,GB,7,c.Rgc),2&t){let a;c.iGM(a=c.CRH())&&(r._templateQuery=a.first)}},inputs:{rowHeight:"rowHeight",_templateInput:["template","_templateInput"]},outputs:{toggle:"toggle"}}),n})();function WB(){return""}function MM(n){return null==n?WB:"number"==typeof n?ZB:-1!==n.indexOf(".")?YB:KB}function ZB(n,e){return null==n?"":n&&null!=e?n[e]??"":n}function KB(n,e){return null==n?"":n&&e?n[e]??"":n}function YB(n,e){if(null==n)return"";if(!n||!e)return n;let t=n[e];if(void 0!==t)return t;t=n;const r=e.split(".");if(r.length)for(let i=0;i<r.length;i++)if(t=t[r[i]],null==t)return"";return t}function My(n){return n&&(e=>MM(n)(e,n))}function PM(n,e,t){if(e&&t){const r={},i=n.length;let a=null;r[0]=new Uk;const u=n.reduce((y,I)=>{const x=t(I);return-1===y.indexOf(x)&&y.push(x),y},[]);for(let y=0;y<i;y++)r[t(n[y])]=new Uk(n[y]);for(let y=0;y<i;y++){a=r[t(n[y])];let I=0;const x=e(a.row);!!x&&u.indexOf(x)>-1&&(I=x),a.parent=r[I],a.row.level=a.parent.row.level+1,a.parent.children.push(a)}let f=[];return r[0].flatten(function(){f=[...f,this.row]},!0),f}return n}class Uk{constructor(e=null){e||(e={level:-1,treeStatus:"expanded"}),this.row=e,this.parent=null,this.children=[]}flatten(e,t){if("expanded"===this.row.treeStatus)for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r];e.apply(a,Array.prototype.slice.call(arguments,2)),t&&a.flatten.apply(a,arguments)}}}function OM(n){return(n=(n=(n=n.replace(/[^a-zA-Z0-9 ]/g," ")).replace(/([a-z](?=[A-Z]))/g,"$1 ")).replace(/([^a-zA-Z0-9 ])|^[0-9]+/g,"").trim().toLowerCase()).replace(/([ 0-9]+)([a-zA-Z])/g,function(e,t,r){return t.trim()+r.toUpperCase()})}function QB(n){return n.replace(/([A-Z])/g,e=>` ${e}`).replace(/^./,e=>e.toUpperCase())}function Bk(n){if(!n)return;let e=!1;for(const t of n)t.$$id||(t.$$id=("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)),sb(t.prop)&&t.name&&(t.prop=OM(t.name)),t.$$valueGetter||(t.$$valueGetter=MM(t.prop)),!sb(t.prop)&&sb(t.name)&&(t.name=QB(String(t.prop))),sb(t.prop)&&sb(t.name)&&(t.name=""),t.hasOwnProperty("resizeable")||(t.resizeable=!0),t.hasOwnProperty("sortable")||(t.sortable=!0),t.hasOwnProperty("draggable")||(t.draggable=!0),t.hasOwnProperty("canAutoResize")||(t.canAutoResize=!0),t.hasOwnProperty("width")||(t.width=150),t.hasOwnProperty("isTreeColumn")&&t.isTreeColumn&&!e?e=!0:t.isTreeColumn=!1}function sb(n){return null==n}var Py=(()=>(function(n){n.standard="standard",n.flex="flex",n.force="force"}(Py||(Py={})),Py))(),Rs=(()=>(function(n){n.single="single",n.multi="multi",n.multiClick="multiClick",n.cell="cell",n.checkbox="checkbox"}(Rs||(Rs={})),Rs))(),Oy=(()=>(function(n){n.single="single",n.multi="multi"}(Oy||(Oy={})),Oy))(),ab=(()=>(function(n){n.header="header",n.body="body"}(ab||(ab={})),ab))();let eH=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngx-datatable-header-template",""]]}),n})(),Hk=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngx-datatable-cell-template",""]]}),n})(),tH=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngx-datatable-tree-toggle",""]]}),n})(),$k=(()=>{class n{constructor(t){this.columnChangesService=t,this.isFirstChange=!0}get cellTemplate(){return this._cellTemplateInput||this._cellTemplateQuery}get headerTemplate(){return this._headerTemplateInput||this._headerTemplateQuery}get treeToggleTemplate(){return this._treeToggleTemplateInput||this._treeToggleTemplateQuery}ngOnChanges(){this.isFirstChange?this.isFirstChange=!1:this.columnChangesService.onInputChange()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(AM))},n.\u0275dir=c.lG2({type:n,selectors:[["ngx-datatable-column"]],contentQueries:function(t,r,i){if(1&t&&(c.Suo(i,Hk,7,c.Rgc),c.Suo(i,eH,7,c.Rgc),c.Suo(i,tH,7,c.Rgc)),2&t){let a;c.iGM(a=c.CRH())&&(r._cellTemplateQuery=a.first),c.iGM(a=c.CRH())&&(r._headerTemplateQuery=a.first),c.iGM(a=c.CRH())&&(r._treeToggleTemplateQuery=a.first)}},inputs:{name:"name",prop:"prop",frozenLeft:"frozenLeft",frozenRight:"frozenRight",flexGrow:"flexGrow",resizeable:"resizeable",comparator:"comparator",pipe:"pipe",sortable:"sortable",draggable:"draggable",canAutoResize:"canAutoResize",minWidth:"minWidth",width:"width",maxWidth:"maxWidth",checkboxable:"checkboxable",headerCheckboxable:"headerCheckboxable",headerClass:"headerClass",cellClass:"cellClass",isTreeColumn:"isTreeColumn",treeLevelIndent:"treeLevelIndent",summaryFunc:"summaryFunc",summaryTemplate:"summaryTemplate",_cellTemplateInput:["cellTemplate","_cellTemplateInput"],_headerTemplateInput:["headerTemplate","_headerTemplateInput"],_treeToggleTemplateInput:["treeToggleTemplate","_treeToggleTemplateInput"]},features:[c.TTD]}),n})(),nH=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngx-datatable-row-detail-template",""]]}),n})(),rH=(()=>{class n{constructor(){this.rowHeight=0,this.toggle=new c.vpe}get template(){return this._templateInput||this._templateQuery}toggleExpandRow(t){this.toggle.emit({type:"row",value:t})}expandAllRows(){this.toggle.emit({type:"all",value:!0})}collapseAllRows(){this.toggle.emit({type:"all",value:!1})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["ngx-datatable-row-detail"]],contentQueries:function(t,r,i){if(1&t&&c.Suo(i,nH,7,c.Rgc),2&t){let a;c.iGM(a=c.CRH())&&(r._templateQuery=a.first)}},inputs:{rowHeight:"rowHeight",_templateInput:["template","_templateInput"]},outputs:{toggle:"toggle"}}),n})(),iH=(()=>{class n{get template(){return this._templateInput||this._templateQuery}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["ngx-datatable-footer"]],contentQueries:function(t,r,i){if(1&t&&c.Suo(i,BB,5,c.Rgc),2&t){let a;c.iGM(a=c.CRH())&&(r._templateQuery=a.first)}},inputs:{footerHeight:"footerHeight",totalMessage:"totalMessage",selectedMessage:"selectedMessage",pagerLeftArrowIcon:"pagerLeftArrowIcon",pagerRightArrowIcon:"pagerRightArrowIcon",pagerPreviousIcon:"pagerPreviousIcon",pagerNextIcon:"pagerNextIcon",_templateInput:["template","_templateInput"]}}),n})();function pg(n){const e={left:[],center:[],right:[]};if(n)for(const t of n)t.frozenLeft?e.left.push(t):t.frozenRight?e.right.push(t):e.center.push(t);return e}function lb(n,e){return{left:BI(n.left),center:BI(n.center),right:BI(n.right),total:Math.floor(BI(e))}}function BI(n,e){let t=0;if(n)for(const r of n)t+=parseFloat(e&&r[e]?r[e]:r.width);return t}function jk(n){const e=[],t=pg(n);return e.push({type:"left",columns:t.left}),e.push({type:"center",columns:t.center}),e.push({type:"right",columns:t.right}),e}class sH{constructor(){this.treeArray=[]}clearCache(){this.treeArray=[]}initCache(e){const{rows:t,rowHeight:r,detailRowHeight:i,externalVirtual:a,rowCount:u,rowIndexes:f,rowExpansions:y}=e,I="function"==typeof r,x="function"==typeof i;if(!I&&isNaN(r))throw new Error(`Row Height cache initialization failed. Please ensure that 'rowHeight' is a\n        valid number or function value: (${r}) when 'scrollbarV' is enabled.`);if(!x&&isNaN(i))throw new Error(`Row Height cache initialization failed. Please ensure that 'detailRowHeight' is a\n        valid number or function value: (${i}) when 'scrollbarV' is enabled.`);const R=a?u:t.length;this.treeArray=new Array(R);for(let j=0;j<R;++j)this.treeArray[j]=0;for(let j=0;j<R;++j){const X=t[j];let he=r;I&&(he=r(X));const Be=y.has(X);X&&Be&&(he+=x?i(X,f.get(X)):i),this.update(j,he)}}getRowIndex(e){return 0===e?0:this.calcRowIndex(e)}update(e,t){if(!this.treeArray.length)throw new Error(`Update at index ${e} with value ${t} failed:\n        Row Height cache not initialized.`);const r=this.treeArray.length;for(e|=0;e<r;)this.treeArray[e]+=t,e|=e+1}query(e){if(!this.treeArray.length)throw new Error(`query at index ${e} failed: Fenwick tree array not initialized.`);let t=0;for(e|=0;e>=0;)t+=this.treeArray[e],e=(e&e+1)-1;return t}queryBetween(e,t){return this.query(t)-this.query(e-1)}calcRowIndex(e){if(!this.treeArray.length)return 0;let t=-1;const r=this.treeArray.length;for(let a=Math.pow(2,r.toString(2).length-1);0!==a;a>>=1){const u=t+a;u<r&&e>=this.treeArray[u]&&(e-=this.treeArray[u],t=u)}return t+1}}const HI={},zk=typeof document<"u"?document.createElement("div").style:void 0,RM=function(){const n=typeof window<"u"?window.getComputedStyle(document.documentElement,""):void 0,e=typeof n<"u"?Array.prototype.slice.call(n).join("").match(/-(moz|webkit|ms)-/):null,t=null!==e?e[1]:void 0,r=typeof t<"u"?"WebKit|Moz|MS|O".match(new RegExp("("+t+")","i"))[1]:void 0;return r?{dom:r,lowercase:t,css:`-${t}-`,js:t[0].toUpperCase()+t.substr(1)}:void 0}();function $I(n){const e=OM(n);return HI[e]||(void 0!==RM&&void 0!==zk[RM.css+n]?HI[e]=RM.css+n:void 0!==zk[n]&&(HI[e]=n)),HI[e]}const kM=typeof window<"u"?$I("transform"):void 0,aH=typeof window<"u"?$I("backfaceVisibility"):void 0,lH=typeof window<"u"?!!$I("transform"):void 0,cH=typeof window<"u"?!!$I("perspective"):void 0,Gk=typeof window<"u"?window.navigator.userAgent:"Chrome",uH=/Safari\//.test(Gk)&&!/Chrome\//.test(Gk);function rf(n,e,t){typeof kM<"u"&&lH?!uH&&cH?(n[kM]=`translate3d(${e}px, ${t}px, 0)`,n[aH]="hidden"):n[OM(kM)]=`translate(${e}px, ${t}px)`:(n.top=`${t}px`,n.left=`${e}px`)}let dH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["datatable-progress"]],decls:3,vars:0,consts:[["role","progressbar",1,"progress-linear"],[1,"container"],[1,"bar"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"div",1),c._UZ(2,"div",2),c.qZA()())},encapsulation:2,changeDetection:0}),n})();function NM(n,e,t){const r=t(e,n);return r>-1?n.splice(r,1):n.push(e),n}var $r=(()=>(function(n){n[n.up=38]="up",n[n.down=40]="down",n[n.return=13]="return",n[n.escape=27]="escape",n[n.left=37]="left",n[n.right=39]="right"}($r||($r={})),$r))();let fH=(()=>{class n{constructor(){this.activate=new c.vpe,this.select=new c.vpe}selectRow(t,r,i){if(!this.selectEnabled)return;const a=this.selectionType===Rs.checkbox,f=this.selectionType===Rs.multiClick;let y=[];y=this.selectionType===Rs.multi||a||f?t.shiftKey?function hH(n,e,t,r,i){const a=t<r;for(let u=0;u<e.length;u++){const f=e[u],y=u>=r&&u<=t,I=u<=r&&u>=t;let x={start:0,end:0};x=a?{start:t,end:r}:{start:r,end:t+1},(a&&I||!a&&y)&&u>=x.start&&u<=x.end&&n.push(f)}return n}([],this.rows,r,this.prevIndex,this.getRowSelectedIdx.bind(this)):NM(t.ctrlKey||t.metaKey||f||a?[...this.selected]:[],i,this.getRowSelectedIdx.bind(this)):NM([],i,this.getRowSelectedIdx.bind(this)),"function"==typeof this.selectCheck&&(y=y.filter(this.selectCheck.bind(this))),this.selected.splice(0,this.selected.length),this.selected.push(...y),this.prevIndex=r,this.select.emit({selected:y})}onActivate(t,r){const{type:i,event:a,row:u}=t,f=this.selectionType===Rs.checkbox;!f&&("click"===i||"dblclick"===i)||f&&"checkbox"===i?this.selectRow(a,r,u):"keydown"===i&&(a.keyCode===$r.return?this.selectRow(a,r,u):this.onKeyboardFocus(t)),this.activate.emit(t)}onKeyboardFocus(t){const{keyCode:r}=t.event;if(r===$r.up||r===$r.down||r===$r.right||r===$r.left){const a=this.selectionType===Rs.cell;t.cellElement&&a?a&&this.focusCell(t.cellElement,t.rowElement,r,t.cellIndex):this.focusRow(t.rowElement,r)}}focusRow(t,r){const i=this.getPrevNextRow(t,r);i&&i.focus()}getPrevNextRow(t,r){const i=t.parentElement;if(i){let a;if(r===$r.up?a=i.previousElementSibling:r===$r.down&&(a=i.nextElementSibling),a&&a.children.length)return a.children[0]}}focusCell(t,r,i,a){let u;if(i===$r.left)u=t.previousElementSibling;else if(i===$r.right)u=t.nextElementSibling;else if(i===$r.up||i===$r.down){const f=this.getPrevNextRow(r,i);if(f){const y=f.getElementsByClassName("datatable-body-cell");y.length&&(u=y[a])}}u&&u.focus()}getRowSelected(t){return this.getRowSelectedIdx(t,this.selected)>-1}getRowSelectedIdx(t,r){if(!r||!r.length)return-1;const i=this.rowIdentity(t);return r.findIndex(a=>this.rowIdentity(a)===i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["datatable-selection"]],inputs:{rows:"rows",selected:"selected",selectEnabled:"selectEnabled",selectionType:"selectionType",rowIdentity:"rowIdentity",selectCheck:"selectCheck"},outputs:{activate:"activate",select:"select"},ngContentSelectors:SM,decls:1,vars:0,template:function(t,r){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n})();var is=(()=>(function(n){n.asc="asc",n.desc="desc"}(is||(is={})),is))();let pH=(()=>{class n{constructor(t,r){this.cd=r,this.activate=new c.vpe,this.treeAction=new c.vpe,this.isFocused=!1,this.onCheckboxChangeFn=this.onCheckboxChange.bind(this),this.activateFn=this.activate.emit.bind(this.activate),this.cellContext={onCheckboxChangeFn:this.onCheckboxChangeFn,activateFn:this.activateFn,row:this.row,group:this.group,value:this.value,column:this.column,rowHeight:this.rowHeight,isSelected:this.isSelected,rowIndex:this.rowIndex,treeStatus:this.treeStatus,onTreeAction:this.onTreeAction.bind(this)},this._element=t.nativeElement}set group(t){this._group=t,this.cellContext.group=t,this.checkValueUpdates(),this.cd.markForCheck()}get group(){return this._group}set rowHeight(t){this._rowHeight=t,this.cellContext.rowHeight=t,this.checkValueUpdates(),this.cd.markForCheck()}get rowHeight(){return this._rowHeight}set isSelected(t){this._isSelected=t,this.cellContext.isSelected=t,this.cd.markForCheck()}get isSelected(){return this._isSelected}set expanded(t){this._expanded=t,this.cellContext.expanded=t,this.cd.markForCheck()}get expanded(){return this._expanded}set rowIndex(t){this._rowIndex=t,this.cellContext.rowIndex=t,this.checkValueUpdates(),this.cd.markForCheck()}get rowIndex(){return this._rowIndex}set column(t){this._column=t,this.cellContext.column=t,this.checkValueUpdates(),this.cd.markForCheck()}get column(){return this._column}set row(t){this._row=t,this.cellContext.row=t,this.checkValueUpdates(),this.cd.markForCheck()}get row(){return this._row}set sorts(t){this._sorts=t,this.calcSortDir=this.calcSortDir(t)}get sorts(){return this._sorts}set treeStatus(t){this._treeStatus="collapsed"!==t&&"expanded"!==t&&"loading"!==t&&"disabled"!==t?"collapsed":t,this.cellContext.treeStatus=this._treeStatus,this.checkValueUpdates(),this.cd.markForCheck()}get treeStatus(){return this._treeStatus}get columnCssClasses(){let t="datatable-body-cell";if(this.column.cellClass)if("string"==typeof this.column.cellClass)t+=" "+this.column.cellClass;else if("function"==typeof this.column.cellClass){const r=this.column.cellClass({row:this.row,group:this.group,column:this.column,value:this.value,rowHeight:this.rowHeight});if("string"==typeof r)t+=" "+r;else if("object"==typeof r){const i=Object.keys(r);for(const a of i)!0===r[a]&&(t+=` ${a}`)}}return this.sortDir||(t+=" sort-active"),this.isFocused&&(t+=" active"),this.sortDir===is.asc&&(t+=" sort-asc"),this.sortDir===is.desc&&(t+=" sort-desc"),t}get width(){return this.column.width}get minWidth(){return this.column.minWidth}get maxWidth(){return this.column.maxWidth}get height(){const t=this.rowHeight;return isNaN(t)?t:t+"px"}ngDoCheck(){this.checkValueUpdates()}ngOnDestroy(){this.cellTemplate&&this.cellTemplate.clear()}checkValueUpdates(){let t="";if(this.row&&this.column){const r=this.column.$$valueGetter(this.row,this.column.prop),i=this.column.pipe;i?t=i.transform(r):void 0!==t&&(t=r)}else t="";this.value!==t&&(this.value=t,this.cellContext.value=t,this.sanitizedValue=null!=t?this.stripHtml(t):t,this.cd.markForCheck())}onFocus(){this.isFocused=!0}onBlur(){this.isFocused=!1}onClick(t){this.activate.emit({type:"click",event:t,row:this.row,group:this.group,rowHeight:this.rowHeight,column:this.column,value:this.value,cellElement:this._element})}onDblClick(t){this.activate.emit({type:"dblclick",event:t,row:this.row,group:this.group,rowHeight:this.rowHeight,column:this.column,value:this.value,cellElement:this._element})}onKeyDown(t){const r=t.keyCode;(r===$r.return||r===$r.down||r===$r.up||r===$r.left||r===$r.right)&&t.target===this._element&&(t.preventDefault(),t.stopPropagation(),this.activate.emit({type:"keydown",event:t,row:this.row,group:this.group,rowHeight:this.rowHeight,column:this.column,value:this.value,cellElement:this._element}))}onCheckboxChange(t){this.activate.emit({type:"checkbox",event:t,row:this.row,group:this.group,rowHeight:this.rowHeight,column:this.column,value:this.value,cellElement:this._element,treeStatus:"collapsed"})}calcSortDir(t){if(!t)return;const r=t.find(i=>i.prop===this.column.prop);return r?r.dir:void 0}stripHtml(t){return t.replace?t.replace(/<\/?[^>]+(>|$)/g,""):t}onTreeAction(){this.treeAction.emit(this.row)}calcLeftMargin(t,r){return t.isTreeColumn?r.level*(null!=t.treeLevelIndent?t.treeLevelIndent:50):0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["datatable-body-cell"]],viewQuery:function(t,r){if(1&t&&c.Gf(zU,7,c.s_b),2&t){let i;c.iGM(i=c.CRH())&&(r.cellTemplate=i.first)}},hostVars:10,hostBindings:function(t,r){1&t&&c.NdJ("focus",function(){return r.onFocus()})("blur",function(){return r.onBlur()})("click",function(a){return r.onClick(a)})("dblclick",function(a){return r.onDblClick(a)})("keydown",function(a){return r.onKeyDown(a)}),2&t&&(c.Tol(r.columnCssClasses),c.Udp("width",r.width,"px")("min-width",r.minWidth,"px")("max-width",r.maxWidth,"px")("height",r.height))},inputs:{displayCheck:"displayCheck",group:"group",rowHeight:"rowHeight",isSelected:"isSelected",expanded:"expanded",rowIndex:"rowIndex",column:"column",row:"row",sorts:"sorts",treeStatus:"treeStatus"},outputs:{activate:"activate",treeAction:"treeAction"},decls:5,vars:6,consts:[[1,"datatable-body-cell-label"],["class","datatable-checkbox",4,"ngIf"],[4,"ngIf"],[3,"title","innerHTML",4,"ngIf"],[1,"datatable-checkbox"],["type","checkbox",3,"checked","click"],["class","datatable-tree-button",3,"disabled","click",4,"ngIf"],[1,"datatable-tree-button",3,"disabled","click"],["class","icon datatable-icon-collapse",4,"ngIf"],["class","icon datatable-icon-up",4,"ngIf"],["class","icon datatable-icon-down",4,"ngIf"],[1,"icon","datatable-icon-collapse"],[1,"icon","datatable-icon-up"],[1,"icon","datatable-icon-down"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"title","innerHTML"],["cellTemplate",""]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.YNc(1,GU,2,1,"label",1),c.YNc(2,XU,3,2,"ng-container",2),c.YNc(3,eB,1,2,"span",3),c.YNc(4,nB,2,2,null,2),c.qZA()),2&t&&(c.Udp("margin-left",r.calcLeftMargin(r.column,r.row),"px"),c.xp6(1),c.Q6J("ngIf",r.column.checkboxable&&(!r.displayCheck||r.displayCheck(r.row,r.column,r.value))),c.xp6(1),c.Q6J("ngIf",r.column.isTreeColumn),c.xp6(1),c.Q6J("ngIf",!r.column.cellTemplate),c.xp6(1),c.Q6J("ngIf",r.column.cellTemplate))},dependencies:[wn,wi],encapsulation:2,changeDetection:0}),n})(),qk=(()=>{class n{constructor(t,r,i,a){this.differs=t,this.scrollbarHelper=r,this.cd=i,this.treeStatus="collapsed",this.activate=new c.vpe,this.treeAction=new c.vpe,this._groupStyles={left:{},center:{},right:{}},this._element=a.nativeElement,this._rowDiffer=t.find({}).create()}set columns(t){this._columns=t,this.recalculateColumns(t),this.buildStylesByGroup()}get columns(){return this._columns}set innerWidth(t){if(this._columns){const r=pg(this._columns);this._columnGroupWidths=lb(r,this._columns)}this._innerWidth=t,this.recalculateColumns(),this.buildStylesByGroup()}get innerWidth(){return this._innerWidth}set offsetX(t){this._offsetX=t,this.buildStylesByGroup()}get offsetX(){return this._offsetX}get cssClass(){let t="datatable-body-row";if(this.isSelected&&(t+=" active"),this.rowIndex%2!=0&&(t+=" datatable-row-odd"),this.rowIndex%2==0&&(t+=" datatable-row-even"),this.rowClass){const r=this.rowClass(this.row);if("string"==typeof r)t+=` ${r}`;else if("object"==typeof r){const i=Object.keys(r);for(const a of i)!0===r[a]&&(t+=` ${a}`)}}return t}get columnsTotalWidths(){return this._columnGroupWidths.total}ngDoCheck(){this._rowDiffer.diff(this.row)&&this.cd.markForCheck()}trackByGroups(t,r){return r.type}columnTrackingFn(t,r){return r.$$id}buildStylesByGroup(){this._groupStyles.left=this.calcStylesByGroup("left"),this._groupStyles.center=this.calcStylesByGroup("center"),this._groupStyles.right=this.calcStylesByGroup("right"),this.cd.markForCheck()}calcStylesByGroup(t){const r=this._columnGroupWidths,i=this.offsetX,a={width:`${r[t]}px`};if("left"===t)rf(a,i,0);else if("right"===t){const u=parseInt(this.innerWidth+"",0);rf(a,-1*(r.total-u-i+this.scrollbarHelper.width),0)}return a}onActivate(t,r){t.cellIndex=r,t.rowElement=this._element,this.activate.emit(t)}onKeyDown(t){const r=t.keyCode;(r===$r.return||r===$r.down||r===$r.up||r===$r.left||r===$r.right)&&t.target===this._element&&(t.preventDefault(),t.stopPropagation(),this.activate.emit({type:"keydown",event:t,row:this.row,rowElement:this._element}))}onMouseenter(t){this.activate.emit({type:"mouseenter",event:t,row:this.row,rowElement:this._element})}recalculateColumns(t=this.columns){this._columns=t;const r=pg(this._columns);this._columnsByPin=jk(this._columns),this._columnGroupWidths=lb(r,this._columns)}onTreeAction(){this.treeAction.emit()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.aQg),c.Y36(xM,4),c.Y36(c.sBO),c.Y36(c.SBq))},n.\u0275cmp=c.Xpm({type:n,selectors:[["datatable-body-row"]],hostVars:6,hostBindings:function(t,r){1&t&&c.NdJ("keydown",function(a){return r.onKeyDown(a)})("mouseenter",function(a){return r.onMouseenter(a)}),2&t&&(c.Tol(r.cssClass),c.Udp("height",r.rowHeight,"px")("width",r.columnsTotalWidths,"px"))},inputs:{columns:"columns",innerWidth:"innerWidth",expanded:"expanded",rowClass:"rowClass",row:"row",group:"group",isSelected:"isSelected",rowIndex:"rowIndex",displayCheck:"displayCheck",treeStatus:"treeStatus",offsetX:"offsetX",rowHeight:"rowHeight"},outputs:{activate:"activate",treeAction:"treeAction"},decls:1,vars:2,consts:[[3,"class","ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngStyle"],["role","cell","tabindex","-1",3,"row","group","expanded","isSelected","rowIndex","column","rowHeight","displayCheck","treeStatus","activate","treeAction",4,"ngFor","ngForOf","ngForTrackBy"],["role","cell","tabindex","-1",3,"row","group","expanded","isSelected","rowIndex","column","rowHeight","displayCheck","treeStatus","activate","treeAction"]],template:function(t,r){1&t&&c.YNc(0,iB,2,6,"div",0),2&t&&c.Q6J("ngForOf",r._columnsByPin)("ngForTrackBy",r.trackByGroups)},dependencies:[pH,$i,Us],encapsulation:2,changeDetection:0}),n})();function gH(n){const e=n.filter(t=>!!t);return!e.length||e.some(t=>"number"!=typeof t)?null:e.reduce((t,r)=>t+r)}function mH(n){return null}let yH=(()=>{class n{constructor(){this.summaryRow={}}ngOnChanges(){!this.columns||!this.rows||(this.updateInternalColumns(),this.updateValues())}updateInternalColumns(){this._internalColumns=this.columns.map(t=>({...t,cellTemplate:t.summaryTemplate}))}updateValues(){this.summaryRow={},this.columns.filter(t=>!t.summaryTemplate).forEach(t=>{const r=this.rows.map(a=>a[t.prop]),i=this.getSummaryFunction(t);this.summaryRow[t.prop]=t.pipe?t.pipe.transform(i(r)):i(r)})}getSummaryFunction(t){return void 0===t.summaryFunc?gH:null===t.summaryFunc?mH:t.summaryFunc}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["datatable-summary-row"]],hostAttrs:[1,"datatable-summary-row"],inputs:{rows:"rows",columns:"columns",rowHeight:"rowHeight",offsetX:"offsetX",innerWidth:"innerWidth"},features:[c.TTD],decls:1,vars:1,consts:[["tabindex","-1",3,"innerWidth","offsetX","columns","rowHeight","row","rowIndex",4,"ngIf"],["tabindex","-1",3,"innerWidth","offsetX","columns","rowHeight","row","rowIndex"]],template:function(t,r){1&t&&c.YNc(0,oB,1,6,"datatable-body-row",0),2&t&&c.Q6J("ngIf",r.summaryRow&&r._internalColumns)},dependencies:[qk,wn],encapsulation:2}),n})(),_H=(()=>{class n{constructor(t,r){this.cd=t,this.differs=r,this.rowContextmenu=new c.vpe(!1),this._expanded=!1,this.groupContext={group:this.row,expanded:this.expanded,rowIndex:this.rowIndex},this.rowContext={row:this.row,expanded:this.expanded,rowIndex:this.rowIndex},this.rowDiffer=r.find({}).create()}set rowIndex(t){this._rowIndex=t,this.rowContext.rowIndex=t,this.groupContext.rowIndex=t,this.cd.markForCheck()}get rowIndex(){return this._rowIndex}set expanded(t){this._expanded=t,this.groupContext.expanded=t,this.rowContext.expanded=t,this.cd.markForCheck()}get expanded(){return this._expanded}ngDoCheck(){this.rowDiffer.diff(this.row)&&(this.rowContext.row=this.row,this.groupContext.group=this.row,this.cd.markForCheck())}onContextmenu(t){this.rowContextmenu.emit({event:t,row:this.row})}getGroupHeaderStyle(){const t={};return t.transform="translate3d("+this.offsetX+"px, 0px, 0px)",t["backface-visibility"]="hidden",t.width=this.innerWidth,t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36(c.aQg))},n.\u0275cmp=c.Xpm({type:n,selectors:[["datatable-row-wrapper"]],hostAttrs:[1,"datatable-row-wrapper"],hostBindings:function(t,r){1&t&&c.NdJ("contextmenu",function(a){return r.onContextmenu(a)})},inputs:{innerWidth:"innerWidth",rowDetail:"rowDetail",groupHeader:"groupHeader",offsetX:"offsetX",detailRowHeight:"detailRowHeight",row:"row",groupedRows:"groupedRows",rowIndex:"rowIndex",expanded:"expanded"},outputs:{rowContextmenu:"rowContextmenu"},ngContentSelectors:SM,decls:3,vars:3,consts:[["class","datatable-group-header",3,"ngStyle",4,"ngIf"],[4,"ngIf"],["class","datatable-row-detail",3,"height",4,"ngIf"],[1,"datatable-group-header",3,"ngStyle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"datatable-row-detail"]],template:function(t,r){1&t&&(c.F$t(),c.YNc(0,lB,2,2,"div",0),c.YNc(1,cB,1,0,"ng-content",1),c.YNc(2,hB,2,3,"div",2)),2&t&&(c.Q6J("ngIf",r.groupHeader&&r.groupHeader.template),c.xp6(1),c.Q6J("ngIf",r.groupHeader&&r.groupHeader.template&&r.expanded||!r.groupHeader||!r.groupHeader.template),c.xp6(1),c.Q6J("ngIf",r.rowDetail&&r.rowDetail.template&&r.expanded))},dependencies:[wn,Us,wi],encapsulation:2,changeDetection:0}),n})(),Wk=(()=>{class n{constructor(t){this.cd=t,this.selected=[],this.scroll=new c.vpe,this.page=new c.vpe,this.activate=new c.vpe,this.select=new c.vpe,this.detailToggle=new c.vpe,this.rowContextmenu=new c.vpe(!1),this.treeAction=new c.vpe,this.rowHeightsCache=new sH,this.temp=[],this.offsetY=0,this.indexes={},this.rowIndexes=new WeakMap,this.rowExpansions=[],this.getDetailRowHeight=(r,i)=>{if(!this.rowDetail)return 0;const a=this.rowDetail.rowHeight;return"function"==typeof a?a(r,i):a},this.rowTrackingFn=(r,i)=>{const a=this.getRowIndex(i);return this.trackByProp?i[this.trackByProp]:a}}set pageSize(t){this._pageSize=t,this.recalcLayout()}get pageSize(){return this._pageSize}set rows(t){this._rows=t,this.recalcLayout()}get rows(){return this._rows}set columns(t){this._columns=t;const r=pg(t);this.columnGroupWidths=lb(r,t)}get columns(){return this._columns}set offset(t){this._offset=t,(!this.scrollbarV||this.scrollbarV&&!this.virtualization)&&this.recalcLayout()}get offset(){return this._offset}set rowCount(t){this._rowCount=t,this.recalcLayout()}get rowCount(){return this._rowCount}get bodyWidth(){return this.scrollbarH?this.innerWidth+"px":"100%"}set bodyHeight(t){this._bodyHeight=this.scrollbarV?t+"px":"auto",this.recalcLayout()}get bodyHeight(){return this._bodyHeight}get selectEnabled(){return!!this.selectionType}get scrollHeight(){if(this.scrollbarV&&this.virtualization&&this.rowCount)return this.rowHeightsCache.query(this.rowCount-1)}ngOnInit(){this.rowDetail&&(this.listener=this.rowDetail.toggle.subscribe(({type:t,value:r})=>{"row"===t&&this.toggleRowExpansion(r),"all"===t&&this.toggleAllRows(r),this.updateIndexes(),this.updateRows(),this.cd.markForCheck()})),this.groupHeader&&(this.listener=this.groupHeader.toggle.subscribe(({type:t,value:r})=>{"group"===t&&this.toggleRowExpansion(r),"all"===t&&this.toggleAllRows(r),this.updateIndexes(),this.updateRows(),this.cd.markForCheck()}))}ngOnDestroy(){(this.rowDetail||this.groupHeader)&&this.listener.unsubscribe()}updateOffsetY(t){this.scroller&&(this.scrollbarV&&this.virtualization&&t?t=this.rowHeightsCache.query(this.pageSize*t-1):this.scrollbarV&&!this.virtualization&&(t=0),this.scroller.setOffset(t||0))}onBodyScroll(t){const r=t.scrollYPos,i=t.scrollXPos;(this.offsetY!==r||this.offsetX!==i)&&this.scroll.emit({offsetY:r,offsetX:i}),this.offsetY=r,this.offsetX=i,this.updateIndexes(),this.updatePage(t.direction),this.updateRows()}updatePage(t){let r=this.indexes.first/this.pageSize;"up"===t?r=Math.ceil(r):"down"===t&&(r=Math.floor(r)),void 0!==t&&!isNaN(r)&&this.page.emit({offset:r})}updateRows(){const{first:t,last:r}=this.indexes;let i=t,a=0;const u=[];if(this.groupedRows){let f=3;for(1===this.groupedRows.length&&(f=this.groupedRows[0].value.length);i<r&&i<this.groupedRows.length;){const y=this.groupedRows[i];this.rowIndexes.set(y,i),y.value&&y.value.forEach((I,x)=>{this.rowIndexes.set(I,`${i}-${x}`)}),u[a]=y,a++,i++}}else for(;i<r&&i<this.rowCount;){const f=this.rows[i];f&&(this.rowIndexes.set(f,i),u[a]=f),a++,i++}this.temp=u}getRowHeight(t){return"function"==typeof this.rowHeight?this.rowHeight(t):this.rowHeight}getGroupHeight(t){let r=0;if(t.value)for(let i=0;i<t.value.length;i++)r+=this.getRowAndDetailHeight(t.value[i]);return r}getRowAndDetailHeight(t){let r=this.getRowHeight(t);return this.getRowExpanded(t)&&(r+=this.getDetailRowHeight(t)),r}getRowsStyles(t){const r={};if(this.groupedRows&&(r.width=this.columnGroupWidths.total),this.scrollbarV&&this.virtualization){let i=0;if(this.groupedRows){const u=t[t.length-1];i=u?this.getRowIndex(u):0}else i=this.getRowIndex(t);rf(r,0,this.rowHeightsCache.query(i-1))}return r}getBottomSummaryRowStyles(){if(!this.scrollbarV||!this.rows||!this.rows.length)return null;const t={position:"absolute"};return rf(t,0,this.rowHeightsCache.query(this.rows.length-1)),t}hideIndicator(){setTimeout(()=>this.loadingIndicator=!1,500)}updateIndexes(){let t=0,r=0;if(this.scrollbarV)if(this.virtualization){const i=parseInt(this.bodyHeight,0);t=this.rowHeightsCache.getRowIndex(this.offsetY),r=this.rowHeightsCache.getRowIndex(i+this.offsetY)+1}else t=0,r=this.rowCount;else this.externalPaging||(t=Math.max(this.offset*this.pageSize,0)),r=Math.min(t+this.pageSize,this.rowCount);this.indexes={first:t,last:r}}refreshRowHeightCache(){if(this.scrollbarV&&(!this.scrollbarV||this.virtualization)&&(this.rowHeightsCache.clearCache(),this.rows&&this.rows.length)){const t=new Set;for(const r of this.rows)this.getRowExpanded(r)&&t.add(r);this.rowHeightsCache.initCache({rows:this.rows,rowHeight:this.rowHeight,detailRowHeight:this.getDetailRowHeight,externalVirtual:this.scrollbarV&&this.externalPaging,rowCount:this.rowCount,rowIndexes:this.rowIndexes,rowExpansions:t})}}getAdjustedViewPortIndex(){const t=this.indexes.first;return this.scrollbarV&&this.virtualization&&this.rowHeightsCache.query(t-1)<=this.offsetY?t-1:t}toggleRowExpansion(t){const r=this.getAdjustedViewPortIndex(),i=this.getRowExpandedIdx(t,this.rowExpansions),a=i>-1;if(this.scrollbarV&&this.virtualization){const u=this.getDetailRowHeight(t)*(a?-1:1),f=this.getRowIndex(t);this.rowHeightsCache.update(f,u)}a?this.rowExpansions.splice(i,1):this.rowExpansions.push(t),this.detailToggle.emit({rows:[t],currentIndex:r})}toggleAllRows(t){this.rowExpansions=[];const r=this.getAdjustedViewPortIndex();if(t)for(const i of this.rows)this.rowExpansions.push(i);this.scrollbarV&&this.recalcLayout(),this.detailToggle.emit({rows:this.rows,currentIndex:r})}recalcLayout(){this.refreshRowHeightCache(),this.updateIndexes(),this.updateRows()}columnTrackingFn(t,r){return r.$$id}stylesByGroup(t){const r=this.columnGroupWidths,i=this.offsetX,a={width:`${r[t]}px`};if("left"===t)rf(a,i,0);else if("right"===t){const u=parseInt(this.innerWidth+"",0);rf(a,-1*(r.total-u-i),0)}return a}getRowExpanded(t){if(0===this.rowExpansions.length&&this.groupExpansionDefault)for(const r of this.groupedRows)this.rowExpansions.push(r);return this.getRowExpandedIdx(t,this.rowExpansions)>-1}getRowExpandedIdx(t,r){if(!r||!r.length)return-1;const i=this.rowIdentity(t);return r.findIndex(a=>this.rowIdentity(a)===i)}getRowIndex(t){return this.rowIndexes.get(t)||0}onTreeAction(t){this.treeAction.emit({row:t})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["datatable-body"]],viewQuery:function(t,r){if(1&t&&c.Gf(Vk,5),2&t){let i;c.iGM(i=c.CRH())&&(r.scroller=i.first)}},hostAttrs:[1,"datatable-body"],hostVars:4,hostBindings:function(t,r){2&t&&c.Udp("width",r.bodyWidth)("height",r.bodyHeight)},inputs:{scrollbarV:"scrollbarV",scrollbarH:"scrollbarH",loadingIndicator:"loadingIndicator",externalPaging:"externalPaging",rowHeight:"rowHeight",offsetX:"offsetX",emptyMessage:"emptyMessage",selectionType:"selectionType",selected:"selected",rowIdentity:"rowIdentity",rowDetail:"rowDetail",groupHeader:"groupHeader",selectCheck:"selectCheck",displayCheck:"displayCheck",trackByProp:"trackByProp",rowClass:"rowClass",groupedRows:"groupedRows",groupExpansionDefault:"groupExpansionDefault",innerWidth:"innerWidth",groupRowsBy:"groupRowsBy",virtualization:"virtualization",summaryRow:"summaryRow",summaryPosition:"summaryPosition",summaryHeight:"summaryHeight",pageSize:"pageSize",rows:"rows",columns:"columns",offset:"offset",rowCount:"rowCount",bodyHeight:"bodyHeight"},outputs:{scroll:"scroll",page:"page",activate:"activate",select:"select",detailToggle:"detailToggle",rowContextmenu:"rowContextmenu",treeAction:"treeAction"},decls:5,vars:9,consts:[[4,"ngIf"],[3,"selected","rows","selectCheck","selectEnabled","selectionType","rowIdentity","select","activate"],["selector",""],[3,"scrollbarV","scrollbarH","scrollHeight","scrollWidth","scroll",4,"ngIf"],["class","empty-row",3,"innerHTML",4,"ngIf"],[3,"scrollbarV","scrollbarH","scrollHeight","scrollWidth","scroll"],[3,"rowHeight","offsetX","innerWidth","rows","columns",4,"ngIf"],[3,"groupedRows","innerWidth","ngStyle","rowDetail","groupHeader","offsetX","detailRowHeight","row","expanded","rowIndex","rowContextmenu",4,"ngFor","ngForOf","ngForTrackBy"],["role","row",3,"ngStyle","rowHeight","offsetX","innerWidth","rows","columns",4,"ngIf"],[3,"rowHeight","offsetX","innerWidth","rows","columns"],[3,"groupedRows","innerWidth","ngStyle","rowDetail","groupHeader","offsetX","detailRowHeight","row","expanded","rowIndex","rowContextmenu"],["role","row","tabindex","-1",3,"isSelected","innerWidth","offsetX","columns","rowHeight","row","rowIndex","expanded","rowClass","displayCheck","treeStatus","treeAction","activate",4,"ngIf","ngIfElse"],["groupedRowsTemplate",""],["role","row","tabindex","-1",3,"isSelected","innerWidth","offsetX","columns","rowHeight","row","rowIndex","expanded","rowClass","displayCheck","treeStatus","treeAction","activate"],["role","row","tabindex","-1",3,"isSelected","innerWidth","offsetX","columns","rowHeight","row","group","rowIndex","expanded","rowClass","activate",4,"ngFor","ngForOf","ngForTrackBy"],["role","row","tabindex","-1",3,"isSelected","innerWidth","offsetX","columns","rowHeight","row","group","rowIndex","expanded","rowClass","activate"],["role","row",3,"ngStyle","rowHeight","offsetX","innerWidth","rows","columns"],[1,"empty-row",3,"innerHTML"]],template:function(t,r){1&t&&(c.YNc(0,fB,1,0,"datatable-progress",0),c.TgZ(1,"datatable-selection",1,2),c.NdJ("select",function(a){return r.select.emit(a)})("activate",function(a){return r.activate.emit(a)}),c.YNc(3,wB,4,8,"datatable-scroller",3),c.YNc(4,bB,1,1,"div",4),c.qZA()),2&t&&(c.Q6J("ngIf",r.loadingIndicator),c.xp6(1),c.Q6J("selected",r.selected)("rows",r.rows)("selectCheck",r.selectCheck)("selectEnabled",r.selectEnabled)("selectionType",r.selectionType)("rowIdentity",r.rowIdentity),c.xp6(2),c.Q6J("ngIf",null==r.rows?null:r.rows.length),c.xp6(1),c.Q6J("ngIf",!(null!=r.rows&&r.rows.length||r.loadingIndicator)))},dependencies:[dH,fH,Vk,yH,_H,qk,wn,$i,Us],encapsulation:2,changeDetection:0}),n})();function wH(n,e){if((null===n||typeof n>"u")&&(n=0),(null===e||typeof e>"u")&&(e=0),n instanceof Date&&e instanceof Date){if(n<e)return-1;if(n>e)return 1}else if(isNaN(parseFloat(n))||!isFinite(n)||isNaN(parseFloat(e))||!isFinite(e)){if(n=String(n),e=String(e),n.toLowerCase()<e.toLowerCase())return-1;if(n.toLowerCase()>e.toLowerCase())return 1}else{if(parseFloat(n)<parseFloat(e))return-1;if(parseFloat(n)>parseFloat(e))return 1}return 0}let CH=(()=>{class n{constructor(t){this.cd=t,this.sort=new c.vpe,this.select=new c.vpe,this.columnContextmenu=new c.vpe(!1),this.sortFn=this.onSort.bind(this),this.selectFn=this.select.emit.bind(this.select),this.cellContext={column:this.column,sortDir:this.sortDir,sortFn:this.sortFn,allRowsSelected:this.allRowsSelected,selectFn:this.selectFn}}set allRowsSelected(t){this._allRowsSelected=t,this.cellContext.allRowsSelected=t}get allRowsSelected(){return this._allRowsSelected}set column(t){this._column=t,this.cellContext.column=t,this.cd.markForCheck()}get column(){return this._column}set sorts(t){this._sorts=t,this.sortDir=this.calcSortDir(t),this.cellContext.sortDir=this.sortDir,this.sortClass=this.calcSortClass(this.sortDir),this.cd.markForCheck()}get sorts(){return this._sorts}get columnCssClasses(){let t="datatable-header-cell";if(this.column.sortable&&(t+=" sortable"),this.column.resizeable&&(t+=" resizeable"),this.column.headerClass)if("string"==typeof this.column.headerClass)t+=" "+this.column.headerClass;else if("function"==typeof this.column.headerClass){const i=this.column.headerClass({column:this.column});if("string"==typeof i)t+=i;else if("object"==typeof i){const a=Object.keys(i);for(const u of a)!0===i[u]&&(t+=` ${u}`)}}const r=this.sortDir;return r&&(t+=` sort-active sort-${r}`),t}get name(){return void 0===this.column.headerTemplate?this.column.name:void 0}get minWidth(){return this.column.minWidth}get maxWidth(){return this.column.maxWidth}get width(){return this.column.width}get isCheckboxable(){return this.column.checkboxable&&this.column.headerCheckboxable&&this.selectionType===Rs.checkbox}onContextmenu(t){this.columnContextmenu.emit({event:t,column:this.column})}ngOnInit(){this.sortClass=this.calcSortClass(this.sortDir)}calcSortDir(t){if(t&&this.column){const r=t.find(i=>i.prop===this.column.prop);if(r)return r.dir}}onSort(){if(!this.column.sortable)return;const t=function vH(n,e){return n===Oy.single?e===is.asc?is.desc:is.asc:e?e===is.asc?is.desc:void 0:is.asc}(this.sortType,this.sortDir);this.sort.emit({column:this.column,prevValue:this.sortDir,newValue:t})}calcSortClass(t){if(this.cellContext.column.sortable)return t===is.asc?`sort-btn sort-asc ${this.sortAscendingIcon}`:t===is.desc?`sort-btn sort-desc ${this.sortDescendingIcon}`:`sort-btn ${this.sortUnsetIcon}`}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["datatable-header-cell"]],hostAttrs:[1,"datatable-header-cell"],hostVars:11,hostBindings:function(t,r){1&t&&c.NdJ("contextmenu",function(a){return r.onContextmenu(a)}),2&t&&(c.uIk("title",r.name),c.Tol(r.columnCssClasses),c.Udp("height",r.headerHeight,"px")("min-width",r.minWidth,"px")("max-width",r.maxWidth,"px")("width",r.width,"px"))},inputs:{sortType:"sortType",sortAscendingIcon:"sortAscendingIcon",sortDescendingIcon:"sortDescendingIcon",sortUnsetIcon:"sortUnsetIcon",isTarget:"isTarget",targetMarkerTemplate:"targetMarkerTemplate",targetMarkerContext:"targetMarkerContext",allRowsSelected:"allRowsSelected",selectionType:"selectionType",column:"column",headerHeight:"headerHeight",sorts:"sorts"},outputs:{sort:"sort",select:"select",columnContextmenu:"columnContextmenu"},decls:6,vars:6,consts:[[1,"datatable-header-cell-template-wrap"],[4,"ngIf"],["class","datatable-checkbox",4,"ngIf"],["class","datatable-header-cell-wrapper",4,"ngIf"],[3,"click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"datatable-checkbox"],["type","checkbox",3,"checked","change"],[1,"datatable-header-cell-wrapper"],[1,"datatable-header-cell-label","draggable",3,"innerHTML","click"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.YNc(1,EB,1,2,null,1),c.YNc(2,IB,2,1,"label",2),c.YNc(3,DB,2,1,"span",3),c.YNc(4,SB,1,2,null,1),c.TgZ(5,"span",4),c.NdJ("click",function(){return r.onSort()}),c.qZA()()),2&t&&(c.xp6(1),c.Q6J("ngIf",r.isTarget),c.xp6(1),c.Q6J("ngIf",r.isCheckboxable),c.xp6(1),c.Q6J("ngIf",!r.column.headerTemplate),c.xp6(1),c.Q6J("ngIf",r.column.headerTemplate),c.xp6(1),c.Tol(r.sortClass))},dependencies:[wn,wi],encapsulation:2,changeDetection:0}),n})(),Zk=(()=>{class n{constructor(t){this.cd=t,this.sort=new c.vpe,this.reorder=new c.vpe,this.resize=new c.vpe,this.select=new c.vpe,this.columnContextmenu=new c.vpe(!1),this._columnGroupWidths={total:100},this._styleByGroup={left:{},center:{},right:{}},this.destroyed=!1}set innerWidth(t){this._innerWidth=t,setTimeout(()=>{if(this._columns){const r=pg(this._columns);this._columnGroupWidths=lb(r,this._columns),this.setStylesByGroup()}})}get innerWidth(){return this._innerWidth}set headerHeight(t){this._headerHeight="auto"!==t?`${t}px`:t}get headerHeight(){return this._headerHeight}set columns(t){this._columns=t;const r=pg(t);this._columnsByPin=jk(t),setTimeout(()=>{this._columnGroupWidths=lb(r,t),this.setStylesByGroup()})}get columns(){return this._columns}set offsetX(t){this._offsetX=t,this.setStylesByGroup()}get offsetX(){return this._offsetX}ngOnDestroy(){this.destroyed=!0}onLongPressStart({event:t,model:r}){r.dragging=!0,this.dragEventTarget=t}onLongPressEnd({event:t,model:r}){this.dragEventTarget=t,setTimeout(()=>{const i=this._columns.find(a=>a.$$id===r.$$id);i&&(i.dragging=!1)},5)}get headerWidth(){return this.scrollbarH?this.innerWidth+"px":"100%"}trackByGroups(t,r){return r.type}columnTrackingFn(t,r){return r.$$id}onColumnResized(t,r){t<=r.minWidth?t=r.minWidth:t>=r.maxWidth&&(t=r.maxWidth),this.resize.emit({column:r,prevValue:r.width,newValue:t})}onColumnReordered({prevIndex:t,newIndex:r,model:i}){const a=this.getColumn(r);a.isTarget=!1,a.targetMarkerContext=void 0,this.reorder.emit({column:i,prevValue:t,newValue:r})}onTargetChanged({prevIndex:t,newIndex:r,initialIndex:i}){if(t||0===t){const a=this.getColumn(t);a.isTarget=!1,a.targetMarkerContext=void 0}if(r||0===r){const a=this.getColumn(r);a.isTarget=!0,i!==r&&(a.targetMarkerContext={class:"targetMarker ".concat(i>r?"dragFromRight":"dragFromLeft")})}}getColumn(t){const r=this._columnsByPin[0].columns.length;if(t<r)return this._columnsByPin[0].columns[t];const i=this._columnsByPin[1].columns.length;return t<r+i?this._columnsByPin[1].columns[t-r]:this._columnsByPin[2].columns[t-r-i]}onSort({column:t,prevValue:r,newValue:i}){if(t.dragging)return;const a=this.calcNewSorts(t,r,i);this.sort.emit({sorts:a,column:t,prevValue:r,newValue:i})}calcNewSorts(t,r,i){let a=0;this.sorts||(this.sorts=[]);const u=this.sorts.map((f,y)=>((f={...f}).prop===t.prop&&(a=y),f));return void 0===i?u.splice(a,1):r?u[a].dir=i:(this.sortType===Oy.single&&u.splice(0,this.sorts.length),u.push({dir:i,prop:t.prop})),u}setStylesByGroup(){this._styleByGroup.left=this.calcStylesByGroup("left"),this._styleByGroup.center=this.calcStylesByGroup("center"),this._styleByGroup.right=this.calcStylesByGroup("right"),this.destroyed||this.cd.detectChanges()}calcStylesByGroup(t){const r=this._columnGroupWidths,a={width:`${r[t]}px`};return"center"===t?rf(a,-1*this.offsetX,0):"right"===t&&rf(a,-1*(r.total-this.innerWidth),0),a}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["datatable-header"]],hostAttrs:[1,"datatable-header"],hostVars:4,hostBindings:function(t,r){2&t&&c.Udp("height",r.headerHeight)("width",r.headerWidth)},inputs:{sortAscendingIcon:"sortAscendingIcon",sortDescendingIcon:"sortDescendingIcon",sortUnsetIcon:"sortUnsetIcon",scrollbarH:"scrollbarH",dealsWithGroup:"dealsWithGroup",targetMarkerTemplate:"targetMarkerTemplate",innerWidth:"innerWidth",sorts:"sorts",sortType:"sortType",allRowsSelected:"allRowsSelected",selectionType:"selectionType",reorderable:"reorderable",headerHeight:"headerHeight",columns:"columns",offsetX:"offsetX"},outputs:{sort:"sort",reorder:"reorder",resize:"resize",select:"select",columnContextmenu:"columnContextmenu"},decls:2,vars:4,consts:[["role","row","orderable","",1,"datatable-header-inner",3,"reorder","targetChanged"],[3,"class","ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngStyle"],["role","columnheader","resizeable","","long-press","","draggable","",3,"resizeEnabled","pressModel","pressEnabled","dragX","dragY","dragModel","dragEventTarget","headerHeight","isTarget","targetMarkerTemplate","targetMarkerContext","column","sortType","sorts","selectionType","sortAscendingIcon","sortDescendingIcon","sortUnsetIcon","allRowsSelected","resize","longPressStart","longPressEnd","sort","select","columnContextmenu",4,"ngFor","ngForOf","ngForTrackBy"],["role","columnheader","resizeable","","long-press","","draggable","",3,"resizeEnabled","pressModel","pressEnabled","dragX","dragY","dragModel","dragEventTarget","headerHeight","isTarget","targetMarkerTemplate","targetMarkerContext","column","sortType","sorts","selectionType","sortAscendingIcon","sortDescendingIcon","sortUnsetIcon","allRowsSelected","resize","longPressStart","longPressEnd","sort","select","columnContextmenu"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.NdJ("reorder",function(a){return r.onColumnReordered(a)})("targetChanged",function(a){return r.onTargetChanged(a)}),c.YNc(1,AB,2,5,"div",1),c.qZA()),2&t&&(c.Udp("width",r._columnGroupWidths.total,"px"),c.xp6(1),c.Q6J("ngForOf",r._columnsByPin)("ngForTrackBy",r.trackByGroups))},dependencies:[CH,jB,$i,Us,$B,zB,Lk],encapsulation:2,changeDetection:0}),n})();function EH(n,e,t){t=t||{};let r,i,a,u=null,f=0;function y(){f=!1===t.leading?0:+new Date,u=null,a=n.apply(r,i)}return function(){const I=+new Date;!f&&!1===t.leading&&(f=I);const x=e-(I-f);return r=this,i=arguments,x<=0?(clearTimeout(u),u=null,f=I,a=n.apply(r,i)):!u&&!1!==t.trailing&&(u=setTimeout(y,x)),a}}function IH(n,e){return function(r,i,a){return{configurable:!0,enumerable:a.enumerable,get:function(){return Object.defineProperty(this,i,{configurable:!0,enumerable:a.enumerable,value:EH(a.value,n,e)}),this[i]}}}}function AH(n,e){for(const t of e){const r=n.indexOf(t);n.splice(r,1)}}function Kk(n,e=300){let t=0;for(const r of n)t+=r.width||e;return t}let MH=(()=>{class n{constructor(){this.change=new c.vpe,this._count=0,this._page=1,this._size=0}set size(t){this._size=t,this.pages=this.calcPages()}get size(){return this._size}set count(t){this._count=t,this.pages=this.calcPages()}get count(){return this._count}set page(t){this._page=t,this.pages=this.calcPages()}get page(){return this._page}get totalPages(){const t=this.size<1?1:Math.ceil(this.count/this.size);return Math.max(t||0,1)}canPrevious(){return this.page>1}canNext(){return this.page<this.totalPages}prevPage(){this.selectPage(this.page-1)}nextPage(){this.selectPage(this.page+1)}selectPage(t){t>0&&t<=this.totalPages&&t!==this.page&&(this.page=t,this.change.emit({page:t}))}calcPages(t){const r=[];let i=1,a=this.totalPages;t=t||this.page,5<this.totalPages&&(i=t-Math.floor(2.5),a=t+Math.floor(2.5),i<1?(i=1,a=Math.min(i+5-1,this.totalPages)):a>this.totalPages&&(i=Math.max(this.totalPages-5+1,1),a=this.totalPages));for(let y=i;y<=a;y++)r.push({number:y,text:y});return r}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["datatable-pager"]],hostAttrs:[1,"datatable-pager"],inputs:{pagerLeftArrowIcon:"pagerLeftArrowIcon",pagerRightArrowIcon:"pagerRightArrowIcon",pagerPreviousIcon:"pagerPreviousIcon",pagerNextIcon:"pagerNextIcon",size:"size",count:"count",page:"page"},outputs:{change:"change"},decls:14,vars:21,consts:[[1,"pager"],["role","button","aria-label","go to first page","href","javascript:void(0)",3,"click"],["role","button","aria-label","go to previous page","href","javascript:void(0)",3,"click"],["role","button","class","pages",3,"active",4,"ngFor","ngForOf"],["role","button","aria-label","go to next page","href","javascript:void(0)",3,"click"],["role","button","aria-label","go to last page","href","javascript:void(0)",3,"click"],["role","button",1,"pages"],["href","javascript:void(0)",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"ul",0)(1,"li")(2,"a",1),c.NdJ("click",function(){return r.selectPage(1)}),c._UZ(3,"i"),c.qZA()(),c.TgZ(4,"li")(5,"a",2),c.NdJ("click",function(){return r.prevPage()}),c._UZ(6,"i"),c.qZA()(),c.YNc(7,MB,3,4,"li",3),c.TgZ(8,"li")(9,"a",4),c.NdJ("click",function(){return r.nextPage()}),c._UZ(10,"i"),c.qZA()(),c.TgZ(11,"li")(12,"a",5),c.NdJ("click",function(){return r.selectPage(r.totalPages)}),c._UZ(13,"i"),c.qZA()()()),2&t&&(c.xp6(1),c.ekj("disabled",!r.canPrevious()),c.xp6(2),c.Tol(r.pagerPreviousIcon),c.xp6(1),c.ekj("disabled",!r.canPrevious()),c.xp6(2),c.Tol(r.pagerLeftArrowIcon),c.xp6(1),c.Q6J("ngForOf",r.pages),c.xp6(1),c.ekj("disabled",!r.canNext()),c.xp6(2),c.Tol(r.pagerRightArrowIcon),c.xp6(1),c.ekj("disabled",!r.canNext()),c.xp6(2),c.Tol(r.pagerNextIcon))},dependencies:[$i],encapsulation:2,changeDetection:0}),n})(),PH=(()=>{class n{constructor(){this.selectedCount=0,this.page=new c.vpe}get isVisible(){return this.rowCount/this.pageSize>1}get curPage(){return this.offset+1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["datatable-footer"]],hostAttrs:[1,"datatable-footer"],inputs:{footerHeight:"footerHeight",rowCount:"rowCount",pageSize:"pageSize",offset:"offset",pagerLeftArrowIcon:"pagerLeftArrowIcon",pagerRightArrowIcon:"pagerRightArrowIcon",pagerPreviousIcon:"pagerPreviousIcon",pagerNextIcon:"pagerNextIcon",totalMessage:"totalMessage",footerTemplate:"footerTemplate",selectedCount:"selectedCount",selectedMessage:"selectedMessage"},outputs:{page:"page"},decls:4,vars:8,consts:[[1,"datatable-footer-inner",3,"ngClass"],[4,"ngIf"],["class","page-count",4,"ngIf"],[3,"pagerLeftArrowIcon","pagerRightArrowIcon","pagerPreviousIcon","pagerNextIcon","page","size","count","hidden","change",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"page-count"],[3,"pagerLeftArrowIcon","pagerRightArrowIcon","pagerPreviousIcon","pagerNextIcon","page","size","count","hidden","change"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.YNc(1,RB,1,8,null,1),c.YNc(2,NB,3,3,"div",2),c.YNc(3,FB,1,8,"datatable-pager",3),c.qZA()),2&t&&(c.Udp("height",r.footerHeight,"px"),c.Q6J("ngClass",c.VKq(6,LB,r.selectedMessage)),c.xp6(1),c.Q6J("ngIf",r.footerTemplate),c.xp6(1),c.Q6J("ngIf",!r.footerTemplate),c.xp6(1),c.Q6J("ngIf",!r.footerTemplate))},dependencies:[MH,fn,wn,wi],encapsulation:2,changeDetection:0}),n})(),OH=(()=>{class n{constructor(t,r,i,a,u,f,y){this.scrollbarHelper=t,this.dimensionsHelper=r,this.cd=i,this.columnChangesService=f,this.configuration=y,this.selected=[],this.scrollbarV=!1,this.scrollbarH=!1,this.rowHeight=30,this.columnMode=Py.standard,this.headerHeight=30,this.footerHeight=0,this.externalPaging=!1,this.externalSorting=!1,this.loadingIndicator=!1,this.reorderable=!0,this.swapColumns=!0,this.sortType=Oy.single,this.sorts=[],this.cssClasses={sortAscending:"datatable-icon-up",sortDescending:"datatable-icon-down",sortUnset:"datatable-icon-sort-unset",pagerLeftArrow:"datatable-icon-left",pagerRightArrow:"datatable-icon-right",pagerPrevious:"datatable-icon-prev",pagerNext:"datatable-icon-skip"},this.messages={emptyMessage:"No data to display",totalMessage:"total",selectedMessage:"selected"},this.groupExpansionDefault=!1,this.selectAllRowsOnPage=!1,this.virtualization=!0,this.summaryRow=!1,this.summaryHeight=30,this.summaryPosition="top",this.scroll=new c.vpe,this.activate=new c.vpe,this.select=new c.vpe,this.sort=new c.vpe,this.page=new c.vpe,this.reorder=new c.vpe,this.resize=new c.vpe,this.tableContextmenu=new c.vpe(!1),this.treeAction=new c.vpe,this.rowCount=0,this._offsetX=new ei(0),this._count=0,this._offset=0,this._subscriptions=[],this.rowIdentity=I=>this._groupRowsBy?I.key:I,this.element=a.nativeElement,this.rowDiffer=u.find({}).create(),this.configuration&&this.configuration.messages&&(this.messages={...this.configuration.messages})}set rows(t){this._rows=t,t&&(this._internalRows=[...t]),this.externalSorting||this.sortInternalRows(),this._internalRows=PM(this._internalRows,My(this.treeFromRelation),My(this.treeToRelation)),this.recalculate(),this._rows&&this._groupRowsBy&&(this.groupedRows=this.groupArrayBy(this._rows,this._groupRowsBy)),this.cd.markForCheck()}get rows(){return this._rows}set groupRowsBy(t){t&&(this._groupRowsBy=t,this._rows&&this._groupRowsBy&&(this.groupedRows=this.groupArrayBy(this._rows,this._groupRowsBy)))}get groupRowsBy(){return this._groupRowsBy}set columns(t){t&&(this._internalColumns=[...t],Bk(this._internalColumns),this.recalculateColumns()),this._columns=t}get columns(){return this._columns}set limit(t){this._limit=t,this.recalculate()}get limit(){return this._limit}set count(t){this._count=t,this.recalculate()}get count(){return this._count}set offset(t){this._offset=t}get offset(){return Math.max(Math.min(this._offset,Math.ceil(this.rowCount/this.pageSize)-1),0)}get isFixedHeader(){const t=this.headerHeight;return"string"!=typeof t||"auto"!==t}get isFixedRow(){return"auto"!==this.rowHeight}get isVertScroll(){return this.scrollbarV}get isVirtualized(){return this.virtualization}get isHorScroll(){return this.scrollbarH}get isSelectable(){return void 0!==this.selectionType}get isCheckboxSelection(){return this.selectionType===Rs.checkbox}get isCellSelection(){return this.selectionType===Rs.cell}get isSingleSelection(){return this.selectionType===Rs.single}get isMultiSelection(){return this.selectionType===Rs.multi}get isMultiClickSelection(){return this.selectionType===Rs.multiClick}set columnTemplates(t){this._columnTemplates=t,this.translateColumns(t)}get columnTemplates(){return this._columnTemplates}get allRowsSelected(){let t=this.rows&&this.selected&&this.selected.length===this.rows.length;if(this.bodyComponent&&this.selectAllRowsOnPage){const r=this.bodyComponent.indexes;t=this.selected.length===r.last-r.first}return this.selected&&this.rows&&0!==this.rows.length&&t}ngOnInit(){this.recalculate()}ngAfterViewInit(){this.externalSorting||this.sortInternalRows(),!(typeof requestAnimationFrame>"u")&&requestAnimationFrame(()=>{this.recalculate(),this.externalPaging&&this.scrollbarV&&this.page.emit({count:this.count,pageSize:this.pageSize,limit:this.limit,offset:0})})}ngAfterContentInit(){this.columnTemplates.changes.subscribe(t=>this.translateColumns(t)),this.listenForColumnInputChanges()}translateColumns(t){if(t){const r=t.toArray();r.length&&(this._internalColumns=function XB(n){const e=[];for(const t of n){const r={},i=Object.getOwnPropertyNames(t);for(const a of i)r[a]=t[a];t.headerTemplate&&(r.headerTemplate=t.headerTemplate),t.cellTemplate&&(r.cellTemplate=t.cellTemplate),t.summaryFunc&&(r.summaryFunc=t.summaryFunc),t.summaryTemplate&&(r.summaryTemplate=t.summaryTemplate),e.push(r)}return e}(r),Bk(this._internalColumns),this.recalculateColumns(),this.sortInternalRows(),this.cd.markForCheck())}}groupArrayBy(t,r){const i=new Map;return t.forEach(f=>{const y=f[r];i.has(y)?i.get(y).push(f):i.set(y,[f])}),Array.from(i,f=>((f,y)=>({key:f,value:y}))(f[0],f[1]))}ngDoCheck(){this.rowDiffer.diff(this.rows)&&(this.externalSorting?this._internalRows=[...this.rows]:this.sortInternalRows(),this._internalRows=PM(this._internalRows,My(this.treeFromRelation),My(this.treeToRelation)),this.recalculatePages(),this.cd.markForCheck())}recalculate(){this.recalculateDims(),this.recalculateColumns(),this.cd.markForCheck()}onWindowResize(){this.recalculate()}recalculateColumns(t=this._internalColumns,r=-1,i=this.scrollbarH){if(!t)return;let a=this._innerWidth;return this.scrollbarV&&(a-=this.scrollbarHelper.width),this.columnMode===Py.force?function xH(n,e,t,r,i=300){const a=n.slice(t+1,n.length).filter(j=>!1!==j.canAutoResize);for(const j of a)j.$$oldWidth||(j.$$oldWidth=j.width);let u=0,f=!1,y=Kk(n,i),I=e-y;const x=[];do{u=I/a.length,f=y>=e;for(const j of a){if(f&&r)j.width=j.$$oldWidth||j.width||i;else{const X=(j.width||i)+u;j.minWidth&&X<j.minWidth?(j.width=j.minWidth,x.push(j)):j.maxWidth&&X>j.maxWidth?(j.width=j.maxWidth,x.push(j)):j.width=X}j.width=Math.max(0,j.width)}y=Kk(n),I=e-y,AH(a,x)}while(I>1&&0!==a.length)}(t,a,r,i):this.columnMode===Py.flex&&function TH(n,e){const t=function oH(n,e){let t=0;for(const r of n)t+=e&&r[e]?r[e]:r.width;return t}(n),r=function DH(n){let e=0;for(const t of n)e+=t.flexGrow||0;return e}(n),i=pg(n);t!==e&&function SH(n,e,t){for(const a in n)for(const u of n[a])u.canAutoResize?u.width=0:(e-=u.width,t-=u.flexGrow?u.flexGrow:0);const r={};let i=e;do{const a=i/t;i=0;for(const u in n)for(const f of n[u])if(f.canAutoResize&&!r[f.prop]){const y=f.width+f.flexGrow*a;void 0!==f.minWidth&&y<f.minWidth?(i+=y-f.minWidth,f.width=f.minWidth,r[f.prop]=!0):f.width=y}}while(0!==i)}(i,e,r)}(t,a),t}recalculateDims(){const t=this.dimensionsHelper.getDimensions(this.element);if(this._innerWidth=Math.floor(t.width),this.scrollbarV){let r=t.height;this.headerHeight&&(r-=this.headerHeight),this.footerHeight&&(r-=this.footerHeight),this.bodyHeight=r}this.recalculatePages()}recalculatePages(){this.pageSize=this.calcPageSize(),this.rowCount=this.calcRowCount()}onBodyPage({offset:t}){this.externalPaging&&!this.virtualization||(this.offset=t,this.page.emit({count:this.count,pageSize:this.pageSize,limit:this.limit,offset:this.offset}))}onBodyScroll(t){this._offsetX.next(t.offsetX),this.scroll.emit(t),this.cd.detectChanges()}onFooterPage(t){this.offset=t.page-1,this.bodyComponent.updateOffsetY(this.offset),this.page.emit({count:this.count,pageSize:this.pageSize,limit:this.limit,offset:this.offset}),this.selectAllRowsOnPage&&(this.selected=[],this.select.emit({selected:this.selected}))}calcPageSize(t=this.rows){if(this.scrollbarV&&this.virtualization){const r=Math.ceil(this.bodyHeight/this.rowHeight);return Math.max(r,0)}return void 0!==this.limit?this.limit:t?t.length:0}calcRowCount(t=this.rows){return this.externalPaging?this.count:t?this.groupedRows?this.groupedRows.length:null!=this.treeFromRelation&&null!=this.treeToRelation?this._internalRows.length:t.length:0}onColumnContextmenu({event:t,column:r}){this.tableContextmenu.emit({event:t,type:ab.header,content:r})}onRowContextmenu({event:t,row:r}){this.tableContextmenu.emit({event:t,type:ab.body,content:r})}onColumnResize({column:t,newValue:r}){if(void 0===t)return;let i;const a=this._internalColumns.map((u,f)=>((u={...u}).$$id===t.$$id&&(i=f,u.width=r,u.$$oldWidth=r),u));this.recalculateColumns(a,i),this._internalColumns=a,this.resize.emit({column:t,newValue:r})}onColumnReorder({column:t,newValue:r,prevValue:i}){const a=this._internalColumns.map(u=>({...u}));if(this.swapColumns){const u=a[r];a[r]=t,a[i]=u}else if(r>i){const u=a[i];for(let f=i;f<r;f++)a[f]=a[f+1];a[r]=u}else{const u=a[i];for(let f=i;f>r;f--)a[f]=a[f-1];a[r]=u}this._internalColumns=a,this.reorder.emit({column:t,newValue:r,prevValue:i})}onColumnSort(t){this.selectAllRowsOnPage&&(this.selected=[],this.select.emit({selected:this.selected})),this.sorts=t.sorts,!1===this.externalSorting&&this.sortInternalRows(),this._internalRows=PM(this._internalRows,My(this.treeFromRelation),My(this.treeToRelation)),this.offset=0,this.bodyComponent.updateOffsetY(this.offset),this.sort.emit(t)}onHeaderSelect(t){if(this.bodyComponent&&this.selectAllRowsOnPage){const r=this.bodyComponent.indexes.first,i=this.bodyComponent.indexes.last,a=this.selected.length===i-r;this.selected=[],a||this.selected.push(...this._internalRows.slice(r,i))}else{const r=this.selected.length===this.rows.length;this.selected=[],r||this.selected.push(...this.rows)}this.select.emit({selected:this.selected})}onBodySelect(t){this.select.emit(t)}onTreeAction(t){const r=t.row,i=this._rows.findIndex(a=>a[this.treeToRelation]===t.row[this.treeToRelation]);this.treeAction.emit({row:r,rowIndex:i})}ngOnDestroy(){this._subscriptions.forEach(t=>t.unsubscribe())}listenForColumnInputChanges(){this._subscriptions.push(this.columnChangesService.columnInputChanges$.subscribe(()=>{this.columnTemplates&&this.columnTemplates.notifyOnChanges()}))}sortInternalRows(){this._internalRows=function bH(n,e,t){if(!n)return[];if(!t||!t.length||!e)return[...n];const r=new Map;n.forEach((f,y)=>r.set(f,y));const i=[...n],a=e.reduce((f,y)=>(y.comparator&&"function"==typeof y.comparator&&(f[y.prop]=y.comparator),f),{}),u=t.map(f=>{const y=f.prop;return{prop:y,dir:f.dir,valueGetter:MM(y),compareFn:a[y]||wH}});return i.sort(function(f,y){for(const I of u){const{prop:x,valueGetter:R}=I,j=R(f,x),X=R(y,x),he=I.dir!==is.desc?I.compareFn(j,X,f,y,I.dir):-I.compareFn(j,X,f,y,I.dir);if(0!==he)return he}return r.has(f)&&r.has(y)?r.get(f)<r.get(y)?-1:1:0})}(this._internalRows,this._internalColumns,this.sorts)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(xM,4),c.Y36(Fk,4),c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(AM),c.Y36("configuration",8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["ngx-datatable"]],contentQueries:function(t,r,i){if(1&t&&(c.Suo(i,rH,5),c.Suo(i,qB,5),c.Suo(i,iH,5),c.Suo(i,$k,4)),2&t){let a;c.iGM(a=c.CRH())&&(r.rowDetail=a.first),c.iGM(a=c.CRH())&&(r.groupHeader=a.first),c.iGM(a=c.CRH())&&(r.footer=a.first),c.iGM(a=c.CRH())&&(r.columnTemplates=a)}},viewQuery:function(t,r){if(1&t&&(c.Gf(Wk,5),c.Gf(Zk,5)),2&t){let i;c.iGM(i=c.CRH())&&(r.bodyComponent=i.first),c.iGM(i=c.CRH())&&(r.headerComponent=i.first)}},hostAttrs:[1,"ngx-datatable"],hostVars:22,hostBindings:function(t,r){1&t&&c.NdJ("resize",function(){return r.onWindowResize()},!1,c.Jf7),2&t&&c.ekj("fixed-header",r.isFixedHeader)("fixed-row",r.isFixedRow)("scroll-vertical",r.isVertScroll)("virtualized",r.isVirtualized)("scroll-horz",r.isHorScroll)("selectable",r.isSelectable)("checkbox-selection",r.isCheckboxSelection)("cell-selection",r.isCellSelection)("single-selection",r.isSingleSelection)("multi-selection",r.isMultiSelection)("multi-click-selection",r.isMultiClickSelection)},inputs:{targetMarkerTemplate:"targetMarkerTemplate",rows:"rows",groupRowsBy:"groupRowsBy",groupedRows:"groupedRows",columns:"columns",selected:"selected",scrollbarV:"scrollbarV",scrollbarH:"scrollbarH",rowHeight:"rowHeight",columnMode:"columnMode",headerHeight:"headerHeight",footerHeight:"footerHeight",externalPaging:"externalPaging",externalSorting:"externalSorting",limit:"limit",count:"count",offset:"offset",loadingIndicator:"loadingIndicator",selectionType:"selectionType",reorderable:"reorderable",swapColumns:"swapColumns",sortType:"sortType",sorts:"sorts",cssClasses:"cssClasses",messages:"messages",rowClass:"rowClass",selectCheck:"selectCheck",displayCheck:"displayCheck",groupExpansionDefault:"groupExpansionDefault",trackByProp:"trackByProp",selectAllRowsOnPage:"selectAllRowsOnPage",virtualization:"virtualization",treeFromRelation:"treeFromRelation",treeToRelation:"treeToRelation",summaryRow:"summaryRow",summaryHeight:"summaryHeight",summaryPosition:"summaryPosition",rowIdentity:"rowIdentity"},outputs:{scroll:"scroll",activate:"activate",select:"select",sort:"sort",page:"page",reorder:"reorder",resize:"resize",tableContextmenu:"tableContextmenu",treeAction:"treeAction"},decls:5,vars:34,consts:[["role","table","visibilityObserver","",3,"visible"],["role","rowgroup",3,"sorts","sortType","scrollbarH","innerWidth","offsetX","dealsWithGroup","columns","headerHeight","reorderable","targetMarkerTemplate","sortAscendingIcon","sortDescendingIcon","sortUnsetIcon","allRowsSelected","selectionType","sort","resize","reorder","select","columnContextmenu",4,"ngIf"],["role","rowgroup",3,"groupRowsBy","groupedRows","rows","groupExpansionDefault","scrollbarV","scrollbarH","virtualization","loadingIndicator","externalPaging","rowHeight","rowCount","offset","trackByProp","columns","pageSize","offsetX","rowDetail","groupHeader","selected","innerWidth","bodyHeight","selectionType","emptyMessage","rowIdentity","rowClass","selectCheck","displayCheck","summaryRow","summaryHeight","summaryPosition","page","activate","rowContextmenu","select","scroll","treeAction"],[3,"rowCount","pageSize","offset","footerHeight","footerTemplate","totalMessage","pagerLeftArrowIcon","pagerRightArrowIcon","pagerPreviousIcon","selectedCount","selectedMessage","pagerNextIcon","page",4,"ngIf"],["role","rowgroup",3,"sorts","sortType","scrollbarH","innerWidth","offsetX","dealsWithGroup","columns","headerHeight","reorderable","targetMarkerTemplate","sortAscendingIcon","sortDescendingIcon","sortUnsetIcon","allRowsSelected","selectionType","sort","resize","reorder","select","columnContextmenu"],[3,"rowCount","pageSize","offset","footerHeight","footerTemplate","totalMessage","pagerLeftArrowIcon","pagerRightArrowIcon","pagerPreviousIcon","selectedCount","selectedMessage","pagerNextIcon","page"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0),c.NdJ("visible",function(){return r.recalculate()}),c.YNc(1,VB,2,17,"datatable-header",1),c.TgZ(2,"datatable-body",2),c.NdJ("page",function(a){return r.onBodyPage(a)})("activate",function(a){return r.activate.emit(a)})("rowContextmenu",function(a){return r.onRowContextmenu(a)})("select",function(a){return r.onBodySelect(a)})("scroll",function(a){return r.onBodyScroll(a)})("treeAction",function(a){return r.onTreeAction(a)}),c.ALo(3,"async"),c.qZA(),c.YNc(4,UB,1,12,"datatable-footer",3),c.qZA()),2&t&&(c.xp6(1),c.Q6J("ngIf",r.headerHeight),c.xp6(1),c.Q6J("groupRowsBy",r.groupRowsBy)("groupedRows",r.groupedRows)("rows",r._internalRows)("groupExpansionDefault",r.groupExpansionDefault)("scrollbarV",r.scrollbarV)("scrollbarH",r.scrollbarH)("virtualization",r.virtualization)("loadingIndicator",r.loadingIndicator)("externalPaging",r.externalPaging)("rowHeight",r.rowHeight)("rowCount",r.rowCount)("offset",r.offset)("trackByProp",r.trackByProp)("columns",r._internalColumns)("pageSize",r.pageSize)("offsetX",c.lcZ(3,32,r._offsetX))("rowDetail",r.rowDetail)("groupHeader",r.groupHeader)("selected",r.selected)("innerWidth",r._innerWidth)("bodyHeight",r.bodyHeight)("selectionType",r.selectionType)("emptyMessage",r.messages.emptyMessage)("rowIdentity",r.rowIdentity)("rowClass",r.rowClass)("selectCheck",r.selectCheck)("displayCheck",r.displayCheck)("summaryRow",r.summaryRow)("summaryHeight",r.summaryHeight)("summaryPosition",r.summaryPosition),c.xp6(2),c.Q6J("ngIf",r.footerHeight))},dependencies:[Zk,Wk,PH,HB,wn,yl],styles:[".ngx-datatable{display:block;overflow:hidden;justify-content:center;position:relative;transform:translate(0)}.ngx-datatable [hidden]{display:none!important}.ngx-datatable *,.ngx-datatable *:before,.ngx-datatable *:after{box-sizing:border-box}.ngx-datatable.scroll-vertical .datatable-body{overflow-y:auto}.ngx-datatable.scroll-vertical.virtualized .datatable-body .datatable-row-wrapper{position:absolute}.ngx-datatable.scroll-horz .datatable-body{overflow-x:auto;-webkit-overflow-scrolling:touch}.ngx-datatable.fixed-header .datatable-header .datatable-header-inner{white-space:nowrap}.ngx-datatable.fixed-header .datatable-header .datatable-header-inner .datatable-header-cell{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ngx-datatable.fixed-row .datatable-scroll,.ngx-datatable.fixed-row .datatable-scroll .datatable-body-row{white-space:nowrap}.ngx-datatable.fixed-row .datatable-scroll .datatable-body-row .datatable-body-cell,.ngx-datatable.fixed-row .datatable-scroll .datatable-body-row .datatable-body-group-cell{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.ngx-datatable .datatable-body-row,.ngx-datatable .datatable-row-center,.ngx-datatable .datatable-header-inner{display:flex;flex-direction:row;-o-flex-flow:row;flex-flow:row}.ngx-datatable .datatable-body-cell,.ngx-datatable .datatable-header-cell{overflow-x:hidden;vertical-align:top;display:inline-block;line-height:1.625}.ngx-datatable .datatable-body-cell:focus,.ngx-datatable .datatable-header-cell:focus{outline:none}.ngx-datatable .datatable-row-left,.ngx-datatable .datatable-row-right{z-index:9}.ngx-datatable .datatable-row-left,.ngx-datatable .datatable-row-center,.ngx-datatable .datatable-row-group,.ngx-datatable .datatable-row-right{position:relative}.ngx-datatable .datatable-header{display:block;overflow:hidden}.ngx-datatable .datatable-header .datatable-header-inner{align-items:stretch;-webkit-align-items:stretch}.ngx-datatable .datatable-header .datatable-header-cell{position:relative;display:inline-block}.ngx-datatable .datatable-header .datatable-header-cell.sortable .datatable-header-cell-wrapper{cursor:pointer}.ngx-datatable .datatable-header .datatable-header-cell.longpress .datatable-header-cell-wrapper{cursor:move}.ngx-datatable .datatable-header .datatable-header-cell .sort-btn{line-height:100%;vertical-align:middle;display:inline-block;cursor:pointer}.ngx-datatable .datatable-header .datatable-header-cell .resize-handle,.ngx-datatable .datatable-header .datatable-header-cell .resize-handle--not-resizable{display:inline-block;position:absolute;right:0;top:0;bottom:0;width:5px;padding:0 4px;visibility:hidden}.ngx-datatable .datatable-header .datatable-header-cell .resize-handle{cursor:ew-resize}.ngx-datatable .datatable-header .datatable-header-cell.resizeable:hover .resize-handle,.ngx-datatable .datatable-header .datatable-header-cell:hover .resize-handle--not-resizable{visibility:visible}.ngx-datatable .datatable-header .datatable-header-cell .targetMarker{position:absolute;top:0;bottom:0}.ngx-datatable .datatable-header .datatable-header-cell .targetMarker.dragFromLeft{right:0}.ngx-datatable .datatable-header .datatable-header-cell .targetMarker.dragFromRight{left:0}.ngx-datatable .datatable-header .datatable-header-cell .datatable-header-cell-template-wrap{height:inherit}.ngx-datatable .datatable-body{position:relative;z-index:10;display:block}.ngx-datatable .datatable-body .datatable-scroll{display:inline-block}.ngx-datatable .datatable-body .datatable-row-detail{overflow-y:hidden}.ngx-datatable .datatable-body .datatable-row-wrapper{display:flex;flex-direction:column}.ngx-datatable .datatable-body .datatable-body-row{outline:none}.ngx-datatable .datatable-body .datatable-body-row>div{display:flex}.ngx-datatable .datatable-footer{display:block;width:100%;overflow:auto}.ngx-datatable .datatable-footer .datatable-footer-inner{display:flex;align-items:center;width:100%}.ngx-datatable .datatable-footer .selected-count .page-count{flex:1 1 40%}.ngx-datatable .datatable-footer .selected-count .datatable-pager{flex:1 1 60%}.ngx-datatable .datatable-footer .page-count{flex:1 1 20%}.ngx-datatable .datatable-footer .datatable-pager{flex:1 1 80%;text-align:right}.ngx-datatable .datatable-footer .datatable-pager .pager,.ngx-datatable .datatable-footer .datatable-pager .pager li{padding:0;margin:0;display:inline-block;list-style:none}.ngx-datatable .datatable-footer .datatable-pager .pager li,.ngx-datatable .datatable-footer .datatable-pager .pager li a{outline:none}.ngx-datatable .datatable-footer .datatable-pager .pager li a{cursor:pointer;display:inline-block}.ngx-datatable .datatable-footer .datatable-pager .pager li.disabled a{cursor:not-allowed}\n"],encapsulation:2,changeDetection:0}),(0,jU.gn)([IH(5)],n.prototype,"onWindowResize",null),n})(),RH=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:"configuration",useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[xM,Fk,AM],imports:[[ac]]}),n})();function NH(n,e){if(1&n&&(c.O4$(),c.kcU(),c.ynx(0),c.TgZ(1,"p"),c._uU(2," Utilisateur Connect\xe9"),c.qZA(),c.TgZ(3,"p"),c._uU(4),c.qZA(),c.BQk()),2&n){const t=c.oxw();c.xp6(4),c.Oqu(t.userEmail)}}typeof document<"u"&&!document.elementsFromPoint&&(document.elementsFromPoint=function kH(n,e){const t=[],r=[];let i,a,u;for(;(i=document.elementFromPoint(n,e))&&-1===t.indexOf(i)&&null!=i;)t.push(i),r.push({value:i.style.getPropertyValue("pointer-events"),priority:i.style.getPropertyPriority("pointer-events")}),i.style.setProperty("pointer-events","none","important");for(a=r.length;u=r[--a];)t[a].style.setProperty("pointer-events",u.value?u.value:"",u.priority);return t});let Yk=(()=>{class n{constructor(t,r){this.auth=t,this.auths=r,this.currentUser=null,this.userEmail=null}ngOnInit(){this.auth.authState.subscribe(t=>{this.currentUser=t,this.userEmail=t?t.email:null})}logout(){this.auths.logout()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Im),c.Y36(jc))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-sidebar"]],decls:25,vars:1,consts:[[1,"navbar","navbar-dark","bg-marron","fixed-top"],[1,"container-fluid"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasDarkNavbar","aria-controls","offcanvasDarkNavbar",1,"navbar-toggler"],[1,"navbar-toggler-icon"],[1,"nav","nav-pills"],[1,"nav-item"],["href","#",1,"text-white","nav-link",3,"click"],["tabindex","-1","id","offcanvasDarkNavbar","aria-labelledby","offcanvasDarkNavbarLabel",1,"offcanvas","offcanvas-start","text-bg-marron"],[1,"offcanvas-body","bg-marron"],[1,"navbar-nav","justify-content-end","flex-grow-1","pe-3"],["width","100","height","100","xmlns","http://www.w3.org/2000/svg","role","img","preserveAspectRatio","xMidYMid slice","focusable","false",1,"bd-placeholder-img","rounded-circle"],["width","100%","height","100%","fill","#777"],["x","70%","y","50%","fill","#777","dy",".3em"],[4,"ngIf"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","py-2","border-top"],["routerLink","/dashboard",1,"nav-link"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-house-door"],["d","M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146zM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5z"]],template:function(t,r){1&t&&(c.TgZ(0,"nav",0)(1,"div",1)(2,"button",2),c._UZ(3,"span",3),c.qZA(),c.TgZ(4,"ul",4)(5,"li",5)(6,"a",6),c.NdJ("click",function(){return r.logout}),c._uU(7,"Deconnexion"),c.qZA()()(),c.TgZ(8,"div",7)(9,"div",8)(10,"ul",9),c.O4$(),c.TgZ(11,"svg",10)(12,"title"),c._uU(13,"Placeholder"),c.qZA(),c._UZ(14,"rect",11)(15,"text",12),c.qZA(),c.YNc(16,NH,5,1,"ng-container",13),c.kcU(),c.TgZ(17,"li",5),c._UZ(18,"br"),c.qZA(),c._UZ(19,"footer",14),c.TgZ(20,"li",5)(21,"a",15),c.O4$(),c.TgZ(22,"svg",16),c._UZ(23,"path",17),c.qZA(),c._uU(24," Dashboard "),c.qZA()()()()()()()),2&t&&(c.xp6(16),c.Q6J("ngIf",r.currentUser))},dependencies:[wn,Nf],styles:[".bg-marron[_ngcontent-%COMP%]{background-color:#cb7a4b}.navbar[_ngcontent-%COMP%]{display:flex;align-items:center}.navbar-toggler[_ngcontent-%COMP%]{margin-right:10px}.name[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#fff;margin-top:10px}.nav-pills[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#fff}.nav-pills[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#fff3}"]}),n})();function FH(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",16)(1,"button",17),c.NdJ("click",function(){const a=c.CHM(t).row,u=c.oxw();return c.KtG(u.goToEntrepotDetails(a.id))}),c._uU(2,"Voir+"),c.qZA(),c.TgZ(3,"button",18),c.NdJ("click",function(){const a=c.CHM(t).row,u=c.oxw();return c.KtG(u.goToEntrepotModify(a.id))}),c._uU(4,"Modifier"),c.qZA(),c.TgZ(5,"button",19),c.NdJ("click",function(){const a=c.CHM(t).row,u=c.oxw();return c.KtG(u.deleteEntrepot(a))}),c._uU(6,"Supprimer"),c.qZA()()}}const LH=function(){return["/new"]};let VH=(()=>{class n{constructor(t,r,i){this.auth=t,this.entrep=r,this.router=i,this.editLink="update",this.entrepot=[]}ngOnInit(){this.getAllEntrepot()}getAllEntrepot(){this.entrep.getAllEntrepot().subscribe(t=>{this.entrepot=t.map(r=>{const i=r.payload.doc.data();return i.id=r.payload.doc.id,i})},t=>{alert("Error while fetching student data")})}deleteEntrepot(t){nd().fire({title:"Confirmation",text:`Are you sure you want to delete ${t.libelle}?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(r=>{r.isConfirmed&&this.entrep.deleteEntrepot(t).then(()=>{nd().fire("Deleted!",`${t.libelle} has been deleted.`,"success"),this.getAllEntrepot()}).catch(i=>{nd().fire("Error!",`An error occurred while deleting ${t.libelle}: ${i.message}`,"error")})})}goToEntrepotDetails(t){this.router.navigate(["/detail",t]).then(r=>console.log(r))}goToEntrepotModify(t){this.router.navigate(["/update",t]).then(r=>console.log(r))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(jc),c.Y36(kk),c.Y36(zn))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-dashboard"]],inputs:{editLink:"editLink"},decls:21,vars:9,consts:[[1,"container-fluid","mt-5","tex","px-5","t-center"],[1,"row"],[1,"col-md-8","mt-5"],["id","page-heading"],[1,"text-end"],[1,"btn","btn-primary",3,"routerLink"],[1,"card","p-3","shadow",2,"width","1070px"],[1,"card-body",2,"width","1000px"],[1,"bootstrap",3,"rows","columnMode","headerHeight","rowHeight","footerHeight","limit"],["name","Libelle","prop","libelle"],["name","Longitude","prop","longitude"],["name","Latitude","prop","latitude"],["name","Superficie","prop","superficy"],["name","Placer","prop","placer"],["name","Action",3,"width"],["ngx-datatable-cell-template",""],["role","group",1,"btn-group"],[1,"btn","btn-outline-success",3,"click"],[1,"btn","btn-outline-success","mx-2",3,"click"],[1,"btn","btn-outline-danger",3,"click"]],template:function(t,r){1&t&&(c._UZ(0,"app-sidebar"),c.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"h2",3)(5,"span"),c._uU(6,"Liste des entrepot "),c.qZA(),c.TgZ(7,"div",4)(8,"button",5)(9,"span"),c._uU(10,"Cr\xe9er un nouvel entrepot "),c.qZA()()()(),c.TgZ(11,"div",6)(12,"div",7)(13,"ngx-datatable",8),c._UZ(14,"ngx-datatable-column",9)(15,"ngx-datatable-column",10)(16,"ngx-datatable-column",11)(17,"ngx-datatable-column",12)(18,"ngx-datatable-column",13),c.TgZ(19,"ngx-datatable-column",14),c.YNc(20,FH,7,0,"ng-template",15),c.qZA()()()()()()()),2&t&&(c.xp6(8),c.Q6J("routerLink",c.DdM(8,LH)),c.xp6(5),c.Q6J("rows",r.entrepot)("columnMode","force")("headerHeight",50)("rowHeight","auto")("footerHeight",50)("limit",10),c.xp6(6),c.Q6J("width",300))},dependencies:[Ng,OH,$k,Hk,Yk],styles:["#page-heading[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin-bottom:20px}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none}.btn-outline-danger[_ngcontent-%COMP%]{color:#dc3545;border-color:#dc3545}.btn-outline-danger[_ngcontent-%COMP%]:hover{background-color:#dc3545;color:#fff}.card[_ngcontent-%COMP%]{border:none;border-radius:0}.ngx-datatable.bootstrap[_ngcontent-%COMP%]{background-color:#fff;border-collapse:collapse;width:100%}.ngx-datatable.bootstrap[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .ngx-datatable.bootstrap[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px;border-bottom:1px solid #ddd;text-align:left}.ngx-datatable.bootstrap[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:700}.ngx-datatable.bootstrap[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.mt-5[_ngcontent-%COMP%]{margin-top:50px}.mr-2[_ngcontent-%COMP%]{margin-right:10px}.tex[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.text-end[_ngcontent-%COMP%]{display:flex;margin-bottom:20px}",'@charset "UTF-8";.ngx-datatable[_ngcontent-%COMP%]{display:block;overflow:hidden;justify-content:center;position:relative;transform:translateZ(0)}.ngx-datatable[_ngcontent-%COMP%]   [hidden][_ngcontent-%COMP%]{display:none!important}.ngx-datatable[_ngcontent-%COMP%]   *[_ngcontent-%COMP%], .ngx-datatable[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:before, .ngx-datatable[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]:after{box-sizing:border-box}.ngx-datatable.scroll-vertical[_ngcontent-%COMP%]   .datatable-body[_ngcontent-%COMP%]{overflow-y:auto}.ngx-datatable.scroll-vertical.virtualized[_ngcontent-%COMP%]   .datatable-body[_ngcontent-%COMP%]   .datatable-row-wrapper[_ngcontent-%COMP%]{position:absolute}.ngx-datatable.scroll-horz[_ngcontent-%COMP%]   .datatable-body[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.ngx-datatable.fixed-header[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]   .datatable-header-inner[_ngcontent-%COMP%]{white-space:nowrap}.ngx-datatable.fixed-header[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]   .datatable-header-inner[_ngcontent-%COMP%]   .datatable-header-cell[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ngx-datatable.fixed-row[_ngcontent-%COMP%]   .datatable-scroll[_ngcontent-%COMP%], .ngx-datatable.fixed-row[_ngcontent-%COMP%]   .datatable-scroll[_ngcontent-%COMP%]   .datatable-body-row[_ngcontent-%COMP%]{white-space:nowrap}.ngx-datatable.fixed-row[_ngcontent-%COMP%]   .datatable-scroll[_ngcontent-%COMP%]   .datatable-body-row[_ngcontent-%COMP%]   .datatable-body-cell[_ngcontent-%COMP%], .ngx-datatable.fixed-row[_ngcontent-%COMP%]   .datatable-scroll[_ngcontent-%COMP%]   .datatable-body-row[_ngcontent-%COMP%]   .datatable-body-group-cell[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.ngx-datatable[_ngcontent-%COMP%]   .datatable-body-row[_ngcontent-%COMP%], .ngx-datatable[_ngcontent-%COMP%]   .datatable-row-center[_ngcontent-%COMP%], .ngx-datatable[_ngcontent-%COMP%]   .datatable-header-inner[_ngcontent-%COMP%]{display:flex;flex-direction:row;-o-flex-flow:row;flex-flow:row}.ngx-datatable[_ngcontent-%COMP%]   .datatable-body-cell[_ngcontent-%COMP%], .ngx-datatable[_ngcontent-%COMP%]   .datatable-header-cell[_ngcontent-%COMP%]{overflow-x:hidden;vertical-align:top;display:inline-block;line-height:1.625}.ngx-datatable[_ngcontent-%COMP%]   .datatable-body-cell[_ngcontent-%COMP%]:focus, .ngx-datatable[_ngcontent-%COMP%]   .datatable-header-cell[_ngcontent-%COMP%]:focus{outline:none}.ngx-datatable[_ngcontent-%COMP%]   .datatable-row-left[_ngcontent-%COMP%], .ngx-datatable[_ngcontent-%COMP%]   .datatable-row-right[_ngcontent-%COMP%]{z-index:9}.ngx-datatable[_ngcontent-%COMP%]   .datatable-row-left[_ngcontent-%COMP%], .ngx-datatable[_ngcontent-%COMP%]   .datatable-row-center[_ngcontent-%COMP%], .ngx-datatable[_ngcontent-%COMP%]   .datatable-row-group[_ngcontent-%COMP%], .ngx-datatable[_ngcontent-%COMP%]   .datatable-row-right[_ngcontent-%COMP%]{position:relative}.ngx-datatable[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]{display:block;overflow:hidden}.ngx-datatable[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]   .datatable-header-inner[_ngcontent-%COMP%]{align-items:stretch;-webkit-align-items:stretch}.ngx-datatable[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]   .datatable-header-cell[_ngcontent-%COMP%]{position:relative;display:inline-block}.ngx-datatable[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]   .datatable-header-cell.sortable[_ngcontent-%COMP%]   .datatable-header-cell-wrapper[_ngcontent-%COMP%]{cursor:pointer}.ngx-datatable[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]   .datatable-header-cell.longpress[_ngcontent-%COMP%]   .datatable-header-cell-wrapper[_ngcontent-%COMP%]{cursor:move}.ngx-datatable[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]   .datatable-header-cell[_ngcontent-%COMP%]   .sort-btn[_ngcontent-%COMP%]{line-height:100%;vertical-align:middle;display:inline-block;cursor:pointer}.ngx-datatable[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]   .datatable-header-cell[_ngcontent-%COMP%]   .resize-handle[_ngcontent-%COMP%], .ngx-datatable[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]   .datatable-header-cell[_ngcontent-%COMP%]   .resize-handle--not-resizable[_ngcontent-%COMP%]{display:inline-block;position:absolute;right:0;top:0;bottom:0;width:5px;padding:0 4px;visibility:hidden}.ngx-datatable[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]   .datatable-header-cell[_ngcontent-%COMP%]   .resize-handle[_ngcontent-%COMP%]{cursor:ew-resize}.ngx-datatable[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]   .datatable-header-cell.resizeable[_ngcontent-%COMP%]:hover   .resize-handle[_ngcontent-%COMP%], .ngx-datatable[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]   .datatable-header-cell[_ngcontent-%COMP%]:hover   .resize-handle--not-resizable[_ngcontent-%COMP%]{visibility:visible}.ngx-datatable[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]   .datatable-header-cell[_ngcontent-%COMP%]   .targetMarker[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0}.ngx-datatable[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]   .datatable-header-cell[_ngcontent-%COMP%]   .targetMarker.dragFromLeft[_ngcontent-%COMP%]{right:0}.ngx-datatable[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]   .datatable-header-cell[_ngcontent-%COMP%]   .targetMarker.dragFromRight[_ngcontent-%COMP%]{left:0}.ngx-datatable[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]   .datatable-header-cell[_ngcontent-%COMP%]   .datatable-header-cell-template-wrap[_ngcontent-%COMP%]{height:inherit}.ngx-datatable[_ngcontent-%COMP%]   .datatable-body[_ngcontent-%COMP%]{position:relative;z-index:10;display:block}.ngx-datatable[_ngcontent-%COMP%]   .datatable-body[_ngcontent-%COMP%]   .datatable-scroll[_ngcontent-%COMP%]{display:inline-block}.ngx-datatable[_ngcontent-%COMP%]   .datatable-body[_ngcontent-%COMP%]   .datatable-row-detail[_ngcontent-%COMP%]{overflow-y:hidden}.ngx-datatable[_ngcontent-%COMP%]   .datatable-body[_ngcontent-%COMP%]   .datatable-row-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.ngx-datatable[_ngcontent-%COMP%]   .datatable-body[_ngcontent-%COMP%]   .datatable-body-row[_ngcontent-%COMP%]{outline:none}.ngx-datatable[_ngcontent-%COMP%]   .datatable-body[_ngcontent-%COMP%]   .datatable-body-row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:flex}.ngx-datatable[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]{display:block;width:100%;overflow:auto}.ngx-datatable[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-footer-inner[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%}.ngx-datatable[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .selected-count[_ngcontent-%COMP%]   .page-count[_ngcontent-%COMP%]{flex:1 1 40%}.ngx-datatable[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .selected-count[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]{flex:1 1 60%}.ngx-datatable[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .page-count[_ngcontent-%COMP%]{flex:1 1 20%}.ngx-datatable[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]{flex:1 1 80%;text-align:right}.ngx-datatable[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%], .ngx-datatable[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:0;margin:0;display:inline-block;list-style:none}.ngx-datatable[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .ngx-datatable[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{outline:none}.ngx-datatable[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;display:inline-block}.ngx-datatable[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:not-allowed}.ngx-datatable.bootstrap[_ngcontent-%COMP%]{box-shadow:none;font-size:13px}.ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]{height:unset!important}.ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]   .datatable-header-cell[_ngcontent-%COMP%]{vertical-align:bottom;padding:.75rem;border-bottom:1px solid #d1d4d7}.ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]   .datatable-header-cell[_ngcontent-%COMP%]   .datatable-header-cell-label[_ngcontent-%COMP%]{line-height:24px}.ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-body[_ngcontent-%COMP%]   .datatable-body-row[_ngcontent-%COMP%]{vertical-align:top;border-top:1px solid #d1d4d7}.ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-body[_ngcontent-%COMP%]   .datatable-body-row.datatable-row-even[_ngcontent-%COMP%]{background-color:#0000000d}.ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-body[_ngcontent-%COMP%]   .datatable-body-row.active[_ngcontent-%COMP%]{background-color:#1483ff;color:#fff}.ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-body[_ngcontent-%COMP%]   .datatable-body-row[_ngcontent-%COMP%]   .datatable-body-cell[_ngcontent-%COMP%]{padding:.75rem;text-align:left;vertical-align:top}.ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-body[_ngcontent-%COMP%]   .empty-row[_ngcontent-%COMP%]{position:relative;padding:.75rem 1.25rem;margin-bottom:0}.ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]{background:#424242;color:#ededed;margin-top:-1px}.ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .page-count[_ngcontent-%COMP%]{line-height:50px;height:50px;padding:0 1.2rem}.ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]{margin:0 10px;vertical-align:top}.ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:10px 0}.ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.disabled).active   a[_ngcontent-%COMP%], .ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.disabled):hover   a[_ngcontent-%COMP%]{background-color:#545454;font-weight:700}.ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{height:22px;min-width:24px;line-height:22px;padding:0;border-radius:3px;margin:0 3px;text-align:center;vertical-align:top;text-decoration:none;vertical-align:bottom;color:#ededed}.ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .datatable-icon-left[_ngcontent-%COMP%], .ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .datatable-icon-skip[_ngcontent-%COMP%], .ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .datatable-icon-right[_ngcontent-%COMP%], .ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .datatable-icon-prev[_ngcontent-%COMP%]{font-size:18px;line-height:27px;padding:0 3px}.ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-summary-row[_ngcontent-%COMP%]   .datatable-body-row[_ngcontent-%COMP%]   .datatable-body-cell[_ngcontent-%COMP%]{font-weight:700}@font-face{font-family:data-table;src:url(data-table.19a1c5c211a201d8.eot);src:url(data-table.19a1c5c211a201d8.eot?#iefix) format("embedded-opentype"),url(data-table.d233a8724a9532b6.woff) format("woff"),url(data-table.4f99927ffc558471.ttf) format("truetype"),url(data-table.029992b38cb863a4.svg#data-table) format("svg");font-weight:400;font-style:normal}[data-icon][_ngcontent-%COMP%]:before{font-family:data-table!important;content:attr(data-icon);font-style:normal!important;font-weight:400!important;font-feature-settings:normal!important;font-variant:normal!important;text-transform:none!important;speak:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}[class^=datatable-icon-][_ngcontent-%COMP%]:before, [class*=" datatable-icon-"][_ngcontent-%COMP%]:before{font-family:data-table!important;font-style:normal!important;font-weight:400!important;font-feature-settings:normal!important;font-variant:normal!important;text-transform:none!important;speak:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.datatable-icon-filter[_ngcontent-%COMP%]:before{content:"b"}.datatable-icon-collapse[_ngcontent-%COMP%]:before{content:"a"}.datatable-icon-expand[_ngcontent-%COMP%]:before{content:"c"}.datatable-icon-close[_ngcontent-%COMP%]:before{content:"d"}.datatable-icon-up[_ngcontent-%COMP%]:before{content:"e"}.datatable-icon-down[_ngcontent-%COMP%]:before{content:"f"}.datatable-icon-sort-unset[_ngcontent-%COMP%]:before{content:"c";opacity:.5}.datatable-icon-sort[_ngcontent-%COMP%]:before{content:"g"}.datatable-icon-done[_ngcontent-%COMP%]:before{content:"h"}.datatable-icon-done-all[_ngcontent-%COMP%]:before{content:"i"}.datatable-icon-search[_ngcontent-%COMP%]:before{content:"j"}.datatable-icon-pin[_ngcontent-%COMP%]:before{content:"k"}.datatable-icon-add[_ngcontent-%COMP%]:before{content:"m"}.datatable-icon-left[_ngcontent-%COMP%]:before{content:"o"}.datatable-icon-right[_ngcontent-%COMP%]:before{content:"p"}.datatable-icon-skip[_ngcontent-%COMP%]:before{content:"q"}.datatable-icon-prev[_ngcontent-%COMP%]:before{content:"r"}.ngx-datatable.bootstrap.core-bootstrap.height-70-vh[_ngcontent-%COMP%]{height:70vh!important}.ngx-datatable.bootstrap.core-bootstrap[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]{background-color:#f7f7f8}.ngx-datatable.bootstrap.core-bootstrap[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]   .datatable-header-cell[_ngcontent-%COMP%]{border-bottom:0}.ngx-datatable.bootstrap.core-bootstrap[_ngcontent-%COMP%]   .datatable-body-row[_ngcontent-%COMP%]{border-color:#e0e0e0}.ngx-datatable.bootstrap.core-bootstrap[_ngcontent-%COMP%]   .datatable-body-row.datatable-row-even[_ngcontent-%COMP%]{background-color:initial}.ngx-datatable.bootstrap.core-bootstrap[_ngcontent-%COMP%]   .datatable-body-row.active[_ngcontent-%COMP%]{background-color:#975aff}.ngx-datatable.bootstrap.core-bootstrap[_ngcontent-%COMP%]   .datatable-body-row.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff!important}.ngx-datatable.bootstrap.core-bootstrap[_ngcontent-%COMP%]   .datatable-body-row[_ngcontent-%COMP%]   .datatable-body-cell-label[_ngcontent-%COMP%]   .cell-line-height[_ngcontent-%COMP%]{line-height:1.25}.ngx-datatable.bootstrap.core-bootstrap[_ngcontent-%COMP%]   .datatable-body-row[_ngcontent-%COMP%]   .datatable-body-cell[_ngcontent-%COMP%]{display:flex;align-items:center}.ngx-datatable.bootstrap.core-bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]{background-color:transparent;color:#342e49}.ngx-datatable.bootstrap.core-bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.ngx-datatable.bootstrap.core-bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .ngx-datatable.bootstrap.core-bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   a[_ngcontent-%COMP%]{margin:0}.ngx-datatable.bootstrap.core-bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   a[_ngcontent-%COMP%], .ngx-datatable.bootstrap.core-bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child   a[_ngcontent-%COMP%], .ngx-datatable.bootstrap.core-bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2)   a[_ngcontent-%COMP%], .ngx-datatable.bootstrap.core-bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-last-child(2)   a[_ngcontent-%COMP%]{padding:1.1rem 1.035rem}.ngx-datatable.bootstrap.core-bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .ngx-datatable.bootstrap.core-bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .ngx-datatable.bootstrap.core-bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2)   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .ngx-datatable.bootstrap.core-bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-last-child(2)   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:.55rem;left:.4rem}.ngx-datatable.bootstrap.core-bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#757575;background-color:#e0e0e0}.ngx-datatable.bootstrap.core-bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.disabled)   a[_ngcontent-%COMP%]{color:#975aff}.ngx-datatable.bootstrap.core-bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.disabled)   a[_ngcontent-%COMP%]:hover{background-color:#eee!important;border-color:#e0e0e0}.ngx-datatable.bootstrap.core-bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.disabled).active   a[_ngcontent-%COMP%]{z-index:3;color:#fff;background-color:#975aff!important;border-color:#975aff;font-weight:inherit}.ngx-datatable.bootstrap.core-bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.disabled):hover   a[_ngcontent-%COMP%]{background-color:#f5f5f5;font-weight:inherit}.ngx-datatable.bootstrap.core-bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{position:relative;display:block;padding:1.1rem .75rem;margin:0 0 0 5px;line-height:.1;background-color:#f5f5f5;border:1px solid #E0E0E0;border-radius:.35rem;font-size:15px}.ngx-datatable.bootstrap.core-bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{padding:0}.ngx-datatable.bootstrap.core-bootstrap.header-height-50[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]{height:50px!important}.ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .datatable-icon-left[_ngcontent-%COMP%], .ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .datatable-icon-skip[_ngcontent-%COMP%], .ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .datatable-icon-right[_ngcontent-%COMP%], .ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .datatable-pager[_ngcontent-%COMP%]   .datatable-icon-prev[_ngcontent-%COMP%]{line-height:24px}@media (max-width: 768px){.page-count[_ngcontent-%COMP%]{display:none}.datatable-pager[_ngcontent-%COMP%]{text-align:center!important;margin:0!important}}@media screen and (max-width: 800px){.desktop-hidden[_ngcontent-%COMP%]{display:initial}.mobile-hidden[_ngcontent-%COMP%]{display:none}}@media screen and (min-width: 800px){.desktop-hidden[_ngcontent-%COMP%]{display:none}.mobile-hidden[_ngcontent-%COMP%]{display:initial}}html[_ngcontent-%COMP%]   body.layout-dark[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#626164}html[_ngcontent-%COMP%]   body.layout-dark[_ngcontent-%COMP%]:not(.layout-transparent)   .ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]{background-color:#101010}html[_ngcontent-%COMP%]   body.layout-dark[_ngcontent-%COMP%]:not(.layout-transparent)   .ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-body-row[_ngcontent-%COMP%]{border-color:#474748}html[_ngcontent-%COMP%]   body.layout-dark[_ngcontent-%COMP%]:not(.layout-transparent)   .ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]{color:#b2b1b5}html[_ngcontent-%COMP%]   body.layout-dark[_ngcontent-%COMP%]:not(.layout-transparent)   .ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body.layout-dark[_ngcontent-%COMP%]:not(.layout-transparent)   .ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#1e1e1e;border-color:#474748}html[_ngcontent-%COMP%]   body.layout-dark[_ngcontent-%COMP%]:not(.layout-transparent)   .ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.disabled):hover   a[_ngcontent-%COMP%]{background-color:#1e1e1e}html[_ngcontent-%COMP%]   body.layout-dark[_ngcontent-%COMP%]:not(.layout-transparent)   .ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.disabled):not(.active)   a[_ngcontent-%COMP%]:hover{background-color:#1e1e1e!important;border-color:#474748!important}html[_ngcontent-%COMP%]   body.layout-dark.layout-transparent[_ngcontent-%COMP%]   .ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-header[_ngcontent-%COMP%]{background-color:#0000001f}html[_ngcontent-%COMP%]   body.layout-dark.layout-transparent[_ngcontent-%COMP%]   .ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-body-row[_ngcontent-%COMP%]{border-color:#eee3}html[_ngcontent-%COMP%]   body.layout-dark.layout-transparent[_ngcontent-%COMP%]   .ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]{color:#d6d5d8}html[_ngcontent-%COMP%]   body.layout-dark.layout-transparent[_ngcontent-%COMP%]   .ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], html[_ngcontent-%COMP%]   body.layout-dark.layout-transparent[_ngcontent-%COMP%]   .ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#0000001f;border-color:#0000001f}html[_ngcontent-%COMP%]   body.layout-dark.layout-transparent[_ngcontent-%COMP%]   .ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.disabled)   a[_ngcontent-%COMP%]{color:#d6d5d8}html[_ngcontent-%COMP%]   body.layout-dark.layout-transparent[_ngcontent-%COMP%]   .ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.disabled):hover   a[_ngcontent-%COMP%]{background-color:#0000001f}html[_ngcontent-%COMP%]   body.layout-dark.layout-transparent[_ngcontent-%COMP%]   .ngx-datatable.bootstrap[_ngcontent-%COMP%]   .datatable-footer[_ngcontent-%COMP%]   .pager[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.disabled):not(.active)   a[_ngcontent-%COMP%]:hover{background-color:#0000001f!important;border-color:#0000001f!important}']}),n})();class UH{constructor(e,t,r,i,a,u){this.id=e,this.libelle=t,this.longitude=r,this.latitude=i,this.superficy=a,this.placer=u}}function BH(n,e){if(1&n&&(c.TgZ(0,"h3",32),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.hij("Modifier l'entrepot ",t.entrepot.libelle,"")}}function HH(n,e){1&n&&(c.TgZ(0,"h3",32),c._uU(1,"Cr\xe9er un nouvel entrepot "),c.qZA())}const $H=function(n){return{active:n}};let FM=(()=>{class n{constructor(t,r,i,a){this.formBuilder=t,this.router=r,this.route=i,this.entrepotService=a,this.entrepot=new UH,this.activeTab="general",this.isSaving=!1}ngOnInit(){this.entrepotForm=this.formBuilder.group({libelle:["",[lr.required,lr.maxLength(50)]],superficy:["",[lr.required,lr.maxLength(50)]],placer:["",[lr.required,lr.maxLength(10)]],longitude:["",lr.required],latitude:["",lr.required]}),this.route.params.subscribe(t=>{this.isEditMode=!!t.id,this.isEditMode&&this.entrepotService.find(t.id).subscribe(r=>{r&&(this.entrepot=r,this.updateForm(this.entrepot))})})}updateForm(t){this.entrepotForm.patchValue({libelle:t.libelle,longitude:t.longitude,latitude:t.latitude,placer:t.placer,superficy:t.superficy})}updateEntrepot(t){t.libelle=this.entrepotForm.get(["libelle"]).value,t.longitude=this.entrepotForm.get(["longitude"]).value,t.latitude=this.entrepotForm.get(["latitude"]).value,t.placer=this.entrepotForm.get(["placer"]).value,t.superficy=this.entrepotForm.get(["superficy"]).value}onSubmit(){if(this.entrepotForm.invalid)return void nd().fire({icon:"error",title:"Oops...",text:"Veuillez remplir correctement tous les champs du formulaire!",timer:5e3});this.isSaving=!0;const r={...this.entrepot,...this.entrepotForm.value};this.isEditMode?this.entrepotService.updateEntrepot(r).then(()=>{this.isSaving=!1,nd().fire({icon:"success",title:"Succ\xe8s!",text:"L'entrepot a \xe9t\xe9 mis \xe0 jour avec succ\xe8s!",timer:7e3}),this.onSaveSuccess()},()=>this.onSaveError()):this.entrepotService.addEntrepot(r).then(()=>{this.isSaving=!1,nd().fire({icon:"success",title:"Succ\xe8s!",text:"L'entrepot a \xe9t\xe9 cr\xe9\xe9 avec succ\xe8s!",timer:5e3}),this.onSaveSuccess()},()=>this.onSaveError())}onSaveSuccess(){this.isSaving=!1,this.previousState()}onSaveError(){this.isSaving=!1}previousState(){window.history.back()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ap),c.Y36(zn),c.Y36(el),c.Y36(kk))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-entrepot-update"]],decls:48,vars:6,consts:[[1,"container","mt-5"],[1,"row"],[1,"col-12"],[1,"content-header"],["class","card-title",4,"ngIf"],[1,"text-end"],[1,"row","mb-5"],[1,"col-md-12"],[1,"card"],[1,"card-content"],[1,"card-body"],[1,"tab-content"],["id","general","role","tabpanel","aria-labelledby","general-tab",1,"tab-pane",3,"ngClass"],[1,"mt-1","mt-sm-2"],[3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group","col-md-12","d-flex","px-3"],[1,"col-md-6"],["for","libelle"],["type","text","id","libelle","formControlName","libelle","placeholder","libelle","required","",1,"form-control",2,"width","430px"],["for","superficy"],["formControlName","superficy","type","text","id","superficy","placeholder","Superficie","required","",1,"form-control",2,"width","430px"],[1,"form-group","col-md-6"],["for","longitude"],["formControlName","longitude","type","text","id","longitude","placeholder","Longitude","required","",1,"form-control",2,"width","430px"],["for","latitude"],["formControlName","latitude","type","text","id","latitude","placeholder","Latitude","required","",1,"form-control",2,"width","430px"],["for","placer"],["formControlName","placer","type","text","id","placer","placeholder","Placer","required","",1,"form-control",2,"width","430px"],[1,"col-12","d-flex","justify-content-between"],["type","button",1,"btn","stp",3,"click"],["type","submit",1,"btn","btn-success","mb-1"],[1,"card-title"]],template:function(t,r){1&t&&(c._UZ(0,"app-sidebar")(1,"br")(2,"br"),c.TgZ(3,"section",0)(4,"div",1)(5,"div",2)(6,"div",3),c.YNc(7,BH,2,1,"h3",4),c.YNc(8,HH,2,0,"h3",4),c.qZA()()(),c._UZ(9,"div",5),c.TgZ(10,"div",6)(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11)(16,"div",12),c._UZ(17,"hr",13),c.TgZ(18,"form",14),c.NdJ("ngSubmit",function(){return r.onSubmit()}),c.TgZ(19,"div",15)(20,"div",16)(21,"div",17)(22,"label",18),c._uU(23,"Libelle"),c.qZA(),c._UZ(24,"input",19),c.qZA(),c.TgZ(25,"div",17)(26,"label",20),c._uU(27,"Superficie(m2)"),c.qZA(),c._UZ(28,"input",21),c.qZA()(),c.TgZ(29,"div",16)(30,"div",22)(31,"label",23),c._uU(32,"Longitude"),c.qZA(),c._UZ(33,"input",24),c.qZA(),c.TgZ(34,"div",22)(35,"label",25),c._uU(36,"Latitude"),c.qZA(),c._UZ(37,"input",26),c.qZA()(),c.TgZ(38,"div",16)(39,"div",22)(40,"label",27),c._uU(41,"Placer"),c.qZA(),c._UZ(42,"input",28),c.qZA()(),c.TgZ(43,"div",29)(44,"button",30),c.NdJ("click",function(){return r.previousState()}),c._uU(45,"Annuler"),c.qZA(),c.TgZ(46,"button",31),c._uU(47,"Enregistrer"),c.qZA()()()()()()()()()()()()),2&t&&(c.xp6(7),c.Q6J("ngIf",r.isEditMode),c.xp6(1),c.Q6J("ngIf",!r.isEditMode),c.xp6(8),c.Q6J("ngClass",c.VKq(4,$H,"general"===r.activeTab)),c.xp6(2),c.Q6J("formGroup",r.entrepotForm))},dependencies:[fn,wn,Uc,Lc,Gg,$f,Ko,Zu,oh,Yk],styles:[".row[_ngcontent-%COMP%]{margin-bottom:20px}.content-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.content-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:0}.nav-pills[_ngcontent-%COMP%]{margin-top:20px;border:1px solid #e2e2e2;border-radius:5px}.nav-item[_ngcontent-%COMP%]{margin-bottom:0}.nav-link[_ngcontent-%COMP%]{border-radius:0;text-align:left}.nav-link.active[_ngcontent-%COMP%]{background-color:#007bff;color:#fff}.card[_ngcontent-%COMP%]{border:1px solid #e2e2e2;border-radius:5px}.card-content[_ngcontent-%COMP%]{padding:20px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}.form-control[_ngcontent-%COMP%]{width:100%;border:1px solid #e2e2e2;border-radius:5px;padding:10px}.d-flex.justify-content-end[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%], .d-flex.justify-content-end[_ngcontent-%COMP%]   .btn-secondary[_ngcontent-%COMP%]{margin-top:20px}@media screen and (max-width: 768px){.col-md-3[_ngcontent-%COMP%]{order:2;margin-top:20px}.col-md-9[_ngcontent-%COMP%]{order:1}.nav-pills[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-around}}.btn-transport[_ngcontent-%COMP%]{color:#fd7e14;background-color:#fda16acc}.stp[_ngcontent-%COMP%]{background-color:#cb7a4b;color:#fff}.stp[_ngcontent-%COMP%]:hover{background-color:#fff;color:#cb7a4b;border-color:#cb7a4b}"]}),n})();const jH=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:CC},{path:"dashboard",component:VH},{path:"register",component:hp},{path:"verify-email",component:$0},{path:"forgot-password",component:YT},{path:"update/:id",component:FM},{path:"detail/:id",component:FM},{path:"new",component:FM}];let zH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[e0.forRoot(jH),e0]}),n})(),GH=(()=>{class n{constructor(){this.title="ricva"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},dependencies:[e_]}),n})();const Qk_firebase={apiKey:"AIzaSyBFBg6ZkQxi0TwH2EeRLDkuM5a_66E6b9g",authDomain:"entrepot-d42b0.firebaseapp.com",databaseURL:"https:project.firebaseio.com",projectId:"entrepot-d42b0",storageBucket:"entrepot-d42b0.appspot.com",messagingSenderId:"...",appId:"1:415802477563:web:a1cbd5207372010766195e"};let qH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[GH]}),n.\u0275inj=c.cJS({imports:[mc,zH,Xi.hO.initializeApp(Qk_firebase),ch,Xu,RH]}),n})();(0,c.G48)(),pu().bootstrapModule(qH).catch(n=>console.error(n))},9751:(Dt,Ne,U)=>{"use strict";U.d(Ne,{y:()=>Ce});var c=U(930),q=U(727),N=U(8822),le=U(9635),fe=U(2416),z=U(576),we=U(2806);let Ce=(()=>{class ne{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const Me=new ne;return Me.source=this,Me.operator=Ve,Me}subscribe(Ve,Me,tt){const De=function Z(ne){return ne&&ne instanceof c.Lv||function Y(ne){return ne&&(0,z.m)(ne.next)&&(0,z.m)(ne.error)&&(0,z.m)(ne.complete)}(ne)&&(0,q.Nn)(ne)}(Ve)?Ve:new c.Hp(Ve,Me,tt);return(0,we.x)(()=>{const{operator:be,source:wt}=this;De.add(be?be.call(De,wt):wt?this._subscribe(De):this._trySubscribe(De))}),De}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(Me){Ve.error(Me)}}forEach(Ve,Me){return new(Me=Ie(Me))((tt,De)=>{const be=new c.Hp({next:wt=>{try{Ve(wt)}catch(st){De(st),be.unsubscribe()}},error:De,complete:tt});this.subscribe(be)})}_subscribe(Ve){var Me;return null===(Me=this.source)||void 0===Me?void 0:Me.subscribe(Ve)}[N.L](){return this}pipe(...Ve){return(0,le.U)(Ve)(this)}toPromise(Ve){return new(Ve=Ie(Ve))((Me,tt)=>{let De;this.subscribe(be=>De=be,be=>tt(be),()=>Me(De))})}}return ne.create=Ke=>new ne(Ke),ne})();function Ie(ne){var Ke;return null!==(Ke=ne??fe.v.Promise)&&void 0!==Ke?Ke:Promise}},7579:(Dt,Ne,U)=>{"use strict";U.d(Ne,{x:()=>we});var c=U(9751),q=U(727);const le=(0,U(3888).d)(Ie=>function(){Ie(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=U(8737),z=U(2806);let we=(()=>{class Ie extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const ne=new Ce(this,this);return ne.operator=Z,ne}_throwIfClosed(){if(this.closed)throw new le}next(Z){(0,z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(Z)}})}error(Z){(0,z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:ne}=this;for(;ne.length;)ne.shift().error(Z)}})}complete(){(0,z.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:ne,isStopped:Ke,observers:Ve}=this;return ne||Ke?q.Lc:(this.currentObservers=null,Ve.push(Z),new q.w0(()=>{this.currentObservers=null,(0,fe.P)(Ve,Z)}))}_checkFinalizedStatuses(Z){const{hasError:ne,thrownError:Ke,isStopped:Ve}=this;ne?Z.error(Ke):Ve&&Z.complete()}asObservable(){const Z=new c.y;return Z.source=this,Z}}return Ie.create=(Y,Z)=>new Ce(Y,Z),Ie})();class Ce extends we{constructor(Y,Z){super(),this.destination=Y,this.source=Z}next(Y){var Z,ne;null===(ne=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===ne||ne.call(Z,Y)}error(Y){var Z,ne;null===(ne=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===ne||ne.call(Z,Y)}complete(){var Y,Z;null===(Z=null===(Y=this.destination)||void 0===Y?void 0:Y.complete)||void 0===Z||Z.call(Y)}_subscribe(Y){var Z,ne;return null!==(ne=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(Y))&&void 0!==ne?ne:q.Lc}}},930:(Dt,Ne,U)=>{"use strict";U.d(Ne,{Hp:()=>tt,Lv:()=>ne});var c=U(576),q=U(727),N=U(2416),le=U(7849),fe=U(5032);const z=Ie("C",void 0,void 0);function Ie(Pe,Ee,me){return{kind:Pe,value:Ee,error:me}}var Y=U(3410),Z=U(2806);class ne extends q.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,q.Nn)(Ee)&&Ee.add(this)):this.destination=st}static create(Ee,me,We){return new tt(Ee,me,We)}next(Ee){this.isStopped?wt(function Ce(Pe){return Ie("N",Pe,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?wt(function we(Pe){return Ie("E",void 0,Pe)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?wt(z,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ke=Function.prototype.bind;function Ve(Pe,Ee){return Ke.call(Pe,Ee)}class Me{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:me}=this;if(me.next)try{me.next(Ee)}catch(We){De(We)}}error(Ee){const{partialObserver:me}=this;if(me.error)try{me.error(Ee)}catch(We){De(We)}else De(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(me){De(me)}}}class tt extends ne{constructor(Ee,me,We){let Ye;if(super(),(0,c.m)(Ee)||!Ee)Ye={next:Ee??void 0,error:me??void 0,complete:We??void 0};else{let de;this&&N.v.useDeprecatedNextContext?(de=Object.create(Ee),de.unsubscribe=()=>this.unsubscribe(),Ye={next:Ee.next&&Ve(Ee.next,de),error:Ee.error&&Ve(Ee.error,de),complete:Ee.complete&&Ve(Ee.complete,de)}):Ye=Ee}this.destination=new Me(Ye)}}function De(Pe){N.v.useDeprecatedSynchronousErrorHandling?(0,Z.O)(Pe):(0,le.h)(Pe)}function wt(Pe,Ee){const{onStoppedNotification:me}=N.v;me&&Y.z.setTimeout(()=>me(Pe,Ee))}const st={closed:!0,next:fe.Z,error:function be(Pe){throw Pe},complete:fe.Z}},727:(Dt,Ne,U)=>{"use strict";U.d(Ne,{Lc:()=>z,w0:()=>fe,Nn:()=>we});var c=U(576);const N=(0,U(3888).d)(Ie=>function(Z){Ie(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((ne,Ke)=>`${Ke+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var le=U(8737);class fe{constructor(Y){this.initialTeardown=Y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Y;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const Ve of Z)Ve.remove(this);else Z.remove(this);const{initialTeardown:ne}=this;if((0,c.m)(ne))try{ne()}catch(Ve){Y=Ve instanceof N?Ve.errors:[Ve]}const{_finalizers:Ke}=this;if(Ke){this._finalizers=null;for(const Ve of Ke)try{Ce(Ve)}catch(Me){Y=Y??[],Me instanceof N?Y=[...Y,...Me.errors]:Y.push(Me)}}if(Y)throw new N(Y)}}add(Y){var Z;if(Y&&Y!==this)if(this.closed)Ce(Y);else{if(Y instanceof fe){if(Y.closed||Y._hasParent(this))return;Y._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(Y)}}_hasParent(Y){const{_parentage:Z}=this;return Z===Y||Array.isArray(Z)&&Z.includes(Y)}_addParent(Y){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(Y),Z):Z?[Z,Y]:Y}_removeParent(Y){const{_parentage:Z}=this;Z===Y?this._parentage=null:Array.isArray(Z)&&(0,le.P)(Z,Y)}remove(Y){const{_finalizers:Z}=this;Z&&(0,le.P)(Z,Y),Y instanceof fe&&Y._removeParent(this)}}fe.EMPTY=(()=>{const Ie=new fe;return Ie.closed=!0,Ie})();const z=fe.EMPTY;function we(Ie){return Ie instanceof fe||Ie&&"closed"in Ie&&(0,c.m)(Ie.remove)&&(0,c.m)(Ie.add)&&(0,c.m)(Ie.unsubscribe)}function Ce(Ie){(0,c.m)(Ie)?Ie():Ie.unsubscribe()}},2416:(Dt,Ne,U)=>{"use strict";U.d(Ne,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Dt,Ne,U)=>{"use strict";U.d(Ne,{E:()=>q});const q=new(U(9751).y)(fe=>fe.complete())},8996:(Dt,Ne,U)=>{"use strict";U.d(Ne,{D:()=>Ee});var c=U(8421),q=U(5363),N=U(9468),z=U(9751),Ce=U(2202),Ie=U(576),Y=U(9672);function ne(me,We){if(!me)throw new Error("Iterable cannot be null");return new z.y(Ye=>{(0,Y.f)(Ye,We,()=>{const de=me[Symbol.asyncIterator]();(0,Y.f)(Ye,We,()=>{de.next().then(Qe=>{Qe.done?Ye.complete():Ye.next(Qe.value)})},0,!0)})})}var Ke=U(3670),Ve=U(8239),Me=U(1144),tt=U(6495),De=U(2206),be=U(4532),wt=U(3260);function Ee(me,We){return We?function Pe(me,We){if(null!=me){if((0,Ke.c)(me))return function le(me,We){return(0,c.Xf)(me).pipe((0,N.R)(We),(0,q.Q)(We))}(me,We);if((0,Me.z)(me))return function we(me,We){return new z.y(Ye=>{let de=0;return We.schedule(function(){de===me.length?Ye.complete():(Ye.next(me[de++]),Ye.closed||this.schedule())})})}(me,We);if((0,Ve.t)(me))return function fe(me,We){return(0,c.Xf)(me).pipe((0,N.R)(We),(0,q.Q)(We))}(me,We);if((0,De.D)(me))return ne(me,We);if((0,tt.T)(me))return function Z(me,We){return new z.y(Ye=>{let de;return(0,Y.f)(Ye,We,()=>{de=me[Ce.h](),(0,Y.f)(Ye,We,()=>{let Qe,Nt;try{({value:Qe,done:Nt}=de.next())}catch(mt){return void Ye.error(mt)}Nt?Ye.complete():Ye.next(Qe)},0,!0)}),()=>(0,Ie.m)(de?.return)&&de.return()})}(me,We);if((0,wt.L)(me))return function st(me,We){return ne((0,wt.Q)(me),We)}(me,We)}throw(0,be.z)(me)}(me,We):(0,c.Xf)(me)}},8421:(Dt,Ne,U)=>{"use strict";U.d(Ne,{Xf:()=>Ke});var c=U(7582),q=U(1144),N=U(8239),le=U(9751),fe=U(3670),z=U(2206),we=U(4532),Ce=U(6495),Ie=U(3260),Y=U(576),Z=U(7849),ne=U(8822);function Ke(Pe){if(Pe instanceof le.y)return Pe;if(null!=Pe){if((0,fe.c)(Pe))return function Ve(Pe){return new le.y(Ee=>{const me=Pe[ne.L]();if((0,Y.m)(me.subscribe))return me.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,q.z)(Pe))return function Me(Pe){return new le.y(Ee=>{for(let me=0;me<Pe.length&&!Ee.closed;me++)Ee.next(Pe[me]);Ee.complete()})}(Pe);if((0,N.t)(Pe))return function tt(Pe){return new le.y(Ee=>{Pe.then(me=>{Ee.closed||(Ee.next(me),Ee.complete())},me=>Ee.error(me)).then(null,Z.h)})}(Pe);if((0,z.D)(Pe))return be(Pe);if((0,Ce.T)(Pe))return function De(Pe){return new le.y(Ee=>{for(const me of Pe)if(Ee.next(me),Ee.closed)return;Ee.complete()})}(Pe);if((0,Ie.L)(Pe))return function wt(Pe){return be((0,Ie.Q)(Pe))}(Pe)}throw(0,we.z)(Pe)}function be(Pe){return new le.y(Ee=>{(function st(Pe,Ee){var me,We,Ye,de;return(0,c.mG)(this,void 0,void 0,function*(){try{for(me=(0,c.KL)(Pe);!(We=yield me.next()).done;)if(Ee.next(We.value),Ee.closed)return}catch(Qe){Ye={error:Qe}}finally{try{We&&!We.done&&(de=me.return)&&(yield de.call(me))}finally{if(Ye)throw Ye.error}}Ee.complete()})})(Pe,Ee).catch(me=>Ee.error(me))})}},6451:(Dt,Ne,U)=>{"use strict";U.d(Ne,{T:()=>z});var c=U(8189),q=U(8421),N=U(515),le=U(7669),fe=U(8996);function z(...we){const Ce=(0,le.yG)(we),Ie=(0,le._6)(we,1/0),Y=we;return Y.length?1===Y.length?(0,q.Xf)(Y[0]):(0,c.J)(Ie)((0,fe.D)(Y,Ce)):N.E}},5403:(Dt,Ne,U)=>{"use strict";U.d(Ne,{x:()=>q});var c=U(930);function q(le,fe,z,we,Ce){return new N(le,fe,z,we,Ce)}class N extends c.Lv{constructor(fe,z,we,Ce,Ie,Y){super(fe),this.onFinalize=Ie,this.shouldUnsubscribe=Y,this._next=z?function(Z){try{z(Z)}catch(ne){fe.error(ne)}}:super._next,this._error=Ce?function(Z){try{Ce(Z)}catch(ne){fe.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=we?function(){try{we()}catch(Z){fe.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:z}=this;super.unsubscribe(),!z&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},4004:(Dt,Ne,U)=>{"use strict";U.d(Ne,{U:()=>N});var c=U(4482),q=U(5403);function N(le,fe){return(0,c.e)((z,we)=>{let Ce=0;z.subscribe((0,q.x)(we,Ie=>{we.next(le.call(fe,Ie,Ce++))}))})}},8189:(Dt,Ne,U)=>{"use strict";U.d(Ne,{J:()=>N});var c=U(5577),q=U(4671);function N(le=1/0){return(0,c.z)(q.y,le)}},5577:(Dt,Ne,U)=>{"use strict";U.d(Ne,{z:()=>Ce});var c=U(4004),q=U(8421),N=U(4482),le=U(9672),fe=U(5403),we=U(576);function Ce(Ie,Y,Z=1/0){return(0,we.m)(Y)?Ce((ne,Ke)=>(0,c.U)((Ve,Me)=>Y(ne,Ve,Ke,Me))((0,q.Xf)(Ie(ne,Ke))),Z):("number"==typeof Y&&(Z=Y),(0,N.e)((ne,Ke)=>function z(Ie,Y,Z,ne,Ke,Ve,Me,tt){const De=[];let be=0,wt=0,st=!1;const Pe=()=>{st&&!De.length&&!be&&Y.complete()},Ee=We=>be<ne?me(We):De.push(We),me=We=>{Ve&&Y.next(We),be++;let Ye=!1;(0,q.Xf)(Z(We,wt++)).subscribe((0,fe.x)(Y,de=>{Ke?.(de),Ve?Ee(de):Y.next(de)},()=>{Ye=!0},void 0,()=>{if(Ye)try{for(be--;De.length&&be<ne;){const de=De.shift();Me?(0,le.f)(Y,Me,()=>me(de)):me(de)}Pe()}catch(de){Y.error(de)}}))};return Ie.subscribe((0,fe.x)(Y,Ee,()=>{st=!0,Pe()})),()=>{tt?.()}}(ne,Ke,Ie,Z)))}},5363:(Dt,Ne,U)=>{"use strict";U.d(Ne,{Q:()=>le});var c=U(9672),q=U(4482),N=U(5403);function le(fe,z=0){return(0,q.e)((we,Ce)=>{we.subscribe((0,N.x)(Ce,Ie=>(0,c.f)(Ce,fe,()=>Ce.next(Ie),z),()=>(0,c.f)(Ce,fe,()=>Ce.complete(),z),Ie=>(0,c.f)(Ce,fe,()=>Ce.error(Ie),z)))})}},3099:(Dt,Ne,U)=>{"use strict";U.d(Ne,{B:()=>fe});var c=U(8421),q=U(7579),N=U(930),le=U(4482);function fe(we={}){const{connector:Ce=(()=>new q.x),resetOnError:Ie=!0,resetOnComplete:Y=!0,resetOnRefCountZero:Z=!0}=we;return ne=>{let Ke,Ve,Me,tt=0,De=!1,be=!1;const wt=()=>{Ve?.unsubscribe(),Ve=void 0},st=()=>{wt(),Ke=Me=void 0,De=be=!1},Pe=()=>{const Ee=Ke;st(),Ee?.unsubscribe()};return(0,le.e)((Ee,me)=>{tt++,!be&&!De&&wt();const We=Me=Me??Ce();me.add(()=>{tt--,0===tt&&!be&&!De&&(Ve=z(Pe,Z))}),We.subscribe(me),!Ke&&tt>0&&(Ke=new N.Hp({next:Ye=>We.next(Ye),error:Ye=>{be=!0,wt(),Ve=z(st,Ie,Ye),We.error(Ye)},complete:()=>{De=!0,wt(),Ve=z(st,Y),We.complete()}}),(0,c.Xf)(Ee).subscribe(Ke))})(ne)}}function z(we,Ce,...Ie){if(!0===Ce)return void we();if(!1===Ce)return;const Y=new N.Hp({next:()=>{Y.unsubscribe(),we()}});return Ce(...Ie).subscribe(Y)}},9468:(Dt,Ne,U)=>{"use strict";U.d(Ne,{R:()=>q});var c=U(4482);function q(N,le=0){return(0,c.e)((fe,z)=>{z.add(N.schedule(()=>fe.subscribe(z),le))})}},8505:(Dt,Ne,U)=>{"use strict";U.d(Ne,{b:()=>fe});var c=U(576),q=U(4482),N=U(5403),le=U(4671);function fe(z,we,Ce){const Ie=(0,c.m)(z)||we||Ce?{next:z,error:we,complete:Ce}:z;return Ie?(0,q.e)((Y,Z)=>{var ne;null===(ne=Ie.subscribe)||void 0===ne||ne.call(Ie);let Ke=!0;Y.subscribe((0,N.x)(Z,Ve=>{var Me;null===(Me=Ie.next)||void 0===Me||Me.call(Ie,Ve),Z.next(Ve)},()=>{var Ve;Ke=!1,null===(Ve=Ie.complete)||void 0===Ve||Ve.call(Ie),Z.complete()},Ve=>{var Me;Ke=!1,null===(Me=Ie.error)||void 0===Me||Me.call(Ie,Ve),Z.error(Ve)},()=>{var Ve,Me;Ke&&(null===(Ve=Ie.unsubscribe)||void 0===Ve||Ve.call(Ie)),null===(Me=Ie.finalize)||void 0===Me||Me.call(Ie)}))}):le.y}},4408:(Dt,Ne,U)=>{"use strict";U.d(Ne,{o:()=>fe});var c=U(727);class q extends c.w0{constructor(we,Ce){super()}schedule(we,Ce=0){return this}}const N={setInterval(z,we,...Ce){const{delegate:Ie}=N;return Ie?.setInterval?Ie.setInterval(z,we,...Ce):setInterval(z,we,...Ce)},clearInterval(z){const{delegate:we}=N;return(we?.clearInterval||clearInterval)(z)},delegate:void 0};var le=U(8737);class fe extends q{constructor(we,Ce){super(we,Ce),this.scheduler=we,this.work=Ce,this.pending=!1}schedule(we,Ce=0){var Ie;if(this.closed)return this;this.state=we;const Y=this.id,Z=this.scheduler;return null!=Y&&(this.id=this.recycleAsyncId(Z,Y,Ce)),this.pending=!0,this.delay=Ce,this.id=null!==(Ie=this.id)&&void 0!==Ie?Ie:this.requestAsyncId(Z,this.id,Ce),this}requestAsyncId(we,Ce,Ie=0){return N.setInterval(we.flush.bind(we,this),Ie)}recycleAsyncId(we,Ce,Ie=0){if(null!=Ie&&this.delay===Ie&&!1===this.pending)return Ce;null!=Ce&&N.clearInterval(Ce)}execute(we,Ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ie=this._execute(we,Ce);if(Ie)return Ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(we,Ce){let Y,Ie=!1;try{this.work(we)}catch(Z){Ie=!0,Y=Z||new Error("Scheduled action threw falsy error")}if(Ie)return this.unsubscribe(),Y}unsubscribe(){if(!this.closed){const{id:we,scheduler:Ce}=this,{actions:Ie}=Ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,le.P)(Ie,this),null!=we&&(this.id=this.recycleAsyncId(Ce,we,null)),this.delay=null,super.unsubscribe()}}}},7565:(Dt,Ne,U)=>{"use strict";U.d(Ne,{v:()=>N});var c=U(6063);class q{constructor(fe,z=q.now){this.schedulerActionCtor=fe,this.now=z}schedule(fe,z=0,we){return new this.schedulerActionCtor(this,fe).schedule(we,z)}}q.now=c.l.now;class N extends q{constructor(fe,z=q.now){super(fe,z),this.actions=[],this._active=!1}flush(fe){const{actions:z}=this;if(this._active)return void z.push(fe);let we;this._active=!0;do{if(we=fe.execute(fe.state,fe.delay))break}while(fe=z.shift());if(this._active=!1,we){for(;fe=z.shift();)fe.unsubscribe();throw we}}}},4986:(Dt,Ne,U)=>{"use strict";U.d(Ne,{z:()=>N});var c=U(4408);const N=new(U(7565).v)(c.o)},6063:(Dt,Ne,U)=>{"use strict";U.d(Ne,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(Dt,Ne,U)=>{"use strict";U.d(Ne,{z:()=>c});const c={setTimeout(q,N,...le){const{delegate:fe}=c;return fe?.setTimeout?fe.setTimeout(q,N,...le):setTimeout(q,N,...le)},clearTimeout(q){const{delegate:N}=c;return(N?.clearTimeout||clearTimeout)(q)},delegate:void 0}},2202:(Dt,Ne,U)=>{"use strict";U.d(Ne,{h:()=>q});const q=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Dt,Ne,U)=>{"use strict";U.d(Ne,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Dt,Ne,U)=>{"use strict";U.d(Ne,{_6:()=>z,jO:()=>le,yG:()=>fe});var c=U(576);function N(we){return we[we.length-1]}function le(we){return(0,c.m)(N(we))?we.pop():void 0}function fe(we){return function q(we){return we&&(0,c.m)(we.schedule)}(N(we))?we.pop():void 0}function z(we,Ce){return"number"==typeof N(we)?we.pop():Ce}},8737:(Dt,Ne,U)=>{"use strict";function c(q,N){if(q){const le=q.indexOf(N);0<=le&&q.splice(le,1)}}U.d(Ne,{P:()=>c})},3888:(Dt,Ne,U)=>{"use strict";function c(q){const le=q(fe=>{Error.call(fe),fe.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}U.d(Ne,{d:()=>c})},2806:(Dt,Ne,U)=>{"use strict";U.d(Ne,{O:()=>le,x:()=>N});var c=U(2416);let q=null;function N(fe){if(c.v.useDeprecatedSynchronousErrorHandling){const z=!q;if(z&&(q={errorThrown:!1,error:null}),fe(),z){const{errorThrown:we,error:Ce}=q;if(q=null,we)throw Ce}}else fe()}function le(fe){c.v.useDeprecatedSynchronousErrorHandling&&q&&(q.errorThrown=!0,q.error=fe)}},9672:(Dt,Ne,U)=>{"use strict";function c(q,N,le,fe=0,z=!1){const we=N.schedule(function(){le(),z?q.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(q.add(we),!z)return we}U.d(Ne,{f:()=>c})},4671:(Dt,Ne,U)=>{"use strict";function c(q){return q}U.d(Ne,{y:()=>c})},1144:(Dt,Ne,U)=>{"use strict";U.d(Ne,{z:()=>c});const c=q=>q&&"number"==typeof q.length&&"function"!=typeof q},2206:(Dt,Ne,U)=>{"use strict";U.d(Ne,{D:()=>q});var c=U(576);function q(N){return Symbol.asyncIterator&&(0,c.m)(N?.[Symbol.asyncIterator])}},576:(Dt,Ne,U)=>{"use strict";function c(q){return"function"==typeof q}U.d(Ne,{m:()=>c})},3670:(Dt,Ne,U)=>{"use strict";U.d(Ne,{c:()=>N});var c=U(8822),q=U(576);function N(le){return(0,q.m)(le[c.L])}},6495:(Dt,Ne,U)=>{"use strict";U.d(Ne,{T:()=>N});var c=U(2202),q=U(576);function N(le){return(0,q.m)(le?.[c.h])}},8239:(Dt,Ne,U)=>{"use strict";U.d(Ne,{t:()=>q});var c=U(576);function q(N){return(0,c.m)(N?.then)}},3260:(Dt,Ne,U)=>{"use strict";U.d(Ne,{L:()=>le,Q:()=>N});var c=U(7582),q=U(576);function N(fe){return(0,c.FC)(this,arguments,function*(){const we=fe.getReader();try{for(;;){const{value:Ce,done:Ie}=yield(0,c.qq)(we.read());if(Ie)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(Ce)}}finally{we.releaseLock()}})}function le(fe){return(0,q.m)(fe?.getReader)}},4482:(Dt,Ne,U)=>{"use strict";U.d(Ne,{A:()=>q,e:()=>N});var c=U(576);function q(le){return(0,c.m)(le?.lift)}function N(le){return fe=>{if(q(fe))return fe.lift(function(z){try{return le(z,this)}catch(we){this.error(we)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Dt,Ne,U)=>{"use strict";function c(){}U.d(Ne,{Z:()=>c})},9635:(Dt,Ne,U)=>{"use strict";U.d(Ne,{U:()=>N,z:()=>q});var c=U(4671);function q(...le){return N(le)}function N(le){return 0===le.length?c.y:1===le.length?le[0]:function(z){return le.reduce((we,Ce)=>Ce(we),z)}}},7849:(Dt,Ne,U)=>{"use strict";U.d(Ne,{h:()=>N});var c=U(2416),q=U(3410);function N(le){q.z.setTimeout(()=>{const{onUnhandledError:fe}=c.v;if(!fe)throw le;fe(le)})}},4532:(Dt,Ne,U)=>{"use strict";function c(q){return new TypeError(`You provided ${null!==q&&"object"==typeof q?"an invalid object":`'${q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(Ne,{z:()=>c})},5226:function(Dt){Dt.exports=function(){"use strict";const U={},q=E=>new Promise(D=>{if(!E)return D();const O=window.scrollX,G=window.scrollY;U.restoreFocusTimeout=setTimeout(()=>{U.previousActiveElement instanceof HTMLElement?(U.previousActiveElement.focus(),U.previousActiveElement=null):document.body&&document.body.focus(),D()},100),window.scrollTo(O,G)});var N={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const z=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((E,D)=>(E[D]="swal2-"+D,E),{}),Ce=["success","warning","info","question","error"].reduce((E,D)=>(E[D]="swal2-"+D,E),{}),Ie="SweetAlert2:",Y=E=>E.charAt(0).toUpperCase()+E.slice(1),Z=E=>{console.warn(`${Ie} ${"object"==typeof E?E.join(" "):E}`)},ne=E=>{console.error(`${Ie} ${E}`)},Ke=[],Me=(E,D)=>{(E=>{Ke.includes(E)||(Ke.push(E),Z(E))})(`"${E}" is deprecated and will be removed in the next major release. Please use "${D}" instead.`)},tt=E=>"function"==typeof E?E():E,De=E=>E&&"function"==typeof E.toPromise,be=E=>De(E)?E.toPromise():Promise.resolve(E),wt=E=>E&&Promise.resolve(E)===E,st=()=>document.body.querySelector(`.${z.container}`),Pe=E=>{const D=st();return D?D.querySelector(E):null},Ee=E=>Pe(`.${E}`),me=()=>Ee(z.popup),We=()=>Ee(z.icon),de=()=>Ee(z.title),Qe=()=>Ee(z["html-container"]),Nt=()=>Ee(z.image),mt=()=>Ee(z["progress-steps"]),Gt=()=>Ee(z["validation-message"]),nt=()=>Pe(`.${z.actions} .${z.confirm}`),Nr=()=>Pe(`.${z.actions} .${z.cancel}`),kn=()=>Pe(`.${z.actions} .${z.deny}`),jr=()=>Pe(`.${z.loader}`),ae=()=>Ee(z.actions),oe=()=>Ee(z.footer),Ae=()=>Ee(z["timer-progress-bar"]),pe=()=>Ee(z.close),ke=()=>{const E=me();if(!E)return[];const D=E.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),O=Array.from(D).sort((yt,Zt)=>{const Qn=parseInt(yt.getAttribute("tabindex")||"0"),jn=parseInt(Zt.getAttribute("tabindex")||"0");return Qn>jn?1:Qn<jn?-1:0}),G=E.querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n'),_e=Array.from(G).filter(yt=>"-1"!==yt.getAttribute("tabindex"));return[...new Set(O.concat(_e))].filter(yt=>pn(yt))},ut=()=>Wt(document.body,z.shown)&&!Wt(document.body,z["toast-shown"])&&!Wt(document.body,z["no-backdrop"]),xt=()=>{const E=me();return!!E&&Wt(E,z.toast)},gt=(E,D)=>{if(E.textContent="",D){const G=(new DOMParser).parseFromString(D,"text/html"),_e=G.querySelector("head");_e&&Array.from(_e.childNodes).forEach(Zt=>{E.appendChild(Zt)});const yt=G.querySelector("body");yt&&Array.from(yt.childNodes).forEach(Zt=>{Zt instanceof HTMLVideoElement||Zt instanceof HTMLAudioElement?E.appendChild(Zt.cloneNode(!0)):E.appendChild(Zt)})}},Wt=(E,D)=>{if(!D)return!1;const O=D.split(/\s+/);for(let G=0;G<O.length;G++)if(!E.classList.contains(O[G]))return!1;return!0},Yt=(E,D,O)=>{if(((E,D)=>{Array.from(E.classList).forEach(O=>{!Object.values(z).includes(O)&&!Object.values(Ce).includes(O)&&!Object.values(D.showClass||{}).includes(O)&&E.classList.remove(O)})})(E,D),D.customClass&&D.customClass[O]){if("string"!=typeof D.customClass[O]&&!D.customClass[O].forEach)return void Z(`Invalid type of customClass.${O}! Expected string or iterable object, got "${typeof D.customClass[O]}"`);Ut(E,D.customClass[O])}},Zn=(E,D)=>{if(!D)return null;switch(D){case"select":case"textarea":case"file":return E.querySelector(`.${z.popup} > .${z[D]}`);case"checkbox":return E.querySelector(`.${z.popup} > .${z.checkbox} input`);case"radio":return E.querySelector(`.${z.popup} > .${z.radio} input:checked`)||E.querySelector(`.${z.popup} > .${z.radio} input:first-child`);case"range":return E.querySelector(`.${z.popup} > .${z.range} input`);default:return E.querySelector(`.${z.popup} > .${z.input}`)}},Mn=E=>{if(E.focus(),"file"!==E.type){const D=E.value;E.value="",E.value=D}},Gn=(E,D,O)=>{!E||!D||("string"==typeof D&&(D=D.split(/\s+/).filter(Boolean)),D.forEach(G=>{Array.isArray(E)?E.forEach(_e=>{O?_e.classList.add(G):_e.classList.remove(G)}):O?E.classList.add(G):E.classList.remove(G)}))},Ut=(E,D)=>{Gn(E,D,!0)},Jn=(E,D)=>{Gn(E,D,!1)},rt=(E,D)=>{const O=Array.from(E.children);for(let G=0;G<O.length;G++){const _e=O[G];if(_e instanceof HTMLElement&&Wt(_e,D))return _e}},Hn=(E,D,O)=>{O===`${parseInt(O)}`&&(O=parseInt(O)),O||0===parseInt(O)?E.style[D]="number"==typeof O?`${O}px`:O:E.style.removeProperty(D)},un=function(E){E&&(E.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex")},dn=E=>{E&&(E.style.display="none")},yi=(E,D,O,G)=>{const _e=E.querySelector(D);_e&&(_e.style[O]=G)},br=function(E,D){D?un(E,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):dn(E)},pn=E=>!(!E||!(E.offsetWidth||E.offsetHeight||E.getClientRects().length)),Qt=E=>E.scrollHeight>E.clientHeight,ft=E=>{const D=window.getComputedStyle(E),O=parseFloat(D.getPropertyValue("animation-duration")||"0"),G=parseFloat(D.getPropertyValue("transition-duration")||"0");return O>0||G>0},Tt=function(E){let D=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const O=Ae();pn(O)&&(D&&(O.style.transition="none",O.style.width="100%"),setTimeout(()=>{O.style.transition=`width ${E/1e3}s linear`,O.style.width="0%"},10))},zr=()=>typeof window>"u"||typeof document>"u",fr=`\n <div aria-labelledby="${z.title}" aria-describedby="${z["html-container"]}" class="${z.popup}" tabindex="-1">\n   <button type="button" class="${z.close}"></button>\n   <ul class="${z["progress-steps"]}"></ul>\n   <div class="${z.icon}"></div>\n   <img class="${z.image}" />\n   <h2 class="${z.title}" id="${z.title}"></h2>\n   <div class="${z["html-container"]}" id="${z["html-container"]}"></div>\n   <input class="${z.input}" id="${z.input}" />\n   <input type="file" class="${z.file}" />\n   <div class="${z.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${z.select}" id="${z.select}"></select>\n   <div class="${z.radio}"></div>\n   <label class="${z.checkbox}">\n     <input type="checkbox" id="${z.checkbox}" />\n     <span class="${z.label}"></span>\n   </label>\n   <textarea class="${z.textarea}" id="${z.textarea}"></textarea>\n   <div class="${z["validation-message"]}" id="${z["validation-message"]}"></div>\n   <div class="${z.actions}">\n     <div class="${z.loader}"></div>\n     <button type="button" class="${z.confirm}"></button>\n     <button type="button" class="${z.deny}"></button>\n     <button type="button" class="${z.cancel}"></button>\n   </div>\n   <div class="${z.footer}"></div>\n   <div class="${z["timer-progress-bar-container"]}">\n     <div class="${z["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),It=()=>{U.currentInstance.resetValidationMessage()},Kn=E=>{const D=(()=>{const E=st();return!!E&&(E.remove(),Jn([document.documentElement,document.body],[z["no-backdrop"],z["toast-shown"],z["has-column"]]),!0)})();if(zr())return void ne("SweetAlert2 requires document to initialize");const O=document.createElement("div");O.className=z.container,D&&Ut(O,z["no-transition"]),gt(O,fr);const G=(E=>"string"==typeof E?document.querySelector(E):E)(E.target);G.appendChild(O),(E=>{const D=me();D.setAttribute("role",E.toast?"alert":"dialog"),D.setAttribute("aria-live",E.toast?"polite":"assertive"),E.toast||D.setAttribute("aria-modal","true")})(E),(E=>{"rtl"===window.getComputedStyle(E).direction&&Ut(st(),z.rtl)})(G),(()=>{const E=me(),D=rt(E,z.input),O=rt(E,z.file),G=E.querySelector(`.${z.range} input`),_e=E.querySelector(`.${z.range} output`),yt=rt(E,z.select),Zt=E.querySelector(`.${z.checkbox} input`),Qn=rt(E,z.textarea);D.oninput=It,O.onchange=It,yt.onchange=It,Zt.onchange=It,Qn.oninput=It,G.oninput=()=>{It(),_e.value=G.value},G.onchange=()=>{It(),_e.value=G.value}})()},Cn=(E,D)=>{E instanceof HTMLElement?D.appendChild(E):"object"==typeof E?or(E,D):E&&gt(D,E)},or=(E,D)=>{E.jquery?$n(D,E):gt(D,E.toString())},$n=(E,D)=>{if(E.textContent="",0 in D)for(let O=0;O in D;O++)E.appendChild(D[O].cloneNode(!0));else E.appendChild(D.cloneNode(!0))},pr=(()=>{if(zr())return!1;const E=document.createElement("div"),D={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const O in D)if(Object.prototype.hasOwnProperty.call(D,O)&&typeof E.style[O]<"u")return D[O];return!1})(),sr=(E,D)=>{const O=ae(),G=jr();!O||!G||(D.showConfirmButton||D.showDenyButton||D.showCancelButton?un(O):dn(O),Yt(O,D,"actions"),function _i(E,D,O){const G=nt(),_e=kn(),yt=Nr();!G||!_e||!yt||(Cr(G,"confirm",O),Cr(_e,"deny",O),Cr(yt,"cancel",O),function gr(E,D,O,G){G.buttonsStyling?(Ut([E,D,O],z.styled),G.confirmButtonColor&&(E.style.backgroundColor=G.confirmButtonColor,Ut(E,z["default-outline"])),G.denyButtonColor&&(D.style.backgroundColor=G.denyButtonColor,Ut(D,z["default-outline"])),G.cancelButtonColor&&(O.style.backgroundColor=G.cancelButtonColor,Ut(O,z["default-outline"]))):Jn([E,D,O],z.styled)}(G,_e,yt,O),O.reverseButtons&&(O.toast?(E.insertBefore(yt,G),E.insertBefore(_e,G)):(E.insertBefore(yt,D),E.insertBefore(_e,D),E.insertBefore(G,D))))}(O,G,D),gt(G,D.loaderHtml||""),Yt(G,D,"loader"))};function Cr(E,D,O){const G=Y(D);br(E,O[`show${G}Button`],"inline-block"),gt(E,O[`${D}ButtonText`]||""),E.setAttribute("aria-label",O[`${D}ButtonAriaLabel`]||""),E.className=z[D],Yt(E,O,`${D}Button`)}const W=(E,D)=>{const O=st();!O||(function B(E,D){"string"==typeof D?E.style.background=D:D||Ut([document.documentElement,document.body],z["no-backdrop"])}(O,D.backdrop),function V(E,D){!D||(D in z?Ut(E,z[D]):(Z('The "position" parameter is not valid, defaulting to "center"'),Ut(E,z.center)))}(O,D.position),function F(E,D){!D||Ut(E,z[`grow-${D}`])}(O,D.grow),Yt(O,D,"container"))};const te=["input","file","range","select","radio","checkbox","textarea"],Xe=E=>{if(!In[E.input])return void ne(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${E.input}"`);const D=Bt(E.input),O=In[E.input](D,E);un(D),E.inputAutoFocus&&setTimeout(()=>{Mn(O)})},xe=(E,D)=>{const O=Zn(me(),E);if(O){(E=>{for(let D=0;D<E.attributes.length;D++){const O=E.attributes[D].name;["id","type","value","style"].includes(O)||E.removeAttribute(O)}})(O);for(const G in D)O.setAttribute(G,D[G])}},it=E=>{const D=Bt(E.input);"object"==typeof E.customClass&&Ut(D,E.customClass.input)},ct=(E,D)=>{(!E.placeholder||D.inputPlaceholder)&&(E.placeholder=D.inputPlaceholder)},Jt=(E,D,O)=>{if(O.inputLabel){const G=document.createElement("label"),_e=z["input-label"];G.setAttribute("for",E.id),G.className=_e,"object"==typeof O.customClass&&Ut(G,O.customClass.inputLabel),G.innerText=O.inputLabel,D.insertAdjacentElement("beforebegin",G)}},Bt=E=>rt(me(),z[E]||z.input),rn=(E,D)=>{["string","number"].includes(typeof D)?E.value=`${D}`:wt(D)||Z(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof D}"`)},In={};In.text=In.email=In.password=In.number=In.tel=In.url=(E,D)=>(rn(E,D.inputValue),Jt(E,E,D),ct(E,D),E.type=D.input,E),In.file=(E,D)=>(Jt(E,E,D),ct(E,D),E),In.range=(E,D)=>{const O=E.querySelector("input"),G=E.querySelector("output");return rn(O,D.inputValue),O.type=D.input,rn(G,D.inputValue),Jt(O,E,D),E},In.select=(E,D)=>{if(E.textContent="",D.inputPlaceholder){const O=document.createElement("option");gt(O,D.inputPlaceholder),O.value="",O.disabled=!0,O.selected=!0,E.appendChild(O)}return Jt(E,E,D),E},In.radio=E=>(E.textContent="",E),In.checkbox=(E,D)=>{const O=Zn(me(),"checkbox");O.value="1",O.checked=Boolean(D.inputValue);const G=E.querySelector("span");return gt(G,D.inputPlaceholder),O},In.textarea=(E,D)=>{rn(E,D.inputValue),ct(E,D),Jt(E,E,D);return setTimeout(()=>{if("MutationObserver"in window){const G=parseInt(window.getComputedStyle(me()).width);new MutationObserver(()=>{if(!document.body.contains(E))return;const yt=E.offsetWidth+(G=>parseInt(window.getComputedStyle(G).marginLeft)+parseInt(window.getComputedStyle(G).marginRight))(E);yt>G?me().style.width=`${yt}px`:Hn(me(),"width",D.width)}).observe(E,{attributes:!0,attributeFilter:["style"]})}}),E};const ce=(E,D)=>{const O=Qe();!O||(Yt(O,D,"htmlContainer"),D.html?(Cn(D.html,O),un(O,"block")):D.text?(O.textContent=D.text,un(O,"block")):dn(O),((E,D)=>{const O=me(),G=N.innerParams.get(E),_e=!G||D.input!==G.input;te.forEach(yt=>{const Zt=rt(O,z[yt]);xe(yt,D.inputAttributes),Zt.className=z[yt],_e&&dn(Zt)}),D.input&&(_e&&Xe(D),it(D))})(E,D))},je=(E,D)=>{for(const[O,G]of Object.entries(Ce))D.icon!==O&&Jn(E,G);Ut(E,D.icon&&Ce[D.icon]),on(E,D),Ft(),Yt(E,D,"icon")},Ft=()=>{const E=me();if(!E)return;const D=window.getComputedStyle(E).getPropertyValue("background-color"),O=E.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let G=0;G<O.length;G++)O[G].style.backgroundColor=D},qn=(E,D)=>{if(!D.icon&&!D.iconHtml)return;let O=E.innerHTML,G="";D.iconHtml?G=Fr(D.iconHtml):"success"===D.icon?(G='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',O=O.replace(/ style=".*?"/g,"")):"error"===D.icon?G='\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':D.icon&&(G=Fr({question:"?",warning:"!",info:"i"}[D.icon])),O.trim()!==G.trim()&&gt(E,G)},on=(E,D)=>{if(D.iconColor){E.style.color=D.iconColor,E.style.borderColor=D.iconColor;for(const O of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])yi(E,O,"backgroundColor",D.iconColor);yi(E,".swal2-success-ring","borderColor",D.iconColor)}},Fr=E=>`<div class="${z["icon-content"]}">${E}</div>`,ks=(E,D)=>{const O=D.showClass||{};E.className=`${z.popup} ${pn(E)?O.popup:""}`,D.toast?(Ut([document.documentElement,document.body],z["toast-shown"]),Ut(E,z.toast)):Ut(E,z.modal),Yt(E,D,"popup"),"string"==typeof D.customClass&&Ut(E,D.customClass),D.icon&&Ut(E,z[`icon-${D.icon}`])},fn=E=>{const D=document.createElement("li");return Ut(D,z["progress-step"]),gt(D,E),D},Fs=E=>{const D=document.createElement("li");return Ut(D,z["progress-step-line"]),E.progressStepsDistance&&Hn(D,"width",E.progressStepsDistance),D},_o=(E,D)=>{((E,D)=>{const O=st(),G=me();if(O&&G){if(D.toast){Hn(O,"width",D.width),G.style.width="100%";const _e=jr();_e&&G.insertBefore(_e,We())}else Hn(G,"width",D.width);Hn(G,"padding",D.padding),D.color&&(G.style.color=D.color),D.background&&(G.style.background=D.background),dn(Gt()),ks(G,D)}})(0,D),W(0,D),((E,D)=>{const O=mt();if(!O)return;const{progressSteps:G,currentProgressStep:_e}=D;G&&0!==G.length&&void 0!==_e?(un(O),O.textContent="",_e>=G.length&&Z("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),G.forEach((yt,Zt)=>{const Qn=fn(yt);if(O.appendChild(Qn),Zt===_e&&Ut(Qn,z["active-progress-step"]),Zt!==G.length-1){const jn=Fs(D);O.appendChild(jn)}})):dn(O)})(0,D),((E,D)=>{const O=N.innerParams.get(E),G=We();if(G){if(O&&D.icon===O.icon)return qn(G,D),void je(G,D);if(!D.icon&&!D.iconHtml)return void dn(G);if(D.icon&&-1===Object.keys(Ce).indexOf(D.icon))return ne(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${D.icon}"`),void dn(G);un(G),qn(G,D),je(G,D),Ut(G,D.showClass&&D.showClass.icon)}})(E,D),((E,D)=>{const O=Nt();if(O){if(!D.imageUrl)return void dn(O);un(O,""),O.setAttribute("src",D.imageUrl),O.setAttribute("alt",D.imageAlt||""),Hn(O,"width",D.imageWidth),Hn(O,"height",D.imageHeight),O.className=z.image,Yt(O,D,"image")}})(0,D),((E,D)=>{const O=de();!O||(br(O,D.title||D.titleText,"block"),D.title&&Cn(D.title,O),D.titleText&&(O.innerText=D.titleText),Yt(O,D,"title"))})(0,D),((E,D)=>{const O=pe();!O||(gt(O,D.closeButtonHtml||""),Yt(O,D,"closeButton"),br(O,D.showCloseButton),O.setAttribute("aria-label",D.closeButtonAriaLabel||""))})(0,D),ce(E,D),sr(0,D),((E,D)=>{const O=oe();!O||(br(O,D.footer),D.footer&&Cn(D.footer,O),Yt(O,D,"footer"))})(0,D);const O=me();"function"==typeof D.didRender&&O&&D.didRender(O)},$i=()=>nt()&&nt().click(),wn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),pl=E=>{E.keydownTarget&&E.keydownHandlerAdded&&(E.keydownTarget.removeEventListener("keydown",E.keydownHandler,{capture:E.keydownListenerCapture}),E.keydownHandlerAdded=!1)},Ir=(E,D)=>{const O=ke();if(O.length)return(E+=D)===O.length?E=0:-1===E&&(E=O.length-1),void O[E].focus();me().focus()},ss=["ArrowRight","ArrowDown"],io=["ArrowLeft","ArrowUp"],Ls=(E,D,O)=>{const G=N.innerParams.get(E);!G||D.isComposing||229===D.keyCode||(G.stopKeydownPropagation&&D.stopPropagation(),"Enter"===D.key?vi(E,D,G):"Tab"===D.key?Vs(D):[...ss,...io].includes(D.key)?gl(D.key):"Escape"===D.key&&Us(D,G,O))},vi=(E,D,O)=>{if(tt(O.allowEnterKey)&&D.target&&E.getInput()&&D.target instanceof HTMLElement&&D.target.outerHTML===E.getInput().outerHTML){if(["textarea","file"].includes(O.input))return;$i(),D.preventDefault()}},Vs=E=>{const D=E.target,O=ke();let G=-1;for(let _e=0;_e<O.length;_e++)if(D===O[_e]){G=_e;break}Ir(G,E.shiftKey?-1:1),E.stopPropagation(),E.preventDefault()},gl=E=>{const D=nt(),O=kn(),G=Nr();if(document.activeElement instanceof HTMLElement&&![D,O,G].includes(document.activeElement))return;const yt=ss.includes(E)?"nextElementSibling":"previousElementSibling";let Zt=document.activeElement;for(let Qn=0;Qn<ae().children.length;Qn++){if(Zt=Zt[yt],!Zt)return;if(Zt instanceof HTMLButtonElement&&pn(Zt))break}Zt instanceof HTMLButtonElement&&Zt.focus()},Us=(E,D,O)=>{tt(D.allowEscapeKey)&&(E.preventDefault(),O(wn.esc))};var wi={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Pn=()=>{Array.from(document.body.children).forEach(D=>{D.hasAttribute("data-previous-aria-hidden")?(D.setAttribute("aria-hidden",D.getAttribute("data-previous-aria-hidden")||""),D.removeAttribute("data-previous-aria-hidden")):D.removeAttribute("aria-hidden")})},Ca=typeof window<"u"&&!!window.GestureEvent,Id=()=>{const E=st();let D;E.ontouchstart=O=>{D=ml(O)},E.ontouchmove=O=>{D&&(O.preventDefault(),O.stopPropagation())}},ml=E=>{const D=E.target,O=st();return!yl(E)&&!Ea(E)&&(D===O||!Qt(O)&&D instanceof HTMLElement&&"INPUT"!==D.tagName&&"TEXTAREA"!==D.tagName&&!(Qt(Qe())&&Qe().contains(D)))},yl=E=>E.touches&&E.touches.length&&"stylus"===E.touches[0].touchType,Ea=E=>E.touches&&E.touches.length>1;let Ro=null;const oc=()=>{null===Ro&&document.body.scrollHeight>window.innerHeight&&(Ro=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Ro+(()=>{const E=document.createElement("div");E.className=z["scrollbar-measure"],document.body.appendChild(E);const D=E.getBoundingClientRect().width-E.clientWidth;return document.body.removeChild(E),D})()}px`)};function Bs(E,D,O,G){xt()?Hs(E,G):(q(O).then(()=>Hs(E,G)),pl(U)),Ca?(D.setAttribute("style","display:none !important"),D.removeAttribute("class"),D.innerHTML=""):D.remove(),ut()&&(null!==Ro&&(document.body.style.paddingRight=`${Ro}px`,Ro=null),(()=>{if(Wt(document.body,z.iosfix)){const E=parseInt(document.body.style.top,10);Jn(document.body,z.iosfix),document.body.style.top="",document.body.scrollTop=-1*E}})(),Pn()),function ou(){Jn([document.documentElement,document.body],[z.shown,z["height-auto"],z["no-backdrop"],z["toast-shown"]])}()}function Mi(E){E=ko(E);const D=wi.swalPromiseResolve.get(this),O=_l(this);this.isAwaitingPromise?E.isDismissed||(oo(this),D(E)):O&&D(E)}const _l=E=>{const D=me();if(!D)return!1;const O=N.innerParams.get(E);if(!O||Wt(D,O.hideClass.popup))return!1;Jn(D,O.showClass.popup),Ut(D,O.hideClass.popup);const G=st();return Jn(G,O.showClass.backdrop),Ut(G,O.hideClass.backdrop),ji(E,D,O),!0};function vo(E){const D=wi.swalPromiseReject.get(this);oo(this),D&&D(E)}const oo=E=>{E.isAwaitingPromise&&(delete E.isAwaitingPromise,N.innerParams.get(E)||E._destroy())},ko=E=>typeof E>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},E),ji=(E,D,O)=>{const G=st(),_e=pr&&ft(D);"function"==typeof O.willClose&&O.willClose(D),_e?vl(E,D,G,O.returnFocus,O.didClose):Bs(E,G,O.returnFocus,O.didClose)},vl=(E,D,O,G,_e)=>{U.swalCloseEventFinishedCallback=Bs.bind(null,E,O,G,_e),D.addEventListener(pr,function(yt){yt.target===D&&(U.swalCloseEventFinishedCallback(),delete U.swalCloseEventFinishedCallback)})},Hs=(E,D)=>{setTimeout(()=>{"function"==typeof D&&D.bind(E.params)(),E._destroy&&E._destroy()})},wo=E=>{let D=me();D||new gs,D=me();const O=jr();xt()?dn(We()):$s(D,E),un(O),D.setAttribute("data-loading","true"),D.setAttribute("aria-busy","true"),D.focus()},$s=(E,D)=>{const O=ae(),G=jr();!D&&pn(nt())&&(D=nt()),un(O),D&&(dn(D),G.setAttribute("data-button-to-replace",D.className)),G.parentNode.insertBefore(G,D),Ut([E,O],z.loading)},ac=E=>E.checked?1:0,Ia=E=>E.checked?E.value:null,bl=E=>E.files.length?null!==E.getAttribute("multiple")?E.files:E.files[0]:null,er=(E,D)=>{const O=me(),G=_e=>{Td[D.input](O,zi(_e),D)};De(D.inputOptions)||wt(D.inputOptions)?(wo(nt()),be(D.inputOptions).then(_e=>{E.hideLoading(),G(_e)})):"object"==typeof D.inputOptions?G(D.inputOptions):ne("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof D.inputOptions)},so=(E,D)=>{const O=E.getInput();dn(O),be(D.inputValue).then(G=>{O.value="number"===D.input?`${parseFloat(G)||0}`:`${G}`,un(O),O.focus(),E.hideLoading()}).catch(G=>{ne(`Error in inputValue promise: ${G}`),O.value="",un(O),O.focus(),E.hideLoading()})},Td={select:(E,D,O)=>{const G=rt(E,z.select),_e=(yt,Zt,Qn)=>{const jn=document.createElement("option");jn.value=Qn,gt(jn,Zt),jn.selected=Sd(Qn,O.inputValue),yt.appendChild(jn)};D.forEach(yt=>{const Zt=yt[0],Qn=yt[1];if(Array.isArray(Qn)){const jn=document.createElement("optgroup");jn.label=Zt,jn.disabled=!1,G.appendChild(jn),Qn.forEach(Vr=>_e(jn,Vr[1],Vr[0]))}else _e(G,Qn,Zt)}),G.focus()},radio:(E,D,O)=>{const G=rt(E,z.radio);D.forEach(yt=>{const Zt=yt[0],Qn=yt[1],jn=document.createElement("input"),Vr=document.createElement("label");jn.type="radio",jn.name=z.radio,jn.value=Zt,Sd(Zt,O.inputValue)&&(jn.checked=!0);const ms=document.createElement("span");gt(ms,Qn),ms.className=z.label,Vr.appendChild(jn),Vr.appendChild(ms),G.appendChild(Vr)});const _e=G.querySelectorAll("input");_e.length&&_e[0].focus()}},zi=E=>{const D=[];return typeof Map<"u"&&E instanceof Map?E.forEach((O,G)=>{let _e=O;"object"==typeof _e&&(_e=zi(_e)),D.push([G,_e])}):Object.keys(E).forEach(O=>{let G=E[O];"object"==typeof G&&(G=zi(G)),D.push([O,G])}),D},Sd=(E,D)=>D&&D.toString()===E.toString(),Da=(E,D)=>{const O=N.innerParams.get(E);if(!O.input)return void ne(`The "input" parameter is needed to be set when using returnInputValueOn${Y(D)}`);const G=((E,D)=>{const O=E.getInput();if(!O)return null;switch(D.input){case"checkbox":return ac(O);case"radio":return Ia(O);case"file":return bl(O);default:return D.inputAutoTrim?O.value.trim():O.value}})(E,O);O.inputValidator?No(E,G,D):E.getInput().checkValidity()?"deny"===D?Gr(E,G):ai(E,G):(E.enableButtons(),E.showValidationMessage(O.validationMessage))},No=(E,D,O)=>{const G=N.innerParams.get(E);E.disableInput(),Promise.resolve().then(()=>be(G.inputValidator(D,G.validationMessage))).then(yt=>{E.enableButtons(),E.enableInput(),yt?E.showValidationMessage(yt):"deny"===O?Gr(E,D):ai(E,D)})},Gr=(E,D)=>{const O=N.innerParams.get(E||void 0);O.showLoaderOnDeny&&wo(kn()),O.preDeny?(E.isAwaitingPromise=!0,Promise.resolve().then(()=>be(O.preDeny(D,O.validationMessage))).then(_e=>{!1===_e?(E.hideLoading(),oo(E)):E.close({isDenied:!0,value:typeof _e>"u"?D:_e})}).catch(_e=>Ta(E||void 0,_e))):E.close({isDenied:!0,value:D})},Cl=(E,D)=>{E.close({isConfirmed:!0,value:D})},Ta=(E,D)=>{E.rejectPromise(D)},ai=(E,D)=>{const O=N.innerParams.get(E||void 0);O.showLoaderOnConfirm&&wo(),O.preConfirm?(E.resetValidationMessage(),E.isAwaitingPromise=!0,Promise.resolve().then(()=>be(O.preConfirm(D,O.validationMessage))).then(_e=>{pn(Gt())||!1===_e?(E.hideLoading(),oo(E)):Cl(E,typeof _e>"u"?D:_e)}).catch(_e=>Ta(E||void 0,_e))):Cl(E,D)};function dr(){const E=N.innerParams.get(this);if(!E)return;const D=N.domCache.get(this);dn(D.loader),xt()?E.icon&&un(We()):El(D),Jn([D.popup,D.actions],z.loading),D.popup.removeAttribute("aria-busy"),D.popup.removeAttribute("data-loading"),D.confirmButton.disabled=!1,D.denyButton.disabled=!1,D.cancelButton.disabled=!1}const El=E=>{const D=E.popup.getElementsByClassName(E.loader.getAttribute("data-button-to-replace"));D.length?un(D[0],"inline-block"):!pn(nt())&&!pn(kn())&&!pn(Nr())&&dn(E.actions)};function js(){const E=N.innerParams.get(this),D=N.domCache.get(this);return D?Zn(D.popup,E.input):null}function ls(E,D,O){const G=N.domCache.get(E);D.forEach(_e=>{G[_e].disabled=O})}function li(E,D){if(E)if("radio"===E.type){const G=E.parentNode.parentNode.querySelectorAll("input");for(let _e=0;_e<G.length;_e++)G[_e].disabled=D}else E.disabled=D}function mr(){ls(this,["confirmButton","denyButton","cancelButton"],!1)}function Fo(){ls(this,["confirmButton","denyButton","cancelButton"],!0)}function Lt(){li(this.getInput(),!1)}function zs(){li(this.getInput(),!0)}function Sa(E){const D=N.domCache.get(this),O=N.innerParams.get(this);gt(D.validationMessage,E),D.validationMessage.className=z["validation-message"],O.customClass&&O.customClass.validationMessage&&Ut(D.validationMessage,O.customClass.validationMessage),un(D.validationMessage);const G=this.getInput();G&&(G.setAttribute("aria-invalid",!0),G.setAttribute("aria-describedby",z["validation-message"]),Mn(G),Ut(G,z.inputerror))}function xa(){const E=N.domCache.get(this);E.validationMessage&&dn(E.validationMessage);const D=this.getInput();D&&(D.removeAttribute("aria-invalid"),D.removeAttribute("aria-describedby"),Jn(D,z.inputerror))}const Lo={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},au=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Aa={},Pi=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Gs=E=>Object.prototype.hasOwnProperty.call(Lo,E),Fe=E=>-1!==au.indexOf(E),nn=E=>Aa[E],Il=E=>{Gs(E)||Z(`Unknown parameter "${E}"`)},Ma=E=>{Pi.includes(E)&&Z(`The parameter "${E}" is incompatible with toasts`)},tr=E=>{const D=nn(E);D&&Me(E,D)};function ao(E){const D=me(),O=N.innerParams.get(this);if(!D||Wt(D,O.hideClass.popup))return void Z("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const G=bi(E),_e=Object.assign({},O,G);_o(this,_e),N.innerParams.set(this,_e),Object.defineProperties(this,{params:{value:Object.assign({},this.params,E),writable:!1,enumerable:!0}})}const bi=E=>{const D={};return Object.keys(E).forEach(O=>{Fe(O)?D[O]=E[O]:Z(`Invalid parameter to update: ${O}`)}),D};function cs(){const E=N.domCache.get(this),D=N.innerParams.get(this);D?(E.popup&&U.swalCloseEventFinishedCallback&&(U.swalCloseEventFinishedCallback(),delete U.swalCloseEventFinishedCallback),"function"==typeof D.didDestroy&&D.didDestroy(),Pa(this)):Dl(this)}const Pa=E=>{Dl(E),delete E.params,delete U.keydownHandler,delete U.keydownTarget,delete U.currentInstance},Dl=E=>{E.isAwaitingPromise?(Fn(N,E),E.isAwaitingPromise=!0):(Fn(wi,E),Fn(N,E),delete E.isAwaitingPromise,delete E.disableButtons,delete E.enableButtons,delete E.getInput,delete E.disableInput,delete E.enableInput,delete E.hideLoading,delete E.disableLoading,delete E.showValidationMessage,delete E.resetValidationMessage,delete E.close,delete E.closePopup,delete E.closeModal,delete E.closeToast,delete E.rejectPromise,delete E.update,delete E._destroy)},Fn=(E,D)=>{for(const O in E)E[O].delete(D)};var sf=Object.freeze({__proto__:null,_destroy:cs,close:Mi,closeModal:Mi,closePopup:Mi,closeToast:Mi,disableButtons:Fo,disableInput:zs,disableLoading:dr,enableButtons:mr,enableInput:Lt,getInput:js,handleAwaitingPromise:oo,hideLoading:dr,rejectPromise:vo,resetValidationMessage:xa,showValidationMessage:Sa,update:ao});const ci=(E,D,O)=>{D.popup.onclick=()=>{const G=N.innerParams.get(E);G&&(qr(G)||G.timer||G.input)||O(wn.close)}},qr=E=>E.showConfirmButton||E.showDenyButton||E.showCancelButton||E.showCloseButton;let Lr=!1;const Vo=E=>{E.popup.onmousedown=()=>{E.container.onmouseup=function(D){E.container.onmouseup=void 0,D.target===E.container&&(Lr=!0)}}},ui=E=>{E.container.onmousedown=()=>{E.popup.onmouseup=function(D){E.popup.onmouseup=void 0,(D.target===E.popup||E.popup.contains(D.target))&&(Lr=!0)}}},Ws=(E,D,O)=>{D.container.onclick=G=>{const _e=N.innerParams.get(E);Lr?Lr=!1:G.target===D.container&&tt(_e.allowOutsideClick)&&O(wn.backdrop)}},Sl=E=>E instanceof Element||(E=>"object"==typeof E&&E.jquery)(E);const Wr=()=>{if(U.timeout)return(()=>{const E=Ae(),D=parseInt(window.getComputedStyle(E).width);E.style.removeProperty("transition"),E.style.width="100%";const O=parseInt(window.getComputedStyle(E).width);E.style.width=D/O*100+"%"})(),U.timeout.stop()},Ks=()=>{if(U.timeout){const E=U.timeout.start();return Tt(E),E}};let ds=!1;const Qs={};const bo=E=>{for(let D=E.target;D&&D!==document;D=D.parentNode)for(const O in Qs){const G=D.getAttribute(O);if(G)return void Qs[O].fire({template:G})}};var uc=Object.freeze({__proto__:null,argsToParams:E=>{const D={};return"object"!=typeof E[0]||Sl(E[0])?["title","html","icon"].forEach((O,G)=>{const _e=E[G];"string"==typeof _e||Sl(_e)?D[O]=_e:void 0!==_e&&ne(`Unexpected type of ${O}! Expected "string" or "Element", got ${typeof _e}`)}):Object.assign(D,E[0]),D},bindClickHandler:function cc(){Qs[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,ds||(document.body.addEventListener("click",bo),ds=!0)},clickCancel:()=>Nr()&&Nr().click(),clickConfirm:$i,clickDeny:()=>kn()&&kn().click(),enableLoading:wo,fire:function Zs(){const E=this;for(var D=arguments.length,O=new Array(D),G=0;G<D;G++)O[G]=arguments[G];return new E(...O)},getActions:ae,getCancelButton:Nr,getCloseButton:pe,getConfirmButton:nt,getContainer:st,getDenyButton:kn,getFocusableElements:ke,getFooter:oe,getHtmlContainer:Qe,getIcon:We,getIconContent:()=>Ee(z["icon-content"]),getImage:Nt,getInputLabel:()=>Ee(z["input-label"]),getLoader:jr,getPopup:me,getProgressSteps:mt,getTimerLeft:()=>U.timeout&&U.timeout.getTimerLeft(),getTimerProgressBar:Ae,getTitle:de,getValidationMessage:Gt,increaseTimer:E=>{if(U.timeout){const D=U.timeout.increase(E);return Tt(D,!0),D}},isDeprecatedParameter:nn,isLoading:()=>{const E=me();return!!E&&E.hasAttribute("data-loading")},isTimerRunning:()=>!(!U.timeout||!U.timeout.isRunning()),isUpdatableParameter:Fe,isValidParameter:Gs,isVisible:()=>pn(me()),mixin:function xl(E){return class D extends(this){_main(G,_e){return super._main(G,Object.assign({},E,_e))}}},resumeTimer:Ks,showLoading:wo,stopTimer:Wr,toggleTimer:()=>{const E=U.timeout;return E&&(E.running?Wr():Ks())}});class xd{constructor(D,O){this.callback=D,this.remaining=O,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(D){const O=this.running;return O&&this.stop(),this.remaining+=D,O&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const _n=["swal-title","swal-html","swal-footer"],On=E=>{const D={};return Array.from(E.querySelectorAll("swal-param")).forEach(G=>{di(G,["name","value"]);const _e=G.getAttribute("name"),yt=G.getAttribute("value");D[_e]="boolean"==typeof Lo[_e]?"false"!==yt:"object"==typeof Lo[_e]?JSON.parse(yt):yt}),D},lu=E=>{const D={};return Array.from(E.querySelectorAll("swal-function-param")).forEach(G=>{const _e=G.getAttribute("name"),yt=G.getAttribute("value");D[_e]=new Function(`return ${yt}`)()}),D},Ra=E=>{const D={};return Array.from(E.querySelectorAll("swal-button")).forEach(G=>{di(G,["type","color","aria-label"]);const _e=G.getAttribute("type");D[`${_e}ButtonText`]=G.innerHTML,D[`show${Y(_e)}Button`]=!0,G.hasAttribute("color")&&(D[`${_e}ButtonColor`]=G.getAttribute("color")),G.hasAttribute("aria-label")&&(D[`${_e}ButtonAriaLabel`]=G.getAttribute("aria-label"))}),D},dc=E=>{const D={},O=E.querySelector("swal-image");return O&&(di(O,["src","width","height","alt"]),O.hasAttribute("src")&&(D.imageUrl=O.getAttribute("src")),O.hasAttribute("width")&&(D.imageWidth=O.getAttribute("width")),O.hasAttribute("height")&&(D.imageHeight=O.getAttribute("height")),O.hasAttribute("alt")&&(D.imageAlt=O.getAttribute("alt"))),D},ka=E=>{const D={},O=E.querySelector("swal-icon");return O&&(di(O,["type","color"]),O.hasAttribute("type")&&(D.icon=O.getAttribute("type")),O.hasAttribute("color")&&(D.iconColor=O.getAttribute("color")),D.iconHtml=O.innerHTML),D},hc=E=>{const D={},O=E.querySelector("swal-input");O&&(di(O,["type","label","placeholder","value"]),D.input=O.getAttribute("type")||"text",O.hasAttribute("label")&&(D.inputLabel=O.getAttribute("label")),O.hasAttribute("placeholder")&&(D.inputPlaceholder=O.getAttribute("placeholder")),O.hasAttribute("value")&&(D.inputValue=O.getAttribute("value")));const G=Array.from(E.querySelectorAll("swal-input-option"));return G.length&&(D.inputOptions={},G.forEach(_e=>{di(_e,["value"]);const yt=_e.getAttribute("value");D.inputOptions[yt]=_e.innerHTML})),D},Js=(E,D)=>{const O={};for(const G in D){const _e=D[G],yt=E.querySelector(_e);yt&&(di(yt,[]),O[_e.replace(/^swal-/,"")]=yt.innerHTML.trim())}return O},Xs=E=>{const D=_n.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(E.children).forEach(O=>{const G=O.tagName.toLowerCase();D.includes(G)||Z(`Unrecognized element <${G}>`)})},di=(E,D)=>{Array.from(E.attributes).forEach(O=>{-1===D.indexOf(O.name)&&Z([`Unrecognized attribute "${O.name}" on <${E.tagName.toLowerCase()}>.`,D.length?`Allowed attributes are: ${D.join(", ")}`:"To set the value, use HTML within the element."])})},Na=E=>{const D=st(),O=me();"function"==typeof E.willOpen&&E.willOpen(O);const _e=window.getComputedStyle(document.body).overflowY;hs(D,O,E),setTimeout(()=>{cu(D,O)},10),ut()&&(Gi(D,E.scrollbarPadding,_e),Array.from(document.body.children).forEach(D=>{D===st()||D.contains(st())||(D.hasAttribute("aria-hidden")&&D.setAttribute("data-previous-aria-hidden",D.getAttribute("aria-hidden")||""),D.setAttribute("aria-hidden","true"))})),!xt()&&!U.previousActiveElement&&(U.previousActiveElement=document.activeElement),"function"==typeof E.didOpen&&setTimeout(()=>E.didOpen(O)),Jn(D,z["no-transition"])},Fa=E=>{const D=me();if(E.target!==D)return;const O=st();D.removeEventListener(pr,Fa),O.style.overflowY="auto"},cu=(E,D)=>{pr&&ft(D)?(E.style.overflowY="hidden",D.addEventListener(pr,Fa)):E.style.overflowY="auto"},Gi=(E,D,O)=>{(()=>{if(Ca&&!Wt(document.body,z.iosfix)){const E=document.body.scrollTop;document.body.style.top=-1*E+"px",Ut(document.body,z.iosfix),Id()}})(),D&&"hidden"!==O&&oc(),setTimeout(()=>{E.scrollTop=0})},hs=(E,D,O)=>{Ut(E,O.showClass.backdrop),D.style.setProperty("opacity","0","important"),un(D,"grid"),setTimeout(()=>{Ut(D,O.showClass.popup),D.style.removeProperty("opacity")},10),Ut([document.documentElement,document.body],z.shown),O.heightAuto&&O.backdrop&&!O.toast&&Ut([document.documentElement,document.body],z["height-auto"])};var Ml_email=(E,D)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(E)?Promise.resolve():Promise.resolve(D||"Invalid email address"),Ml_url=(E,D)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(E)?Promise.resolve():Promise.resolve(D||"Invalid URL");function fc(E){(function fs(E){E.inputValidator||("email"===E.input&&(E.inputValidator=Ml_email),"url"===E.input&&(E.inputValidator=Ml_url))})(E),E.showLoaderOnConfirm&&!E.preConfirm&&Z("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Ho(E){(!E.target||"string"==typeof E.target&&!document.querySelector(E.target)||"string"!=typeof E.target&&!E.target.appendChild)&&(Z('Target parameter is not valid, defaulting to "body"'),E.target="body")}(E),"string"==typeof E.title&&(E.title=E.title.split("\n").join("<br />")),Kn(E)}let Ci;class nr{constructor(){if(typeof window>"u")return;Ci=this;for(var D=arguments.length,O=new Array(D),G=0;G<D;G++)O[G]=arguments[G];const _e=Object.freeze(this.constructor.argsToParams(O));this.params=_e,this.isAwaitingPromise=!1;const yt=Ci._main(Ci.params);N.promise.set(this,yt)}_main(D){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(E=>{!1===E.backdrop&&E.allowOutsideClick&&Z('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const D in E)Il(D),E.toast&&Ma(D),tr(D)})(Object.assign({},O,D)),U.currentInstance&&(U.currentInstance._destroy(),ut()&&Pn()),U.currentInstance=Ci;const G=La(D,O);fc(G),Object.freeze(G),U.timeout&&(U.timeout.stop(),delete U.timeout),clearTimeout(U.restoreFocusTimeout);const _e=Ol(Ci);return _o(Ci,G),N.innerParams.set(Ci,G),Pl(Ci,_e,G)}then(D){return N.promise.get(this).then(D)}finally(D){return N.promise.get(this).finally(D)}}const Pl=(E,D,O)=>new Promise((G,_e)=>{const yt=Zt=>{E.close({isDismissed:!0,dismiss:Zt})};wi.swalPromiseResolve.set(E,G),wi.swalPromiseReject.set(E,_e),D.confirmButton.onclick=()=>{(E=>{const D=N.innerParams.get(E);E.disableButtons(),D.input?Da(E,"confirm"):ai(E,!0)})(E)},D.denyButton.onclick=()=>{(E=>{const D=N.innerParams.get(E);E.disableButtons(),D.returnInputValueOnDeny?Da(E,"deny"):Gr(E,!1)})(E)},D.cancelButton.onclick=()=>{((E,D)=>{E.disableButtons(),D(wn.cancel)})(E,yt)},D.closeButton.onclick=()=>{yt(wn.close)},((E,D,O)=>{N.innerParams.get(E).toast?ci(E,D,O):(Vo(D),ui(D),Ws(E,D,O))})(E,D,yt),((E,D,O,G)=>{pl(D),O.toast||(D.keydownHandler=_e=>Ls(E,_e,G),D.keydownTarget=O.keydownListenerCapture?window:me(),D.keydownListenerCapture=O.keydownListenerCapture,D.keydownTarget.addEventListener("keydown",D.keydownHandler,{capture:D.keydownListenerCapture}),D.keydownHandlerAdded=!0)})(E,U,O,yt),((E,D)=>{"select"===D.input||"radio"===D.input?er(E,D):["text","email","number","tel","textarea"].includes(D.input)&&(De(D.inputValue)||wt(D.inputValue))&&(wo(nt()),so(E,D))})(E,O),Na(O),Va(U,O,yt),pc(D,O),setTimeout(()=>{D.container.scrollTop=0})}),La=(E,D)=>{const O=(E=>{const D="string"==typeof E.template?document.querySelector(E.template):E.template;if(!D)return{};const O=D.content;return Xs(O),Object.assign(On(O),lu(O),Ra(O),dc(O),ka(O),hc(O),Js(O,_n))})(E),G=Object.assign({},Lo,D,O,E);return G.showClass=Object.assign({},Lo.showClass,G.showClass),G.hideClass=Object.assign({},Lo.hideClass,G.hideClass),G},Ol=E=>{const D={popup:me(),container:st(),actions:ae(),confirmButton:nt(),denyButton:kn(),cancelButton:Nr(),loader:jr(),closeButton:pe(),validationMessage:Gt(),progressSteps:mt()};return N.domCache.set(E,D),D},Va=(E,D,O)=>{const G=Ae();dn(G),D.timer&&(E.timeout=new xd(()=>{O("timer"),delete E.timeout},D.timer),D.timerProgressBar&&(un(G),Yt(G,D,"timerProgressBar"),setTimeout(()=>{E.timeout&&E.timeout.running&&Tt(D.timer)})))},pc=(E,D)=>{if(!D.toast){if(!tt(D.allowEnterKey))return void uu();ps(E,D)||Ir(-1,1)}},ps=(E,D)=>D.focusDeny&&pn(E.denyButton)?(E.denyButton.focus(),!0):D.focusCancel&&pn(E.cancelButton)?(E.cancelButton.focus(),!0):!(!D.focusConfirm||!pn(E.confirmButton)||(E.confirmButton.focus(),0)),uu=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const E=new Date,D=localStorage.getItem("swal-initiation");D?(E.getTime()-Date.parse(D))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const O=document.createElement("audio");O.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",O.loop=!0,document.body.appendChild(O),setTimeout(()=>{O.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${E}`)}nr.prototype.disableButtons=Fo,nr.prototype.enableButtons=mr,nr.prototype.getInput=js,nr.prototype.disableInput=zs,nr.prototype.enableInput=Lt,nr.prototype.hideLoading=dr,nr.prototype.disableLoading=dr,nr.prototype.showValidationMessage=Sa,nr.prototype.resetValidationMessage=xa,nr.prototype.close=Mi,nr.prototype.closePopup=Mi,nr.prototype.closeModal=Mi,nr.prototype.closeToast=Mi,nr.prototype.rejectPromise=vo,nr.prototype.update=ao,nr.prototype._destroy=cs,Object.assign(nr,uc),Object.keys(sf).forEach(E=>{nr[E]=function(){return Ci&&Ci[E]?Ci[E](...arguments):null}}),nr.DismissReason=wn,nr.version="11.7.20";const gs=nr;return gs.default=gs,gs}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(Ne,U){var c=Ne.createElement("style");if(Ne.getElementsByTagName("head")[0].appendChild(c),c.styleSheet)c.styleSheet.disabled||(c.styleSheet.cssText=U);else try{c.innerHTML=U}catch{c.innerText=U}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled).swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},4650:(Dt,Ne,U)=>{"use strict";U.d(Ne,{$8M:()=>Md,$Z:()=>lr,AFp:()=>Xv,ALo:()=>Nv,AaK:()=>Ce,AsE:()=>ph,BQk:()=>_r,CHM:()=>Il,CRH:()=>Rh,CZH:()=>Fp,CqO:()=>hT,D6c:()=>QS,DdM:()=>qC,EJc:()=>cl,EpF:()=>G_,F$t:()=>gT,F4k:()=>z0,FYo:()=>u_,FiY:()=>Co,G48:()=>Tn,Gf:()=>Ap,GfV:()=>d_,Gpc:()=>Z,Gre:()=>ov,Hsn:()=>mT,JOm:()=>po,Jf7:()=>vD,KtG:()=>Ma,LFG:()=>xr,LSH:()=>ku,Lbi:()=>Lh,Lck:()=>xv,MAs:()=>ed,MMx:()=>wp,NdJ:()=>q_,O4$:()=>lu,OlP:()=>Dn,Oqu:()=>nv,PXZ:()=>BS,Q6J:()=>z_,QGY:()=>hh,QP$:()=>Se,Qsj:()=>Nb,R0b:()=>Ms,RDi:()=>pb,Rgc:()=>Jl,SBq:()=>Of,Sil:()=>IE,Suo:()=>Oh,TTD:()=>vl,TgZ:()=>nm,Tol:()=>cp,Udp:()=>Y_,VKq:()=>Ih,W1O:()=>iE,WLB:()=>Ov,X6Q:()=>zp,XFs:()=>rt,Xpm:()=>$n,Xts:()=>Kd,Y36:()=>th,YKP:()=>Sv,YNc:()=>Ss,Yjl:()=>B,Yz7:()=>ke,Z0I:()=>gt,ZZ4:()=>Hh,_Bn:()=>LC,_UZ:()=>im,_Vd:()=>Pf,_c5:()=>KS,_uU:()=>aC,aQg:()=>yw,c2e:()=>Wn,cJS:()=>xt,cg1:()=>Cm,dDg:()=>Di,dqk:()=>hn,eFA:()=>aw,ekj:()=>Q_,eoX:()=>ud,f3M:()=>$t,g9A:()=>ew,h0i:()=>od,hGG:()=>YS,hij:()=>gm,iGM:()=>cr,ifc:()=>Tt,ip1:()=>Jv,jDz:()=>Ii,kL8:()=>up,kcU:()=>dc,lG2:()=>W,lcZ:()=>Sh,lqb:()=>Vu,lri:()=>cd,n5z:()=>Vl,oAB:()=>gr,oJD:()=>Cb,oxw:()=>pT,q4F:()=>Vb,qLn:()=>Rf,qOj:()=>np,qZA:()=>rm,qbA:()=>bp,rWj:()=>ow,s9C:()=>W0,sBO:()=>Jm,sIi:()=>sh,s_b:()=>Mh,soG:()=>Vh,tb:()=>bE,tp0:()=>ia,uIk:()=>H_,vHH:()=>Me,vpe:()=>xs,wAp:()=>zt,xp6:()=>__,ynx:()=>dh,z2F:()=>jp,zSh:()=>Sf,zs3:()=>Fc});var c=U(7579),q=U(727),N=U(9751),le=U(6451),fe=U(3099);function z(o){for(let s in o)if(o[s]===z)return s;throw Error("Could not find renamed property on target object.")}function we(o,s){for(const l in s)s.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&(o[l]=s[l])}function Ce(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Ce).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const l=s.indexOf("\n");return-1===l?s:s.substring(0,l)}function Ie(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const Y=z({__forward_ref__:z});function Z(o){return o.__forward_ref__=Z,o.toString=function(){return Ce(this())},o}function ne(o){return Ke(o)?o():o}function Ke(o){return"function"==typeof o&&o.hasOwnProperty(Y)&&o.__forward_ref__===Z}class Me extends Error{constructor(s,l){super(function tt(o,s){return`NG0${Math.abs(o)}${s?": "+s.trim():""}`}(s,l)),this.code=s}}function De(o){return"string"==typeof o?o:null==o?"":String(o)}function Ee(o,s){throw new Me(-201,!1)}function ae(o,s){null==o&&function oe(o,s,l,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${l} ${d} ${s} <=Actual]`))}(s,o,null,"!=")}function ke(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function xt(o){return{providers:o.providers||[],imports:o.imports||[]}}function an(o){return Wt(o,Mn)||Wt(o,Ut)}function gt(o){return null!==an(o)}function Wt(o,s){return o.hasOwnProperty(s)?o[s]:null}function Zn(o){return o&&(o.hasOwnProperty(Gn)||o.hasOwnProperty(Jn))?o[Gn]:null}const Mn=z({\u0275prov:z}),Gn=z({\u0275inj:z}),Ut=z({ngInjectableDef:z}),Jn=z({ngInjectorDef:z});var rt=(()=>((rt=rt||{})[rt.Default=0]="Default",rt[rt.Host=1]="Host",rt[rt.Self=2]="Self",rt[rt.SkipSelf=4]="SkipSelf",rt[rt.Optional=8]="Optional",rt))();let Hn;function dn(o){const s=Hn;return Hn=o,s}function yi(o,s,l){const d=an(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&rt.Optional?null:void 0!==s?s:void Ee(Ce(o))}function pn(o){return{toString:o}.toString()}var Nn=(()=>((Nn=Nn||{})[Nn.OnPush=0]="OnPush",Nn[Nn.Default=1]="Default",Nn))(),Tt=(()=>{return(o=Tt||(Tt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",Tt;var o})();const hn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ur={},It=[],Xn=z({\u0275cmp:z}),en=z({\u0275dir:z}),Hi=z({\u0275pipe:z}),gn=z({\u0275mod:z}),Kn=z({\u0275fac:z}),Cn=z({__NG_ELEMENT_ID__:z});let or=0;function $n(o){return pn(()=>{const l=!0===o.standalone,d={},h={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Nn.OnPush,directiveDefs:null,pipeDefs:null,standalone:l,dependencies:l&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||It,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Tt.Emulated,id:"c"+or++,styles:o.styles||It,_:null,setInput:null,schemas:o.schemas||null,tView:null},g=o.dependencies,_=o.features;return h.inputs=K(o.inputs,d),h.outputs=K(o.outputs),_&&_.forEach(b=>b(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(sr).filter(_i):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(te).filter(_i):null,h})}function sr(o){return V(o)||F(o)}function _i(o){return null!==o}function gr(o){return pn(()=>({type:o.type,bootstrap:o.bootstrap||It,declarations:o.declarations||It,imports:o.imports||It,exports:o.exports||It,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function K(o,s){if(null==o)return ur;const l={};for(const d in o)if(o.hasOwnProperty(d)){let h=o[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),l[h]=d,s&&(s[h]=g)}return l}const W=$n;function B(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function V(o){return o[Xn]||null}function F(o){return o[en]||null}function te(o){return o[Hi]||null}function Se(o){const s=V(o)||F(o)||te(o);return null!==s&&s.standalone}function Xe(o,s){const l=o[gn]||null;if(!l&&!0===s)throw new Error(`Type ${Ce(o)} does not have '\u0275mod' property.`);return l}function Er(o){return Array.isArray(o)&&"object"==typeof o[1]}function Ir(o){return Array.isArray(o)&&!0===o[1]}function ss(o){return 0!=(8&o.flags)}function io(o){return 2==(2&o.flags)}function Ls(o){return 1==(1&o.flags)}function vi(o){return null!==o.template}function Vs(o){return 0!=(256&o[2])}function ko(o,s){return o.hasOwnProperty(Kn)?o[Kn]:null}class ji{constructor(s,l,d){this.previousValue=s,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function vl(){return Hs}function Hs(o){return o.type.prototype.ngOnChanges&&(o.setInput=$s),wo}function wo(){const o=wl(this),s=o?.current;if(s){const l=o.previous;if(l===ur)o.previous=s;else for(let d in s)l[d]=s[d];o.current=null,this.ngOnChanges(s)}}function $s(o,s,l,d){const h=wl(o)||function ac(o,s){return o[sc]=s}(o,{previous:ur,current:null}),g=h.current||(h.current={}),_=h.previous,b=this.declaredInputs[l],S=_[b];g[b]=new ji(S&&S.currentValue,s,_===ur),o[d]=s}vl.ngInherit=!0;const sc="__ngSimpleChanges__";function wl(o){return o[sc]||null}function An(o){for(;Array.isArray(o);)o=o[0];return o}function No(o,s){return An(s[o])}function Gr(o,s){return An(s[o.index])}function Ta(o,s){return o.data[s]}function ai(o,s){return o[s]}function dr(o,s){const l=s[o];return Er(l)?l:l[0]}function js(o){return 64==(64&o[2])}function li(o,s){return null==s?null:o[s]}function mr(o){o[18]=0}function Fo(o,s){o[5]+=s;let l=o,d=o[3];for(;null!==d&&(1===s&&1===l[5]||-1===s&&0===l[5]);)d[5]+=s,l=d,d=d[3]}const Lt={lFrame:ds(null),bindingsEnabled:!0};function Aa(){return Lt.bindingsEnabled}function Fe(){return Lt.lFrame.lView}function nn(){return Lt.lFrame.tView}function Il(o){return Lt.lFrame.contextLView=o,o[8]}function Ma(o){return Lt.lFrame.contextLView=null,o}function tr(){let o=qs();for(;null!==o&&64===o.type;)o=o.parent;return o}function qs(){return Lt.lFrame.currentTNode}function bi(o,s){const l=Lt.lFrame;l.currentTNode=o,l.isParent=s}function cs(){return Lt.lFrame.isParent}function Pa(){Lt.lFrame.isParent=!1}function ci(){const o=Lt.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}function Vo(){return Lt.lFrame.bindingIndex++}function ui(o){const s=Lt.lFrame,l=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,l}function Sl(o,s){const l=Lt.lFrame;l.bindingIndex=l.bindingRootIndex=o,Zs(s)}function Zs(o){Lt.lFrame.currentDirectiveIndex=o}function us(){return Lt.lFrame.currentQueryIndex}function Wr(o){Lt.lFrame.currentQueryIndex=o}function Ks(o){const s=o[1];return 2===s.type?s.declTNode:1===s.type?o[6]:null}function Al(o,s,l){if(l&rt.SkipSelf){let h=s,g=o;for(;!(h=h.parent,null!==h||l&rt.Host||(h=Ks(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;s=h,o=g}const d=Lt.lFrame=Ys();return d.currentTNode=s,d.lView=o,!0}function Uo(o){const s=Ys(),l=o[1];Lt.lFrame=s,s.currentTNode=l.firstChild,s.lView=o,s.tView=l,s.contextLView=o,s.bindingIndex=l.bindingStartIndex,s.inI18n=!1}function Ys(){const o=Lt.lFrame,s=null===o?null:o.child;return null===s?ds(o):s}function ds(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function Qs(){const o=Lt.lFrame;return Lt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const cc=Qs;function bo(){const o=Qs();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function _n(){return Lt.lFrame.selectedIndex}function Bo(o){Lt.lFrame.selectedIndex=o}function On(){const o=Lt.lFrame;return Ta(o.tView,o.selectedIndex)}function lu(){Lt.lFrame.currentNamespace="svg"}function dc(){!function ka(){Lt.lFrame.currentNamespace=null}()}function Xs(o,s){for(let l=s.directiveStart,d=s.directiveEnd;l<d;l++){const g=o.data[l].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:b,ngAfterViewInit:S,ngAfterViewChecked:A,ngOnDestroy:k}=g;_&&(o.contentHooks||(o.contentHooks=[])).push(-l,_),b&&((o.contentHooks||(o.contentHooks=[])).push(l,b),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(l,b)),S&&(o.viewHooks||(o.viewHooks=[])).push(-l,S),A&&((o.viewHooks||(o.viewHooks=[])).push(l,A),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(l,A)),null!=k&&(o.destroyHooks||(o.destroyHooks=[])).push(l,k)}}function di(o,s,l){Fa(o,s,3,l)}function ea(o,s,l,d){(3&o[2])===l&&Fa(o,s,l,d)}function Na(o,s){let l=o[2];(3&l)===s&&(l&=2047,l+=1,o[2]=l)}function Fa(o,s,l,d){const g=d??-1,_=s.length-1;let b=0;for(let S=void 0!==d?65535&o[18]:0;S<_;S++)if("number"==typeof s[S+1]){if(b=s[S],null!=d&&b>=d)break}else s[S]<0&&(o[18]+=65536),(b<g||-1==g)&&(cu(o,l,s,S),o[18]=(4294901760&o[18])+S+2),S++}function cu(o,s,l,d){const h=l[d]<0,g=l[d+1],b=o[h?-l[d]:l[d]];if(h){if(o[2]>>11<o[18]>>16&&(3&o[2])===s){o[2]+=2048;try{g.call(b)}finally{}}}else try{g.call(b)}finally{}}class hs{constructor(s,l,d){this.factory=s,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function Ol(o,s,l){let d=0;for(;d<l.length;){const h=l[d];if("number"==typeof h){if(0!==h)break;d++;const g=l[d++],_=l[d++],b=l[d++];o.setAttribute(s,_,b,g)}else{const g=h,_=l[++d];pc(g)?o.setProperty(s,g,_):o.setAttribute(s,g,_),d++}}return d}function Va(o){return 3===o||4===o||6===o}function pc(o){return 64===o.charCodeAt(0)}function ps(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let l=-1;for(let d=0;d<s.length;d++){const h=s[d];"number"==typeof h?l=h:0===l||uu(o,l,h,null,-1===l||2===l?s[++d]:null)}}return o}function uu(o,s,l,d,h){let g=0,_=o.length;if(-1===s)_=-1;else for(;g<o.length;){const b=o[g++];if("number"==typeof b){if(b===s){_=-1;break}if(b>s){_=g-1;break}}}for(;g<o.length;){const b=o[g];if("number"==typeof b)break;if(b===l){if(null===d)return void(null!==h&&(o[g+1]=h));if(d===o[g+1])return void(o[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==_&&(o.splice(_,0,s),g=_+1),o.splice(g++,0,l),null!==d&&o.splice(g++,0,d),null!==h&&o.splice(g++,0,h)}function gs(o){return-1!==o}function E(o){return 32767&o}function O(o,s){let l=function D(o){return o>>16}(o),d=s;for(;l>0;)d=d[15],l--;return d}let G=!0;function _e(o){const s=G;return G=o,s}let jn=0;const Vr={};function Ua(o,s){const l=ta(o,s);if(-1!==l)return l;const d=s[1];d.firstCreatePass&&(o.injectorIndex=s.length,Rl(d.data,o),Rl(s,null),Rl(d.blueprint,null));const h=kl(o,s),g=o.injectorIndex;if(gs(h)){const _=E(h),b=O(h,s),S=b[1].data;for(let A=0;A<8;A++)s[g+A]=b[_+A]|S[_+A]}return s[g+8]=h,g}function Rl(o,s){o.push(0,0,0,0,0,0,0,0,s)}function ta(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function kl(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let l=0,d=null,h=s;for(;null!==h;){if(d=fu(h),null===d)return-1;if(l++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function ys(o,s,l){!function ms(o,s,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(Cn)&&(d=l[Cn]),null==d&&(d=l[Cn]=jn++);const h=255&d;s.data[o+(h>>5)]|=1<<h}(o,s,l)}function du(o,s,l){if(l&rt.Optional||void 0!==o)return o;Ee()}function af(o,s,l,d){if(l&rt.Optional&&void 0===d&&(d=null),0==(l&(rt.Self|rt.Host))){const h=o[9],g=dn(void 0);try{return h?h.get(s,d,l&rt.Optional):yi(s,d,l&rt.Optional)}finally{dn(g)}}return du(d,0,l)}function Fl(o,s,l,d=rt.Default,h){if(null!==o){if(1024&s[2]){const _=function hu(o,s,l,d,h){let g=o,_=s;for(;null!==g&&null!==_&&1024&_[2]&&!(256&_[2]);){const b=Ll(g,_,l,d|rt.Self,Vr);if(b!==Vr)return b;let S=g.parent;if(!S){const A=_[21];if(A){const k=A.get(l,Vr,d);if(k!==Vr)return k}S=fu(_),_=_[15]}g=S}return h}(o,s,l,d,Vr);if(_!==Vr)return _}const g=Ll(o,s,l,d,Vr);if(g!==Vr)return g}return af(s,l,d,h)}function Ll(o,s,l,d,h){const g=function gg(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(Cn)?o[Cn]:void 0;return"number"==typeof s?s>=0?255&s:Dr:s}(l);if("function"==typeof g){if(!Al(s,o,d))return d&rt.Host?du(h,0,d):af(s,l,d,h);try{const _=g(d);if(null!=_||d&rt.Optional)return _;Ee()}finally{cc()}}else if("number"==typeof g){let _=null,b=ta(o,s),S=-1,A=d&rt.Host?s[16][6]:null;for((-1===b||d&rt.SkipSelf)&&(S=-1===b?kl(o,s):s[b+8],-1!==S&&vs(d,!1)?(_=s[1],b=E(S),s=O(S,s)):b=-1);-1!==b;){const k=s[1];if(lf(g,b,k.data)){const $=Ad(b,s,l,_,d,A);if($!==Vr)return $}S=s[b+8],-1!==S&&vs(d,s[1].data[b+8]===A)&&lf(g,b,s)?(_=k,b=E(S),s=O(S,s)):b=-1}}return h}function Ad(o,s,l,d,h,g){const _=s[1],b=_.data[o+8],k=Ba(b,_,l,null==d?io(b)&&G:d!=_&&0!=(3&b.type),h&rt.Host&&g===b);return null!==k?_s(s,_,k,b):Vr}function Ba(o,s,l,d,h){const g=o.providerIndexes,_=s.data,b=1048575&g,S=o.directiveStart,k=g>>20,J=h?b+k:o.directiveEnd;for(let re=d?b:b+k;re<J;re++){const Oe=_[re];if(re<S&&l===Oe||re>=S&&Oe.type===l)return re}if(h){const re=_[S];if(re&&vi(re)&&re.type===l)return S}return null}function _s(o,s,l,d){let h=o[l];const g=s.data;if(function Ml(o){return o instanceof hs}(h)){const _=h;_.resolving&&function wt(o,s){const l=s?`. Dependency path: ${s.join(" > ")} > ${o}`:"";throw new Me(-200,`Circular dependency in DI detected for ${o}${l}`)}(function be(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():De(o)}(g[l]));const b=_e(_.canSeeViewProviders);_.resolving=!0;const S=_.injectImpl?dn(_.injectImpl):null;Al(o,d,rt.Default);try{h=o[l]=_.factory(void 0,g,o,d),s.firstCreatePass&&l>=d.directiveStart&&function Js(o,s,l){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=s.type.prototype;if(d){const _=Hs(s);(l.preOrderHooks||(l.preOrderHooks=[])).push(o,_),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,_)}h&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-o,h),g&&((l.preOrderHooks||(l.preOrderHooks=[])).push(o,g),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,g))}(l,g[l],s)}finally{null!==S&&dn(S),_e(b),_.resolving=!1,cc()}}return h}function lf(o,s,l){return!!(l[s+(o>>5)]&1<<o)}function vs(o,s){return!(o&rt.Self||o&rt.Host&&s)}class Ha{constructor(s,l){this._tNode=s,this._lView=l}get(s,l,d){return Fl(this._tNode,this._lView,s,d,l)}}function Dr(){return new Ha(tr(),Fe())}function Vl(o){return pn(()=>{const s=o.prototype.constructor,l=s[Kn]||Ul(s),d=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==d;){const g=h[Kn]||Ul(h);if(g&&g!==l)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function Ul(o){return Ke(o)?()=>{const s=Ul(ne(o));return s&&s()}:ko(o)}function fu(o){const s=o[1],l=s.type;return 2===l?s.declTNode:1===l?o[6]:null}function Md(o){return function Nl(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const l=o.attrs;if(l){const d=l.length;let h=0;for(;h<d;){const g=l[h];if(Va(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof l[h];)h++;else{if(g===s)return l[h+1];h+=2}}}return null}(tr(),o)}const rr="__parameters__";function qi(o,s,l){return pn(()=>{const d=function gc(o){return function(...l){if(o){const d=o(...l);for(const h in d)this[h]=d[h]}}}(s);function h(...g){if(this instanceof h)return d.apply(this,g),this;const _=new h(...g);return b.annotation=_,b;function b(S,A,k){const $=S.hasOwnProperty(rr)?S[rr]:Object.defineProperty(S,rr,{value:[]})[rr];for(;$.length<=k;)$.push(null);return($[k]=$[k]||[]).push(_),S}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class Dn{constructor(s,l){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=ke({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Zr(o,s){void 0===s&&(s=o);for(let l=0;l<o.length;l++){let d=o[l];Array.isArray(d)?(s===o&&(s=o.slice(0,l)),Zr(d,s)):s!==o&&s.push(d)}return s}function lo(o,s){o.forEach(l=>Array.isArray(l)?lo(l,s):s(l))}function gu(o,s,l){s>=o.length?o.push(l):o.splice(s,0,l)}function Bl(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function bc(o,s){const l=[];for(let d=0;d<o;d++)l.push(s);return l}function Oi(o,s,l){let d=na(o,s);return d>=0?o[1|d]=l:(d=~d,function _g(o,s,l,d){let h=o.length;if(h==s)o.push(l,d);else if(1===h)o.push(d,o[0]),o[0]=l;else{for(h--,o.push(o[h-1],o[h]);h>s;)o[h]=o[h-2],h--;o[s]=l,o[s+1]=d}}(o,d,s,l)),d}function Cc(o,s){const l=na(o,s);if(l>=0)return o[1|l]}function na(o,s){return function yu(o,s,l){let d=0,h=o.length>>l;for(;h!==d;){const g=d+(h-d>>1),_=o[g<<l];if(s===_)return g<<l;_>s?h=g:d=g+1}return~(h<<l)}(o,s,1)}const ar={},ei="__NG_DI_FLAG__",ki="ngTempTokenPath",Ni=/\n/gm,Ic="__source";let za;function hi(o){const s=za;return za=o,s}function Ga(o,s=rt.Default){if(void 0===za)throw new Me(-203,!1);return null===za?yi(o,void 0,s):za.get(o,s&rt.Optional?null:void 0,s)}function xr(o,s=rt.Default){return(function un(){return Hn}()||Ga)(ne(o),s)}function $t(o,s=rt.Default){return"number"!=typeof s&&(s=0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)),xr(o,s)}function Dc(o){const s=[];for(let l=0;l<o.length;l++){const d=ne(o[l]);if(Array.isArray(d)){if(0===d.length)throw new Me(900,!1);let h,g=rt.Default;for(let _=0;_<d.length;_++){const b=d[_],S=vu(b);"number"==typeof S?-1===S?h=b.token:g|=S:h=b}s.push(xr(h,g))}else s.push(xr(d))}return s}function ra(o,s){return o[ei]=s,o.prototype[ei]=s,o}function vu(o){return o[ei]}const Co=ra(qi("Optional"),8),ia=ra(qi("SkipSelf"),4);var po=(()=>((po=po||{})[po.Important=1]="Important",po[po.DashCase=2]="DashCase",po))();const H=new Map;let Q=0;const Ln="__ngContext__";function Pt(o,s){Er(s)?(o[Ln]=s[20],function ve(o){H.set(o[20],o)}(s)):o[Ln]=s}function Su(o,s){return undefined(o,s)}function xu(o){const s=o[3];return Ir(s)?s[3]:s}function Au(o){return p(o[13])}function v(o){return p(o[4])}function p(o){for(;null!==o&&!Ir(o);)o=o[4];return o}function C(o,s,l,d,h){if(null!=d){let g,_=!1;Ir(d)?g=d:Er(d)&&(_=!0,d=d[0]);const b=An(d);0===o&&null!==l?null==h?qd(s,l,b):ca(s,l,b,h||null,!0):1===o&&null!==l?ca(s,l,b,h||null,!0):2===o?function zy(o,s,l){const d=Eg(o,s);d&&function Pu(o,s,l,d){o.removeChild(s,l,d)}(o,d,s,l)}(s,b,_):3===o&&s.destroyNode(b),null!=g&&function zI(o,s,l,d,h){const g=l[7];g!==An(l)&&C(s,o,d,g,h);for(let b=10;b<l.length;b++){const S=l[b];vf(S[1],S,o,s,d,g)}}(s,o,g,l,h)}}function ge(o,s,l){return o.createElement(s,l)}function aa(o,s){const l=o[9],d=l.indexOf(s),h=s[3];512&s[2]&&(s[2]&=-513,Fo(h,-1)),l.splice(d,1)}function Qa(o,s){if(o.length<=10)return;const l=10+s,d=o[l];if(d){const h=d[17];null!==h&&h!==o&&aa(h,d),s>0&&(o[l-1][4]=d[4]);const g=Bl(o,10+s);!function Ze(o,s){vf(o,s,s[11],2,null,null),s[0]=null,s[6]=null}(d[1],d);const _=g[19];null!==_&&_.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function la(o,s){if(!(128&s[2])){const l=s[11];l.destroyNode&&vf(o,s,l,3,null,null),function vn(o){let s=o[13];if(!s)return Mu(o[1],o);for(;s;){let l=null;if(Er(s))l=s[13];else{const d=s[10];d&&(l=d)}if(!l){for(;s&&!s[4]&&s!==o;)Er(s)&&Mu(s[1],s),s=s[3];null===s&&(s=o),Er(s)&&Mu(s[1],s),l=s&&s[4]}s=l}}(s)}}function Mu(o,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function Gd(o,s){let l;if(null!=o&&null!=(l=o.destroyHooks))for(let d=0;d<l.length;d+=2){const h=s[l[d]];if(!(h instanceof hs)){const g=l[d+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const b=h[g[_]],S=g[_+1];try{S.call(b)}finally{}}else try{g.call(h)}finally{}}}}(o,s),function yf(o,s){const l=o.cleanup,d=s[7];let h=-1;if(null!==l)for(let g=0;g<l.length-1;g+=2)if("string"==typeof l[g]){const _=l[g+1],b="function"==typeof _?_(s):An(s[_]),S=d[h=l[g+2]],A=l[g+3];"boolean"==typeof A?b.removeEventListener(l[g],S,A):A>=0?d[h=A]():d[h=-A].unsubscribe(),g+=2}else{const _=d[h=l[g+1]];l[g].call(_)}if(null!==d){for(let g=h+1;g<d.length;g++)(0,d[g])();s[7]=null}}(o,s),1===s[1].type&&s[11].destroy();const l=s[17];if(null!==l&&Ir(s[3])){l!==s[3]&&aa(l,s);const d=s[19];null!==d&&d.detachView(o)}!function Je(o){H.delete(o[20])}(s)}}function Ja(o,s,l){return function _f(o,s,l){let d=s;for(;null!==d&&40&d.type;)d=(s=d).parent;if(null===d)return l[0];if(2&d.flags){const h=o.data[d.directiveStart].encapsulation;if(h===Tt.None||h===Tt.Emulated)return null}return Gr(d,l)}(o,s.parent,l)}function ca(o,s,l,d,h){o.insertBefore(s,l,d,h)}function qd(o,s,l){o.appendChild(s,l)}function Cg(o,s,l,d,h){null!==d?ca(o,s,l,d,h):qd(o,s,l)}function Eg(o,s){return o.parentNode(s)}function cb(o,s,l){return Hy(o,s,l)}let Dg,kc,Sg,Hy=function By(o,s,l){return 40&o.type?Gr(o,l):null};function Xa(o,s,l,d){const h=Ja(o,d,s),g=s[11],b=cb(d.parent||s[6],d,s);if(null!=h)if(Array.isArray(l))for(let S=0;S<l.length;S++)Cg(g,h,l[S],b,!1);else Cg(g,h,l,b,!1)}function Ou(o,s){if(null!==s){const l=s.type;if(3&l)return Gr(s,o);if(4&l)return jy(-1,o[s.index]);if(8&l){const d=s.child;if(null!==d)return Ou(o,d);{const h=o[s.index];return Ir(h)?jy(-1,h):An(h)}}if(32&l)return Su(s,o)()||An(o[s.index]);{const d=$y(o,s);return null!==d?Array.isArray(d)?d[0]:Ou(xu(o[16]),d):Ou(o,s.next)}}return null}function $y(o,s){return null!==s?o[16][6].projection[s.projection]:null}function jy(o,s){const l=10+o+1;if(l<s.length){const d=s[l],h=d[1].firstChild;if(null!==h)return Ou(d,h)}return s[7]}function Gy(o,s,l,d,h,g,_){for(;null!=l;){const b=d[l.index],S=l.type;if(_&&0===s&&(b&&Pt(An(b),d),l.flags|=4),64!=(64&l.flags))if(8&S)Gy(o,s,l.child,d,h,g,!1),C(s,o,h,b,g);else if(32&S){const A=Su(l,d);let k;for(;k=A();)C(s,o,h,k,g);C(s,o,h,b,g)}else 16&S?ub(o,s,d,l,h,g):C(s,o,h,b,g);l=_?l.projectionNext:l.next}}function vf(o,s,l,d,h,g){Gy(l,d,o.firstChild,s,h,g,!1)}function ub(o,s,l,d,h,g){const _=l[16],S=_[6].projection[d.projection];if(Array.isArray(S))for(let A=0;A<S.length;A++)C(s,o,h,S[A],g);else Gy(o,s,S,_[3],h,g,!0)}function db(o,s,l){o.setAttribute(s,"style",l)}function qy(o,s,l){""===l?o.removeAttribute(s,"class"):o.setAttribute(s,"class",l)}function Ru(o){return function Tg(){if(void 0===Dg&&(Dg=null,hn.trustedTypes))try{Dg=hn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Dg}()?.createHTML(o)||o}function pb(o){kc=o}function Ky(o){return function el(){if(void 0===Sg&&(Sg=null,hn.trustedTypes))try{Sg=hn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Sg}()?.createHTML(o)||o}class Yy{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ds(o){return o instanceof Yy?o.changingThisBreaksApplicationSecurity:o}function bf(o,s){const l=function WI(o){return o instanceof Yy&&o.getTypeName()||null}(o);if(null!=l&&l!==s){if("ResourceURL"===l&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===s}class Cf{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const l=(new window.DOMParser).parseFromString(Ru(s),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(s):(l.removeChild(l.firstChild),l)}catch{return null}}}class xg{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(s){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=Ru(s),l;const d=this.inertDocument.createElement("body");return d.innerHTML=Ru(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(s){const l=s.attributes;for(let h=l.length-1;0<h;h--){const _=l.item(h).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&s.removeAttribute(_)}let d=s.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const JI=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function t_(o){return(o=String(o)).match(JI)?o:"unsafe:"+o}function da(o){const s={};for(const l of o.split(","))s[l]=!0;return s}function Zd(...o){const s={};for(const l of o)for(const d in l)l.hasOwnProperty(d)&&(s[d]=!0);return s}const XI=da("area,br,col,hr,img,wbr"),eD=da("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tD=da("rp,rt"),n_=Zd(XI,Zd(eD,da("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zd(tD,da("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Zd(tD,eD)),r_=da("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),i_=Zd(r_,da("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),da("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ef=da("script,style,template");class nD{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let l=s.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let h=this.checkClobberedElement(l,l.nextSibling);if(h){l=h;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(s){const l=s.nodeName.toLowerCase();if(!n_.hasOwnProperty(l))return this.sanitizedSomething=!0,!Ef.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=s.attributes;for(let h=0;h<d.length;h++){const g=d.item(h),_=g.name,b=_.toLowerCase();if(!i_.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let S=g.value;r_[b]&&(S=t_(S)),this.buf.push(" ",_,'="',If(S),'"')}return this.buf.push(">"),!0}endElement(s){const l=s.nodeName.toLowerCase();n_.hasOwnProperty(l)&&!XI.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(s){this.buf.push(If(s))}checkClobberedElement(s,l){if(l&&(s.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return l}}const rD=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bb=/([^\#-~ |!])/g;function If(o){return o.replace(/&/g,"&amp;").replace(rD,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(bb,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ag;function Nc(o){return"content"in o&&function Df(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var ni=(()=>((ni=ni||{})[ni.NONE=0]="NONE",ni[ni.HTML=1]="HTML",ni[ni.STYLE=2]="STYLE",ni[ni.SCRIPT=3]="SCRIPT",ni[ni.URL=4]="URL",ni[ni.RESOURCE_URL=5]="RESOURCE_URL",ni))();function Cb(o){const s=Nu();return s?Ky(s.sanitize(ni.HTML,o)||""):bf(o,"HTML")?Ky(Ds(o)):function iD(o,s){let l=null;try{Ag=Ag||function _b(o){const s=new xg(o);return function e_(){try{return!!(new window.DOMParser).parseFromString(Ru(""),"text/html")}catch{return!1}}()?new Cf(s):s}(o);let d=s?String(s):"";l=Ag.getInertBodyElement(d);let h=5,g=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=g,g=l.innerHTML,l=Ag.getInertBodyElement(d)}while(d!==g);return Ru((new nD).sanitizeChildren(Nc(l)||l))}finally{if(l){const d=Nc(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}(function Zy(){return void 0!==kc?kc:typeof document<"u"?document:void 0}(),De(o))}function ku(o){const s=Nu();return s?s.sanitize(ni.URL,o)||"":bf(o,"URL")?Ds(o):t_(De(o))}function Nu(){const o=Fe();return o&&o[12]}const Kd=new Dn("ENVIRONMENT_INITIALIZER"),Fu=new Dn("INJECTOR",-1),Ib=new Dn("INJECTOR_DEF_TYPES");class Db{get(s,l=ar){if(l===ar){const d=new Error(`NullInjectorError: No provider for ${Ce(s)}!`);throw d.name="NullInjectorError",d}return l}}function uD(...o){return{\u0275providers:Tb(0,o)}}function Tb(o,...s){const l=[],d=new Set;let h;return lo(s,g=>{const _=g;o_(_,l,[],d)&&(h||(h=[]),h.push(_))}),void 0!==h&&Sb(h,l),l}function Sb(o,s){for(let l=0;l<o.length;l++){const{providers:h}=o[l];lo(h,g=>{s.push(g)})}}function o_(o,s,l,d){if(!(o=ne(o)))return!1;let h=null,g=Zn(o);const _=!g&&V(o);if(g||_){if(_&&!_.standalone)return!1;h=o}else{const S=o.ngModule;if(g=Zn(S),!g)return!1;h=S}const b=d.has(h);if(_){if(b)return!1;if(d.add(h),_.dependencies){const S="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const A of S)o_(A,s,l,d)}}else{if(!g)return!1;{if(null!=g.imports&&!b){let A;d.add(h);try{lo(g.imports,k=>{o_(k,s,l,d)&&(A||(A=[]),A.push(k))})}finally{}void 0!==A&&Sb(A,s)}if(!b){const A=ko(h)||(()=>new h);s.push({provide:h,useFactory:A,deps:It},{provide:Ib,useValue:h,multi:!0},{provide:Kd,useValue:()=>xr(h),multi:!0})}const S=g.providers;null==S||b||lo(S,k=>{s.push(k)})}}return h!==o&&void 0!==o.providers}const dD=z({provide:String,useValue:z});function s_(o){return null!==o&&"object"==typeof o&&dD in o}function Zl(o){return"function"==typeof o}const Sf=new Dn("Set Injector scope."),Lu={},hD={};let l_;function Mg(){return void 0===l_&&(l_=new Db),l_}class Vu{}class xf extends Vu{constructor(s,l,d,h){super(),this.parent=l,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,c_(s,_=>this.processProvider(_)),this.records.set(Fu,Uu(void 0,this)),h.has("environment")&&this.records.set(Vu,Uu(void 0,this));const g=this.records.get(Sf);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Ib.multi,It,rt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}runInContext(s){this.assertNotDestroyed();const l=hi(this),d=dn(void 0);try{return s()}finally{hi(l),dn(d)}}get(s,l=ar,d=rt.Default){this.assertNotDestroyed();const h=hi(this),g=dn(void 0);try{if(!(d&rt.SkipSelf)){let b=this.records.get(s);if(void 0===b){const S=function fD(o){return"function"==typeof o||"object"==typeof o&&o instanceof Dn}(s)&&an(s);b=S&&this.injectableDefInScope(S)?Uu(Pg(s),Lu):null,this.records.set(s,b)}if(null!=b)return this.hydrate(s,b)}return(d&rt.Self?Mg():this.parent).get(s,l=d&rt.Optional&&l===ar?null:l)}catch(_){if("NullInjectorError"===_.name){if((_[ki]=_[ki]||[]).unshift(Ce(s)),h)throw _;return function bs(o,s,l,d){const h=o[ki];throw s[Ic]&&h.unshift(s[Ic]),o.message=function Kr(o,s,l,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let h=Ce(s);if(Array.isArray(s))h=s.map(Ce).join(" -> ");else if("object"==typeof s){let g=[];for(let _ in s)if(s.hasOwnProperty(_)){let b=s[_];g.push(_+":"+("string"==typeof b?JSON.stringify(b):Ce(b)))}h=`{${g.join(", ")}}`}return`${l}${d?"("+d+")":""}[${h}]: ${o.replace(Ni,"\n  ")}`}("\n"+o.message,h,l,d),o.ngTokenPath=h,o[ki]=null,o}(_,s,"R3InjectorError",this.source)}throw _}finally{dn(g),hi(h)}}resolveInjectorInitializers(){const s=hi(this),l=dn(void 0);try{const d=this.get(Kd.multi,It,rt.Self);for(const h of d)h()}finally{hi(s),dn(l)}}toString(){const s=[],l=this.records;for(const d of l.keys())s.push(Ce(d));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Me(205,!1)}processProvider(s){let l=Zl(s=ne(s))?s:ne(s&&s.provide);const d=function Og(o){return s_(o)?Uu(void 0,o.useValue):Uu(Af(o),Lu)}(s);if(Zl(s)||!0!==s.multi)this.records.get(l);else{let h=this.records.get(l);h||(h=Uu(void 0,Lu,!0),h.factory=()=>Dc(h.multi),this.records.set(l,h)),l=s,h.multi.push(s)}this.records.set(l,d)}hydrate(s,l){return l.value===Lu&&(l.value=hD,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Pb(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}injectableDefInScope(s){if(!s.providedIn)return!1;const l=ne(s.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}}function Pg(o){const s=an(o),l=null!==s?s.factory:ko(o);if(null!==l)return l;if(o instanceof Dn)throw new Me(204,!1);if(o instanceof Function)return function Mb(o){const s=o.length;if(s>0)throw bc(s,"?"),new Me(204,!1);const l=function Bn(o){const s=o&&(o[Mn]||o[Ut]);if(s){const l=function Yt(o){if(o.hasOwnProperty("name"))return o.name;const s=(""+o).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),s}return null}(o);return null!==l?()=>l.factory(o):()=>new o}(o);throw new Me(204,!1)}function Af(o,s,l){let d;if(Zl(o)){const h=ne(o);return ko(h)||Pg(h)}if(s_(o))d=()=>ne(o.useValue);else if(function xb(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...Dc(o.deps||[]));else if(function a_(o){return!(!o||!o.useExisting)}(o))d=()=>xr(ne(o.useExisting));else{const h=ne(o&&(o.useClass||o.provide));if(!function Mf(o){return!!o.deps}(o))return ko(h)||Pg(h);d=()=>new h(...Dc(o.deps))}return d}function Uu(o,s,l=!1){return{factory:o,value:s,multi:l?[]:void 0}}function pD(o){return!!o.\u0275providers}function c_(o,s){for(const l of o)Array.isArray(l)?c_(l,s):pD(l)?c_(l.\u0275providers,s):s(l)}class Ob{}class mD{resolveComponentFactory(s){throw function Rg(o){const s=Error(`No component factory found for ${Ce(o)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=o,s}(s)}}let Pf=(()=>{class o{}return o.NULL=new mD,o})();function yD(){return Yd(tr(),Fe())}function Yd(o,s){return new Of(Gr(o,s))}let Of=(()=>{class o{constructor(l){this.nativeElement=l}}return o.__NG_ELEMENT_ID__=yD,o})();function kb(o){return o instanceof Of?o.nativeElement:o}class u_{}let Nb=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function Fb(){const o=Fe(),l=dr(tr().index,o);return(Er(l)?l:o)[11]}(),o})(),Lb=(()=>{class o{}return o.\u0275prov=ke({token:o,providedIn:"root",factory:()=>null}),o})();class d_{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Vb=new d_("14.3.0"),h_={};function p_(o){return o.ngOriginalError}class Rf{constructor(){this._console=console}handleError(s){const l=this._findOriginalError(s);this._console.error("ERROR",s),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(s){let l=s&&p_(s);for(;l&&p_(l);)l=p_(l);return l||null}}function vD(o){return o.ownerDocument.defaultView}function Kl(o){return o instanceof Function?o():o}function kf(o,s,l){let d=o.length;for(;;){const h=o.indexOf(s,l);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const g=s.length;if(h+g===d||o.charCodeAt(h+g)<=32)return h}l=h+1}}const qb="ng-template";function CD(o,s,l){let d=0;for(;d<o.length;){let h=o[d++];if(l&&"class"===h){if(h=o[d],-1!==kf(h.toLowerCase(),s,0))return!0}else if(1===h){for(;d<o.length&&"string"==typeof(h=o[d++]);)if(h.toLowerCase()===s)return!0;return!1}}return!1}function Wb(o){return 4===o.type&&o.value!==qb}function ED(o,s,l){return s===(4!==o.type||l?o.value:qb)}function Zb(o,s,l){let d=4;const h=o.attrs||[],g=function Nf(o){for(let s=0;s<o.length;s++)if(Va(o[s]))return s;return o.length}(h);let _=!1;for(let b=0;b<s.length;b++){const S=s[b];if("number"!=typeof S){if(!_)if(4&d){if(d=2|1&d,""!==S&&!ED(o,S,l)||""===S&&1===s.length){if(zn(d))return!1;_=!0}}else{const A=8&d?S:s[++b];if(8&d&&null!==o.attrs){if(!CD(o.attrs,A,l)){if(zn(d))return!1;_=!0}continue}const $=ID(8&d?"class":S,h,Wb(o),l);if(-1===$){if(zn(d))return!1;_=!0;continue}if(""!==A){let J;J=$>g?"":h[$+1].toLowerCase();const re=8&d?J:null;if(re&&-1!==kf(re,A,0)||2&d&&A!==J){if(zn(d))return!1;_=!0}}}}else{if(!_&&!zn(d)&&!zn(S))return!1;if(_&&zn(S))continue;_=!1,d=S|1&d}}return zn(d)||_}function zn(o){return 0==(1&o)}function ID(o,s,l,d){if(null===s)return-1;let h=0;if(d||!l){let g=!1;for(;h<s.length;){const _=s[h];if(_===o)return h;if(3===_||6===_)g=!0;else{if(1===_||2===_){let b=s[++h];for(;"string"==typeof b;)b=s[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=g?1:2}return-1}return function DD(o,s){let l=o.indexOf(4);if(l>-1)for(l++;l<o.length;){const d=o[l];if("number"==typeof d)return-1;if(d===s)return l;l++}return-1}(s,o)}function m_(o,s,l=!1){for(let d=0;d<s.length;d++)if(Zb(o,s[d],l))return!0;return!1}function TD(o,s){e:for(let l=0;l<s.length;l++){const d=s[l];if(o.length===d.length){for(let h=0;h<o.length;h++)if(o[h]!==d[h])continue e;return!0}}return!1}function y_(o,s){return o?":not("+s.trim()+")":s}function zM(o){let s=o[0],l=1,d=2,h="",g=!1;for(;l<o.length;){let _=o[l];if("string"==typeof _)if(2&d){const b=o[++l];h+="["+_+(b.length>0?'="'+b+'"':"")+"]"}else 8&d?h+="."+_:4&d&&(h+=" "+_);else""!==h&&!zn(_)&&(s+=y_(g,h),h=""),d=_,g=g||!zn(d);l++}return""!==h&&(s+=y_(g,h)),s}const tn={};function __(o){Ff(nn(),Fe(),_n()+o,!1)}function Ff(o,s,l,d){if(!d)if(3==(3&s[2])){const g=o.preOrderCheckHooks;null!==g&&di(s,g,l)}else{const g=o.preOrderHooks;null!==g&&ea(s,g,0,l)}Bo(l)}function Qb(o,s=null,l=null,d){const h=Jb(o,s,l,d);return h.resolveInjectorInitializers(),h}function Jb(o,s=null,l=null,d,h=new Set){const g=[l||It,uD(o)];return d=d||("object"==typeof o?void 0:Ce(o)),new xf(g,s||Mg(),d||null,h)}let Fc=(()=>{class o{static create(l,d){if(Array.isArray(l))return Qb({name:""},d,l,"");{const h=l.name??"";return Qb({name:h},l.parent,l.providers,h)}}}return o.THROW_IF_NOT_FOUND=ar,o.NULL=new Db,o.\u0275prov=ke({token:o,providedIn:"any",factory:()=>xr(Fu)}),o.__NG_ELEMENT_ID__=-1,o})();function th(o,s=rt.Default){const l=Fe();return null===l?xr(o,s):Fl(tr(),l,ne(o),s)}function lr(){throw new Error("invalid")}function Lf(o,s){return o<<17|s<<2}function Ts(o){return o>>17&32767}function Ug(o){return 2|o}function nl(o){return(131068&o)>>2}function Bg(o,s){return-131069&o|s<<2}function Hg(o){return 1|o}function zf(o,s){const l=o.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const h=l[d],g=l[d+1];if(-1!==g){const _=o.data[g];Wr(h),_.contentQueries(2,s[g],g)}}}function rh(o,s,l,d,h,g,_,b,S,A,k){const $=s.blueprint.slice();return $[0]=h,$[2]=76|d,(null!==k||o&&1024&o[2])&&($[2]|=1024),mr($),$[3]=$[15]=o,$[8]=l,$[10]=_||o&&o[10],$[11]=b||o&&o[11],$[12]=S||o&&o[12]||null,$[9]=A||o&&o[9]||null,$[6]=g,$[20]=function ie(){return Q++}(),$[21]=k,$[16]=2==s.type?o[16]:$,$}function zu(o,s,l,d,h){let g=o.data[s];if(null===g)g=function qf(o,s,l,d,h){const g=qs(),_=cs(),S=o.data[s]=function Zg(o,s,l,d,h,g){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,l,s,d,h);return null===o.firstChild&&(o.firstChild=S),null!==g&&(_?null==g.child&&null!==S.parent&&(g.child=S):null===g.next&&(g.next=S)),S}(o,s,l,d,h),function Ws(){return Lt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=l,g.value=d,g.attrs=h;const _=function ao(){const o=Lt.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return bi(g,!0),g}function Gu(o,s,l,d){if(0===l)return-1;const h=s.length;for(let g=0;g<l;g++)s.push(d),o.blueprint.push(d),o.data.push(null);return h}function ih(o,s,l){Uo(s);try{const d=o.viewQuery;null!==d&&Uc(1,d,l);const h=o.template;null!==h&&A_(o,s,h,1,l),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&zf(o,s),o.staticViewQueries&&Uc(2,o.viewQuery,l);const g=o.components;null!==g&&function Gf(o,s){for(let l=0;l<s.length;l++)aP(o,s[l])}(s,g)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{s[2]&=-5,bo()}}function Wf(o,s,l,d){const h=s[2];if(128!=(128&h)){Uo(s);try{mr(s),function Lr(o){return Lt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==l&&A_(o,s,l,2,d);const _=3==(3&h);if(_){const A=o.preOrderCheckHooks;null!==A&&di(s,A,null)}else{const A=o.preOrderHooks;null!==A&&ea(s,A,0,null),Na(s,0)}if(function oP(o){for(let s=Au(o);null!==s;s=v(s)){if(!s[2])continue;const l=s[9];for(let d=0;d<l.length;d++){const h=l[d],g=h[3];0==(512&h[2])&&Fo(g,1),h[2]|=512}}}(s),function P0(o){for(let s=Au(o);null!==s;s=v(s))for(let l=10;l<s.length;l++){const d=s[l],h=d[1];js(d)&&Wf(h,d,h.template,d[8])}}(s),null!==o.contentQueries&&zf(o,s),_){const A=o.contentCheckHooks;null!==A&&di(s,A)}else{const A=o.contentHooks;null!==A&&ea(s,A,1),Na(s,1)}!function jf(o,s){const l=o.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const h=l[d];if(h<0)Bo(~h);else{const g=h,_=l[++d],b=l[++d];Sl(_,g),b(2,s[g])}}}finally{Bo(-1)}}(o,s);const b=o.components;null!==b&&function nh(o,s){for(let l=0;l<s.length;l++)sP(o,s[l])}(s,b);const S=o.viewQuery;if(null!==S&&Uc(2,S,d),_){const A=o.viewCheckHooks;null!==A&&di(s,A)}else{const A=o.viewHooks;null!==A&&ea(s,A,2),Na(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,Fo(s[3],-1))}finally{bo()}}}function A_(o,s,l,d,h){const g=_n(),_=2&d;try{Bo(-1),_&&s.length>22&&Ff(o,s,22,!1),l(d,h)}finally{Bo(g)}}function Zf(o,s,l){if(ss(s)){const h=s.directiveEnd;for(let g=s.directiveStart;g<h;g++){const _=o.data[g];_.contentQueries&&_.contentQueries(1,l[g],g)}}}function qu(o,s,l){!Aa()||(function S0(o,s,l,d){const h=l.directiveStart,g=l.directiveEnd;o.firstCreatePass||Ua(l,s),Pt(d,s);const _=l.initialInputs;for(let b=h;b<g;b++){const S=o.data[b],A=vi(S);A&&Qf(s,l,S);const k=_s(s,o,b,l);Pt(k,s),null!==_&&A0(0,b-h,k,S,0,_),A&&(dr(l.index,s)[8]=k)}}(o,s,l,Gr(l,s)),128==(128&l.flags)&&function iP(o,s,l){const d=l.directiveStart,h=l.directiveEnd,g=l.index,_=function Oa(){return Lt.lFrame.currentDirectiveIndex}();try{Bo(g);for(let b=d;b<h;b++){const S=o.data[b],A=s[b];Zs(b),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&Qg(S,A)}}finally{Bo(-1),Zs(_)}}(o,s,l))}function C0(o,s,l=Gr){const d=s.localNames;if(null!==d){let h=s.index+1;for(let g=0;g<d.length;g+=2){const _=d[g+1],b=-1===_?l(s,o):o[_];o[h++]=b}}}function HD(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=Wg(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function Wg(o,s,l,d,h,g,_,b,S,A){const k=22+d,$=k+h,J=function nP(o,s){const l=[];for(let d=0;d<s;d++)l.push(d<o?null:tn);return l}(k,$),re="function"==typeof A?A():A;return J[1]={type:o,blueprint:J,template:l,queries:null,viewQuery:b,declTNode:s,data:J.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:$,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:S,consts:re,incompleteFirstPass:!1}}function Yf(o,s,l,d){const h=N_(s);null===l?h.push(d):(h.push(l),o.firstCreatePass&&R0(o).push(d,h.length-1))}function E0(o,s,l){for(let d in o)if(o.hasOwnProperty(d)){const h=o[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(s,h):l[d]=[s,h]}return l}function Kg(o,s){const d=s.directiveEnd,h=o.data,g=s.attrs,_=[];let b=null,S=null;for(let A=s.directiveStart;A<d;A++){const k=h[A],$=k.inputs,J=null===g||Wb(s)?null:Jf($,g);_.push(J),b=E0($,A,b),S=E0(k.outputs,A,S)}null!==b&&(b.hasOwnProperty("class")&&(s.flags|=16),b.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=b,s.outputs=S}function qo(o,s,l,d,h,g,_,b){const S=Gr(s,l);let k,A=s.inputs;!b&&null!=A&&(k=A[d])?(L_(o,l,k,d,h),io(s)&&I0(l,s.index)):3&s.type&&(d=function Yg(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),h=null!=_?_(h,s.value||"",d):h,g.setProperty(S,d,h))}function I0(o,s){const l=dr(s,o);16&l[2]||(l[2]|=32)}function P_(o,s,l,d){let h=!1;if(Aa()){const g=function zD(o,s,l){const d=o.directiveRegistry;let h=null;if(d)for(let g=0;g<d.length;g++){const _=d[g];m_(l,_.selectors,!1)&&(h||(h=[]),ys(Ua(l,s),o,_.type),vi(_)?(O_(o,l),h.unshift(_)):h.push(_))}return h}(o,s,l),_=null===d?null:{"":-1};if(null!==g){h=!0,qD(l,o.data.length,g.length);for(let k=0;k<g.length;k++){const $=g[k];$.providersResolver&&$.providersResolver($)}let b=!1,S=!1,A=Gu(o,s,g.length,null);for(let k=0;k<g.length;k++){const $=g[k];l.mergedAttrs=ps(l.mergedAttrs,$.hostAttrs),x0(o,l,s,A,$),GD(A,$,_),null!==$.contentQueries&&(l.flags|=8),(null!==$.hostBindings||null!==$.hostAttrs||0!==$.hostVars)&&(l.flags|=128);const J=$.type.prototype;!b&&(J.ngOnChanges||J.ngOnInit||J.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(l.index),b=!0),!S&&(J.ngOnChanges||J.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(l.index),S=!0),A++}Kg(o,l)}_&&function R_(o,s,l){if(s){const d=o.localNames=[];for(let h=0;h<s.length;h+=2){const g=l[s[h+1]];if(null==g)throw new Me(-301,!1);d.push(s[h],g)}}}(l,d,_)}return l.mergedAttrs=ps(l.mergedAttrs,l.attrs),h}function $D(o,s,l,d,h,g){const _=g.hostBindings;if(_){let b=o.hostBindingOpCodes;null===b&&(b=o.hostBindingOpCodes=[]);const S=~s.index;(function jD(o){let s=o.length;for(;s>0;){const l=o[--s];if("number"==typeof l&&l<0)return l}return 0})(b)!=S&&b.push(S),b.push(d,h,_)}}function Qg(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function O_(o,s){s.flags|=2,(o.components||(o.components=[])).push(s.index)}function GD(o,s,l){if(l){if(s.exportAs)for(let d=0;d<s.exportAs.length;d++)l[s.exportAs[d]]=o;vi(s)&&(l[""]=o)}}function qD(o,s,l){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+l,o.providerIndexes=s}function x0(o,s,l,d,h){o.data[d]=h;const g=h.factory||(h.factory=ko(h.type)),_=new hs(g,vi(h),th);o.blueprint[d]=_,l[d]=_,$D(o,s,0,d,Gu(o,l,h.hostVars,tn),h)}function Qf(o,s,l){const d=Gr(s,o),h=HD(l),g=o[10],_=Xf(o,rh(o,h,null,l.onPush?32:16,d,s,g,g.createRenderer(d,l),null,null,null));o[s.index]=_}function Wo(o,s,l,d,h,g){const _=Gr(o,s);!function Jg(o,s,l,d,h,g,_){if(null==g)o.removeAttribute(s,h,l);else{const b=null==_?De(g):_(g,d||"",h);o.setAttribute(s,h,b,l)}}(s[11],_,g,o.value,l,d,h)}function A0(o,s,l,d,h,g){const _=g[s];if(null!==_){const b=d.setInput;for(let S=0;S<_.length;){const A=_[S++],k=_[S++],$=_[S++];null!==b?d.setInput(l,$,A,k):l[k]=$}}}function Jf(o,s){let l=null,d=0;for(;d<s.length;){const h=s[d];if(0!==h)if(5!==h){if("number"==typeof h)break;o.hasOwnProperty(h)&&(null===l&&(l=[]),l.push(h,o[h],s[d+1])),d+=2}else d+=2;else d+=4}return l}function M0(o,s,l,d){return new Array(o,!0,!1,s,null,0,d,l,null,null)}function sP(o,s){const l=dr(s,o);if(js(l)){const d=l[1];48&l[2]?Wf(d,l,d.template,l[8]):l[5]>0&&O0(l)}}function O0(o){for(let d=Au(o);null!==d;d=v(d))for(let h=10;h<d.length;h++){const g=d[h];if(js(g))if(512&g[2]){const _=g[1];Wf(_,g,_.template,g[8])}else g[5]>0&&O0(g)}const l=o[1].components;if(null!==l)for(let d=0;d<l.length;d++){const h=dr(l[d],o);js(h)&&h[5]>0&&O0(h)}}function aP(o,s){const l=dr(s,o),d=l[1];(function WD(o,s){for(let l=s.length;l<o.blueprint.length;l++)s.push(o.blueprint[l])})(d,l),ih(d,l,l[8])}function Xf(o,s){return o[13]?o[14][4]=s:o[13]=s,o[14]=s,s}function k_(o){for(;o;){o[2]|=32;const s=xu(o);if(Vs(o)&&!s)return o;o=s}return null}function ep(o,s,l,d=!0){const h=s[10];h.begin&&h.begin();try{Wf(o,s,o.template,l)}catch(_){throw d&&F_(s,_),_}finally{h.end&&h.end()}}function Uc(o,s,l){Wr(0),s(o,l)}function N_(o){return o[7]||(o[7]=[])}function R0(o){return o.cleanup||(o.cleanup=[])}function F_(o,s){const l=o[9],d=l?l.get(Rf,null):null;d&&d.handleError(s)}function L_(o,s,l,d,h){for(let g=0;g<l.length;){const _=l[g++],b=l[g++],S=s[_],A=o.data[_];null!==A.setInput?A.setInput(S,h,d,b):S[b]=h}}function rl(o,s,l){const d=No(s,o);!function L(o,s,l){o.setValue(s,l)}(o[11],d,l)}function Xg(o,s,l){let d=l?o.styles:null,h=l?o.classes:null,g=0;if(null!==s)for(let _=0;_<s.length;_++){const b=s[_];"number"==typeof b?g=b:1==g?h=Ie(h,b):2==g&&(d=Ie(d,b+": "+s[++_]+";"))}l?o.styles=d:o.stylesWithoutHost=d,l?o.classes=h:o.classesWithoutHost=h}function tp(o,s,l,d,h=!1){for(;null!==l;){const g=s[l.index];if(null!==g&&d.push(An(g)),Ir(g))for(let b=10;b<g.length;b++){const S=g[b],A=S[1].firstChild;null!==A&&tp(S[1],S,A,d)}const _=l.type;if(8&_)tp(o,s,l.child,d);else if(32&_){const b=Su(l,s);let S;for(;S=b();)d.push(S)}else if(16&_){const b=$y(s,l);if(Array.isArray(b))d.push(...b);else{const S=xu(s[16]);tp(S[1],S,b,d,!0)}}l=h?l.projectionNext:l.next}return d}class Wu{constructor(s,l){this._lView=s,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,l=s[1];return tp(l,s,l.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Ir(s)){const l=s[8],d=l?l.indexOf(this):-1;d>-1&&(Qa(s,d),Bl(l,d))}this._attachedToViewContainer=!1}la(this._lView[1],this._lView)}onDestroy(s){Yf(this._lView[1],this._lView,null,s)}markForCheck(){k_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ep(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Me(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ot(o,s){vf(o,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Me(902,!1);this._appRef=s}}class YD extends Wu{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;ep(s[1],s,s[8],!1)}checkNoChanges(){}get context(){return null}}class em extends Pf{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const l=V(s);return new Ku(l,this.ngModule)}}function k0(o){const s=[];for(let l in o)o.hasOwnProperty(l)&&s.push({propName:o[l],templateName:l});return s}class QD{constructor(s,l){this.injector=s,this.parentInjector=l}get(s,l,d){const h=this.injector.get(s,h_,d);return h!==h_||l===h_?h:this.parentInjector.get(s,l,d)}}class Ku extends Ob{constructor(s,l){super(),this.componentDef=s,this.ngModule=l,this.componentType=s.type,this.selector=function GM(o){return o.map(zM).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return k0(this.componentDef.inputs)}get outputs(){return k0(this.componentDef.outputs)}create(s,l,d,h){let g=(h=h||this.ngModule)instanceof Vu?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const _=g?new QD(s,g):s,b=_.get(u_,null);if(null===b)throw new Me(407,!1);const S=_.get(Lb,null),A=b.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",$=d?function Kf(o,s,l){return o.selectRootElement(s,l===Tt.ShadowDom)}(A,d,this.componentDef.encapsulation):ge(A,k,function Zu(o){const s=o.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(k)),J=this.componentDef.onPush?288:272,re=Wg(0,null,null,1,0,null,null,null,null,null),Oe=rh(null,re,null,J,null,null,b,A,S,_,null);let qe,Ge;Uo(Oe);try{const ht=function oh(o,s,l,d,h,g){const _=l[1];l[22]=o;const S=zu(_,22,2,"#host",null),A=S.mergedAttrs=s.hostAttrs;null!==A&&(Xg(S,A,!0),null!==o&&(Ol(h,o,A),null!==S.classes&&qy(h,o,S.classes),null!==S.styles&&db(h,o,S.styles)));const k=d.createRenderer(o,s),$=rh(l,HD(s),null,s.onPush?32:16,l[22],S,d,k,g||null,null,null);return _.firstCreatePass&&(ys(Ua(S,l),_,s.type),O_(_,S),qD(S,l.length,1)),Xf(l,$),l[22]=$}($,this.componentDef,Oe,b,A);if($)if(d)Ol(A,$,["ng-version",Vb.full]);else{const{attrs:Vt,classes:He}=function SD(o){const s=[],l=[];let d=1,h=2;for(;d<o.length;){let g=o[d];if("string"==typeof g)2===h?""!==g&&s.push(g,o[++d]):8===h&&l.push(g);else{if(!zn(h))break;h=g}d++}return{attrs:s,classes:l}}(this.componentDef.selectors[0]);Vt&&Ol(A,$,Vt),He&&He.length>0&&qy(A,$,He.join(" "))}if(Ge=Ta(re,22),void 0!==l){const Vt=Ge.projection=[];for(let He=0;He<this.ngContentSelectors.length;He++){const Ht=l[He];Vt.push(null!=Ht?Array.from(Ht):null)}}qe=function XD(o,s,l,d){const h=l[1],g=function T0(o,s,l){const d=tr();o.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),x0(o,d,s,Gu(o,s,1,null),l),Kg(o,d));const h=_s(s,o,d.directiveStart,d);Pt(h,s);const g=Gr(d,s);return g&&Pt(g,s),h}(h,l,s);if(o[8]=l[8]=g,null!==d)for(const b of d)b(g,s);if(s.contentQueries){const b=tr();s.contentQueries(1,g,b.directiveStart)}const _=tr();return!h.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Bo(_.index),$D(l[1],_,0,_.directiveStart,_.directiveEnd,s),Qg(s,g)),g}(ht,this.componentDef,Oe,[L0]),ih(re,Oe,null)}finally{bo()}return new F0(this.componentType,qe,Yd(Ge,Oe),Oe,Ge)}}class F0 extends class gD{}{constructor(s,l,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=l,this.hostView=this.changeDetectorRef=new YD(h),this.componentType=s}setInput(s,l){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[s])){const g=this._rootLView;L_(g[1],g,h,s,l),I0(g,this._tNode.index)}}get injector(){return new Ha(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function L0(){const o=tr();Xs(Fe()[1],o)}function np(o){let s=function V0(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),l=!0;const d=[o];for(;s;){let h;if(vi(o))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Me(903,!1);h=s.\u0275dir}if(h){if(l){d.push(h);const _=o;_.inputs=V_(o.inputs),_.declaredInputs=V_(o.declaredInputs),_.outputs=V_(o.outputs);const b=h.hostBindings;b&&uP(o,b);const S=h.viewQuery,A=h.contentQueries;if(S&&U0(o,S),A&&tT(o,A),we(o.inputs,h.inputs),we(o.declaredInputs,h.declaredInputs),we(o.outputs,h.outputs),vi(h)&&h.data.animation){const k=o.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let _=0;_<g.length;_++){const b=g[_];b&&b.ngInherit&&b(o),b===np&&(l=!1)}}s=Object.getPrototypeOf(s)}!function eT(o){let s=0,l=null;for(let d=o.length-1;d>=0;d--){const h=o[d];h.hostVars=s+=h.hostVars,h.hostAttrs=ps(h.hostAttrs,l=ps(l,h.hostAttrs))}}(d)}function V_(o){return o===ur?{}:o===It?[]:o}function U0(o,s){const l=o.viewQuery;o.viewQuery=l?(d,h)=>{s(d,h),l(d,h)}:s}function tT(o,s){const l=o.contentQueries;o.contentQueries=l?(d,h,g)=>{s(d,h,g),l(d,h,g)}:s}function uP(o,s){const l=o.hostBindings;o.hostBindings=l?(d,h)=>{s(d,h),l(d,h)}:s}let rp=null;function Zo(){if(!rp){const o=hn.Symbol;if(o&&o.iterator)rp=o.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<s.length;++l){const d=s[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(rp=d)}}}return rp}function sh(o){return!!B_(o)&&(Array.isArray(o)||!(o instanceof Map)&&Zo()in o)}function B_(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Ko(o,s,l){return o[s]=l}function ah(o,s){return o[s]}function Ji(o,s,l){return!Object.is(o[s],l)&&(o[s]=l,!0)}function Bc(o,s,l,d){const h=Ji(o,s,l);return Ji(o,s+1,d)||h}function H_(o,s,l,d){const h=Fe();return Ji(h,Vo(),s)&&(nn(),Wo(On(),h,o,s,l,d)),H_}function lh(o,s,l,d){return Ji(o,Vo(),l)?s+De(l)+d:tn}function Qu(o,s,l,d,h,g){const b=Bc(o,function qr(){return Lt.lFrame.bindingIndex}(),l,h);return ui(2),b?s+De(l)+d+De(h)+g:tn}function Ss(o,s,l,d,h,g,_,b){const S=Fe(),A=nn(),k=o+22,$=A.firstCreatePass?function cn(o,s,l,d,h,g,_,b,S){const A=s.consts,k=zu(s,o,4,_||null,li(A,b));P_(s,l,k,li(A,S)),Xs(s,k);const $=k.tViews=Wg(2,k,d,h,g,s.directiveRegistry,s.pipeRegistry,null,s.schemas,A);return null!==s.queries&&(s.queries.template(s,k),$.queries=s.queries.embeddedTView(k)),k}(k,A,S,s,l,d,h,g,_):A.data[k];bi($,!1);const J=S[11].createComment("");Xa(A,S,J,$),Pt(J,S),Xf(S,S[k]=M0(J,S,J,$)),Ls($)&&qu(A,S,$),null!=_&&C0(S,$,b)}function ed(o){return ai(function Fn(){return Lt.lFrame.contextLView}(),22+o)}function z_(o,s,l){const d=Fe();return Ji(d,Vo(),s)&&qo(nn(),On(),d,o,s,d[11],l,!1),z_}function uh(o,s,l,d,h){const _=h?"class":"style";L_(o,l,s.inputs[_],_,d)}function nm(o,s,l,d){const h=Fe(),g=nn(),_=22+o,b=h[11],S=h[_]=ge(b,s,function hc(){return Lt.lFrame.currentNamespace}()),A=g.firstCreatePass?function dT(o,s,l,d,h,g,_){const b=s.consts,A=zu(s,o,2,h,li(b,g));return P_(s,l,A,li(b,_)),null!==A.attrs&&Xg(A,A.attrs,!1),null!==A.mergedAttrs&&Xg(A,A.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,A),A}(_,g,h,0,s,l,d):g.data[_];bi(A,!0);const k=A.mergedAttrs;null!==k&&Ol(b,S,k);const $=A.classes;null!==$&&qy(b,S,$);const J=A.styles;return null!==J&&db(b,S,J),64!=(64&A.flags)&&Xa(g,h,S,A),0===function xa(){return Lt.lFrame.elementDepthCount}()&&Pt(S,h),function Lo(){Lt.lFrame.elementDepthCount++}(),Ls(A)&&(qu(g,h,A),Zf(g,A,h)),null!==d&&C0(h,A),nm}function rm(){let o=tr();cs()?Pa():(o=o.parent,bi(o,!1));const s=o;!function au(){Lt.lFrame.elementDepthCount--}();const l=nn();return l.firstCreatePass&&(Xs(l,o),ss(o)&&l.queries.elementEnd(o)),null!=s.classesWithoutHost&&function Ci(o){return 0!=(16&o.flags)}(s)&&uh(l,s,Fe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function nr(o){return 0!=(32&o.flags)}(s)&&uh(l,s,Fe(),s.stylesWithoutHost,!1),rm}function im(o,s,l,d){return nm(o,s,l,d),rm(),im}function dh(o,s,l){const d=Fe(),h=nn(),g=o+22,_=h.firstCreatePass?function j0(o,s,l,d,h){const g=s.consts,_=li(g,d),b=zu(s,o,8,"ng-container",_);return null!==_&&Xg(b,_,!0),P_(s,l,b,li(g,h)),null!==s.queries&&s.queries.elementStart(s,b),b}(g,h,d,s,l):h.data[g];bi(_,!0);const b=d[g]=d[11].createComment("");return Xa(h,d,b,_),Pt(b,d),Ls(_)&&(qu(h,d,_),Zf(h,_,d)),null!=l&&C0(d,_),dh}function _r(){let o=tr();const s=nn();return cs()?Pa():(o=o.parent,bi(o,!1)),s.firstCreatePass&&(Xs(s,o),ss(o)&&s.queries.elementEnd(o)),_r}function G_(){return Fe()}function hh(o){return!!o&&"function"==typeof o.then}function z0(o){return!!o&&"function"==typeof o.subscribe}const hT=z0;function q_(o,s,l,d){const h=Fe(),g=nn(),_=tr();return function fT(o,s,l,d,h,g,_,b){const S=Ls(d),k=o.firstCreatePass&&R0(o),$=s[8],J=N_(s);let re=!0;if(3&d.type||b){const Ge=Gr(d,s),ht=b?b(Ge):Ge,Vt=J.length,He=b?Vn=>b(An(Vn[d.index])):d.index;let Ht=null;if(!b&&S&&(Ht=function hP(o,s,l,d){const h=o.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const _=h[g];if(_===l&&h[g+1]===d){const b=s[7],S=h[g+2];return b.length>S?b[S]:null}"string"==typeof _&&(g+=2)}return null}(o,s,h,d.index)),null!==Ht)(Ht.__ngLastListenerFn__||Ht).__ngNextListenerFn__=g,Ht.__ngLastListenerFn__=g,re=!1;else{g=q0(d,s,$,g,!1);const Vn=l.listen(ht,h,g);J.push(g,Vn),k&&k.push(h,He,Vt,Vt+1)}}else g=q0(d,s,$,g,!1);const Oe=d.outputs;let qe;if(re&&null!==Oe&&(qe=Oe[h])){const Ge=qe.length;if(Ge)for(let ht=0;ht<Ge;ht+=2){const Un=s[qe[ht]][qe[ht+1]].subscribe(g),xo=J.length;J.push(g,Un),k&&k.push(h,d.index,xo,-(xo+1))}}}(g,h,h[11],_,o,s,0,d),q_}function G0(o,s,l,d){try{return!1!==l(d)}catch(h){return F_(o,h),!1}}function q0(o,s,l,d,h){return function g(_){if(_===Function)return d;k_(2&o.flags?dr(o.index,s):s);let S=G0(s,0,d,_),A=g.__ngNextListenerFn__;for(;A;)S=G0(s,0,A,_)&&S,A=A.__ngNextListenerFn__;return h&&!1===S&&(_.preventDefault(),_.returnValue=!1),S}}function pT(o=1){return function uc(o){return(Lt.lFrame.contextLView=function xd(o,s){for(;o>0;)s=s[15],o--;return s}(o,Lt.lFrame.contextLView))[8]}(o)}function fP(o,s){let l=null;const d=function Ng(o){const s=o.attrs;if(null!=s){const l=s.indexOf(5);if(0==(1&l))return s[l+1]}return null}(o);for(let h=0;h<s.length;h++){const g=s[h];if("*"!==g){if(null===d?m_(o,g,!0):TD(d,g))return h}else l=h}return l}function gT(o){const s=Fe()[16][6];if(!s.projection){const d=s.projection=bc(o?o.length:1,null),h=d.slice();let g=s.child;for(;null!==g;){const _=o?fP(g,o):0;null!==_&&(h[_]?h[_].projectionNext=g:d[_]=g,h[_]=g),g=g.next}}}function mT(o,s=0,l){const d=Fe(),h=nn(),g=zu(h,22+o,16,null,l||null);null===g.projection&&(g.projection=s),Pa(),64!=(64&g.flags)&&function jI(o,s,l){ub(s[11],0,s,l,Ja(o,l,s),cb(l.parent||s[6],l,s))}(h,d,g)}function W0(o,s,l){return Z0(o,"",s,"",l),W0}function Z0(o,s,l,d,h){const g=Fe(),_=lh(g,s,l,d);return _!==tn&&qo(nn(),On(),g,o,_,g[11],h,!1),Z0}function Q0(o,s,l,d,h){const g=o[l+1],_=null===s;let b=d?Ts(g):nl(g),S=!1;for(;0!==b&&(!1===S||_);){const k=o[b+1];wT(o[b],s)&&(S=!0,o[b+1]=d?Hg(k):Ug(k)),b=d?Ts(k):nl(k)}S&&(o[l+1]=d?Ug(g):Hg(g))}function wT(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&na(o,s)>=0}const ri={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function J0(o){return o.substring(ri.key,ri.keyEnd)}function X0(o,s){const l=ri.textEnd;return l===s?-1:(s=ri.keyEnd=function lm(o,s,l){for(;s<l&&o.charCodeAt(s)>32;)s++;return s}(o,ri.key=s,l),$c(o,s,l))}function $c(o,s,l){for(;s<l&&o.charCodeAt(s)<=32;)s++;return s}function Y_(o,s,l){return pa(o,s,l,!1),Y_}function Q_(o,s){return pa(o,s,null,!0),Q_}function cp(o){ga(Oi,fa,o,!0)}function fa(o,s){for(let l=function CT(o){return function am(o){ri.key=0,ri.keyEnd=0,ri.value=0,ri.valueEnd=0,ri.textEnd=o.length}(o),X0(o,$c(o,0,ri.textEnd))}(s);l>=0;l=X0(s,l))Oi(o,J0(s),!0)}function pa(o,s,l,d){const h=Fe(),g=nn(),_=ui(2);g.firstUpdatePass&&rC(g,o,_,d),s!==tn&&Ji(h,_,s)&&sC(g,g.data[_n()],h,h[11],o,h[_+1]=function tv(o,s){return null==o||("string"==typeof s?o+=s:"object"==typeof o&&(o=Ce(Ds(o)))),o}(s,l),d,_)}function ga(o,s,l,d){const h=nn(),g=ui(2);h.firstUpdatePass&&rC(h,null,g,d);const _=Fe();if(l!==tn&&Ji(_,g,l)){const b=h.data[_n()];if(pm(b,d)&&!nC(h,g)){let S=d?b.classesWithoutHost:b.stylesWithoutHost;null!==S&&(l=Ie(S,l||"")),uh(h,b,_,l,d)}else!function ev(o,s,l,d,h,g,_,b){h===tn&&(h=It);let S=0,A=0,k=0<h.length?h[0]:null,$=0<g.length?g[0]:null;for(;null!==k||null!==$;){const J=S<h.length?h[S+1]:void 0,re=A<g.length?g[A+1]:void 0;let qe,Oe=null;k===$?(S+=2,A+=2,J!==re&&(Oe=$,qe=re)):null===$||null!==k&&k<$?(S+=2,Oe=k):(A+=2,Oe=$,qe=re),null!==Oe&&sC(o,s,l,d,Oe,qe,_,b),k=S<h.length?h[S]:null,$=A<g.length?g[A]:null}}(h,b,_,_[11],_[g+1],_[g+1]=function DT(o,s,l){if(null==l||""===l)return It;const d=[],h=Ds(l);if(Array.isArray(h))for(let g=0;g<h.length;g++)o(d,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&o(d,g,h[g]);else"string"==typeof h&&s(d,h);return d}(o,s,l),d,g)}}function nC(o,s){return s>=o.expandoStartIndex}function rC(o,s,l,d){const h=o.data;if(null===h[l+1]){const g=h[_n()],_=nC(o,l);pm(g,d)&&null===s&&!_&&(s=!1),s=function iC(o,s,l,d){const h=function xl(o){const s=Lt.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}(o);let g=d?s.residualClasses:s.residualStyles;if(null===h)0===(d?s.classBindings:s.styleBindings)&&(l=Ql(l=dm(null,o,s,l,d),s.attrs,d),g=null);else{const _=s.directiveStylingLast;if(-1===_||o[_]!==h)if(l=dm(h,o,s,l,d),null===g){let S=function J_(o,s,l){const d=l?s.classBindings:s.styleBindings;if(0!==nl(d))return o[Ts(d)]}(o,s,d);void 0!==S&&Array.isArray(S)&&(S=dm(null,o,s,S[1],d),S=Ql(S,s.attrs,d),function oC(o,s,l,d){o[Ts(l?s.classBindings:s.styleBindings)]=d}(o,s,d,S))}else g=function X_(o,s,l){let d;const h=s.directiveEnd;for(let g=1+s.directiveStylingLast;g<h;g++)d=Ql(d,o[g].hostAttrs,l);return Ql(d,s.attrs,l)}(o,s,d)}return void 0!==g&&(d?s.residualClasses=g:s.residualStyles=g),l}(h,g,s,d),function K_(o,s,l,d,h,g){let _=g?s.classBindings:s.styleBindings,b=Ts(_),S=nl(_);o[d]=l;let k,A=!1;if(Array.isArray(l)){const $=l;k=$[1],(null===k||na($,k)>0)&&(A=!0)}else k=l;if(h)if(0!==S){const J=Ts(o[b+1]);o[d+1]=Lf(J,b),0!==J&&(o[J+1]=Bg(o[J+1],d)),o[b+1]=function l0(o,s){return 131071&o|s<<17}(o[b+1],d)}else o[d+1]=Lf(b,0),0!==b&&(o[b+1]=Bg(o[b+1],d)),b=d;else o[d+1]=Lf(S,0),0===b?b=d:o[S+1]=Bg(o[S+1],d),S=d;A&&(o[d+1]=Ug(o[d+1])),Q0(o,k,d,!0),Q0(o,k,d,!1),function vT(o,s,l,d,h){const g=h?o.residualClasses:o.residualStyles;null!=g&&"string"==typeof s&&na(g,s)>=0&&(l[d+1]=Hg(l[d+1]))}(s,k,o,d,g),_=Lf(b,S),g?s.classBindings=_:s.styleBindings=_}(h,g,s,l,_,d)}}function dm(o,s,l,d,h){let g=null;const _=l.directiveEnd;let b=l.directiveStylingLast;for(-1===b?b=l.directiveStart:b++;b<_&&(g=s[b],d=Ql(d,g.hostAttrs,h),g!==o);)b++;return null!==o&&(l.directiveStylingLast=b),d}function Ql(o,s,l){const d=l?1:2;let h=-1;if(null!==s)for(let g=0;g<s.length;g++){const _=s[g];"number"==typeof _?h=_:h===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Oi(o,_,!!l||s[++g]))}return void 0===o?null:o}function sC(o,s,l,d,h,g,_,b){if(!(3&s.type))return;const S=o.data,A=S[b+1];fh(function Vf(o){return 1==(1&o)}(A)?fm(S,s,l,h,nl(A),_):void 0)||(fh(g)||function I_(o){return 2==(2&o)}(A)&&(g=fm(S,null,l,h,b,_)),function GI(o,s,l,d,h){if(s)h?o.addClass(l,d):o.removeClass(l,d);else{let g=-1===d.indexOf("-")?void 0:po.DashCase;null==h?o.removeStyle(l,d,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=po.Important),o.setStyle(l,d,h,g))}}(d,_,No(_n(),l),h,g))}function fm(o,s,l,d,h,g){const _=null===s;let b;for(;h>0;){const S=o[h],A=Array.isArray(S),k=A?S[1]:S,$=null===k;let J=l[h+1];J===tn&&(J=$?It:void 0);let re=$?Cc(J,d):k===d?J:void 0;if(A&&!fh(re)&&(re=Cc(S,d)),fh(re)&&(b=re,_))return b;const Oe=o[h+1];h=_?Ts(Oe):nl(Oe)}if(null!==s){let S=g?s.residualClasses:s.residualStyles;null!=S&&(b=Cc(S,d))}return b}function fh(o){return void 0!==o}function pm(o,s){return 0!=(o.flags&(s?16:32))}function aC(o,s=""){const l=Fe(),d=nn(),h=o+22,g=d.firstCreatePass?zu(d,h,1,s,null):d.data[h],_=l[h]=function P(o,s){return o.createText(s)}(l[11],s);Xa(d,l,_,g),bi(g,!1)}function nv(o){return gm("",o,""),nv}function gm(o,s,l){const d=Fe(),h=lh(d,o,s,l);return h!==tn&&rl(d,_n(),h),gm}function ph(o,s,l,d,h){const g=Fe(),_=Qu(g,o,s,l,d,h);return _!==tn&&rl(g,_n(),_),ph}function ov(o,s,l){ga(Oi,fa,lh(Fe(),o,s,l),!0)}const mh=void 0;var BT=["en",[["a","p"],["AM","PM"],mh],[["AM","PM"],mh,mh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mh,"{1} 'at' {0}",mh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function pP(o){const l=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let td={};function Cm(o){const s=function $T(o){return o.toLowerCase().replace(/_/g,"-")}(o);let l=HT(s);if(l)return l;const d=s.split("-")[0];if(l=HT(d),l)return l;if("en"===d)return BT;throw new Me(701,!1)}function up(o){return Cm(o)[zt.PluralCase]}function HT(o){return o in td||(td[o]=hn.ng&&hn.ng.common&&hn.ng.common.locales&&hn.ng.common.locales[o]),td[o]}var zt=(()=>((zt=zt||{})[zt.LocaleId=0]="LocaleId",zt[zt.DayPeriodsFormat=1]="DayPeriodsFormat",zt[zt.DayPeriodsStandalone=2]="DayPeriodsStandalone",zt[zt.DaysFormat=3]="DaysFormat",zt[zt.DaysStandalone=4]="DaysStandalone",zt[zt.MonthsFormat=5]="MonthsFormat",zt[zt.MonthsStandalone=6]="MonthsStandalone",zt[zt.Eras=7]="Eras",zt[zt.FirstDayOfWeek=8]="FirstDayOfWeek",zt[zt.WeekendRange=9]="WeekendRange",zt[zt.DateFormat=10]="DateFormat",zt[zt.TimeFormat=11]="TimeFormat",zt[zt.DateTimeFormat=12]="DateTimeFormat",zt[zt.NumberSymbols=13]="NumberSymbols",zt[zt.NumberFormats=14]="NumberFormats",zt[zt.CurrencyCode=15]="CurrencyCode",zt[zt.CurrencySymbol=16]="CurrencySymbol",zt[zt.CurrencyName=17]="CurrencyName",zt[zt.Currencies=18]="Currencies",zt[zt.Directionality=19]="Directionality",zt[zt.PluralCase=20]="PluralCase",zt[zt.ExtraData=21]="ExtraData",zt))();const yh="en-US";let zT=yh;function Pm(o,s,l,d,h){if(o=ne(o),Array.isArray(o))for(let g=0;g<o.length;g++)Pm(o[g],s,l,d,h);else{const g=nn(),_=Fe();let b=Zl(o)?o:ne(o.provide),S=Af(o);const A=tr(),k=1048575&A.providerIndexes,$=A.directiveStart,J=A.providerIndexes>>20;if(Zl(o)||!o.multi){const re=new hs(S,h,th),Oe=_p(b,s,h?k:k+J,$);-1===Oe?(ys(Ua(A,_),g,b),bh(g,o,s.length),s.push(b),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),l.push(re),_.push(re)):(l[Oe]=re,_[Oe]=re)}else{const re=_p(b,s,k+J,$),Oe=_p(b,s,k,k+J),qe=re>=0&&l[re],Ge=Oe>=0&&l[Oe];if(h&&!Ge||!h&&!qe){ys(Ua(A,_),g,b);const ht=function FC(o,s,l,d,h){const g=new hs(o,l,th);return g.multi=[],g.index=s,g.componentProviders=0,Om(g,h,d&&!l),g}(h?Tv:Dv,l.length,h,d,S);!h&&Ge&&(l[Oe].providerFactory=ht),bh(g,o,s.length,0),s.push(b),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),l.push(ht),_.push(ht)}else bh(g,o,re>-1?re:Oe,Om(l[h?Oe:re],S,!h&&d));!h&&d&&Ge&&l[Oe].componentProviders++}}}function bh(o,s,l,d){const h=Zl(s),g=function Ab(o){return!!o.useClass}(s);if(h||g){const S=(g?ne(s.useClass):s).prototype.ngOnDestroy;if(S){const A=o.destroyHooks||(o.destroyHooks=[]);if(!h&&s.multi){const k=A.indexOf(l);-1===k?A.push(l,[d,S]):A[k+1].push(d,S)}else A.push(l,S)}}}function Om(o,s,l){return l&&o.componentProviders++,o.multi.push(s)-1}function _p(o,s,l,d){for(let h=l;h<d;h++)if(s[h]===o)return h;return-1}function Dv(o,s,l,d){return Rm(this.multi,[])}function Tv(o,s,l,d){const h=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,b=_s(l,l[1],this.providerFactory.index,d);g=b.slice(0,_),Rm(h,g);for(let S=_;S<b.length;S++)g.push(b[S])}else g=[],Rm(h,g);return g}function Rm(o,s){for(let l=0;l<o.length;l++)s.push((0,o[l])());return s}function LC(o,s=[]){return l=>{l.providersResolver=(d,h)=>function NC(o,s,l){const d=nn();if(d.firstCreatePass){const h=vi(o);Pm(l,d.data,d.blueprint,h,!0),Pm(s,d.data,d.blueprint,h,!1)}}(d,h?h(o):o,s)}}class od{}class Sv{}function xv(o,s){return new VC(o,s??null)}class VC extends od{constructor(s,l){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new em(this);const d=Xe(s);this._bootstrapComponents=Kl(d.bootstrap),this._r3Injector=Jb(s,l,[{provide:od,useValue:this},{provide:Pf,useValue:this.componentFactoryResolver}],Ce(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class vp extends Sv{constructor(s){super(),this.moduleType=s}create(s){return new VC(this.moduleType,s)}}class Av extends od{constructor(s,l,d){super(),this.componentFactoryResolver=new em(this),this.instance=null;const h=new xf([...s,{provide:od,useValue:this},{provide:Pf,useValue:this.componentFactoryResolver}],l||Mg(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function wp(o,s,l=null){return new Av(o,s,l).injector}let Ei=(()=>{class o{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l.id)){const d=Tb(0,l.type),h=d.length>0?wp([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l.id,h)}return this.cachedInjectors.get(l.id)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=ke({token:o,providedIn:"environment",factory:()=>new o(xr(Vu))}),o})();function Ii(o){o.getStandaloneInjector=s=>s.get(Ei).getOrCreateStandaloneInjector(o)}function qC(o,s,l){const d=ci()+o,h=Fe();return h[d]===tn?Ko(h,d,l?s.call(l):s()):ah(h,d)}function Ih(o,s,l,d){return Gc(Fe(),ci(),o,s,l,d)}function Ov(o,s,l,d,h){return function Rv(o,s,l,d,h,g,_){const b=s+l;return Bc(o,b,h,g)?Ko(o,b+2,_?d.call(_,h,g):d(h,g)):Cp(o,b+2)}(Fe(),ci(),o,s,l,d,h)}function bp(o,s,l,d,h,g,_,b){const S=ci()+o,A=Fe(),k=function Yo(o,s,l,d,h,g){const _=Bc(o,s,l,d);return Bc(o,s+2,h,g)||_}(A,S,l,d,h,g);return Ji(A,S+4,_)||k?Ko(A,S+5,b?s.call(b,l,d,h,g,_):s(l,d,h,g,_)):ah(A,S+5)}function Cp(o,s){const l=o[s];return l===tn?void 0:l}function Gc(o,s,l,d,h,g){const _=s+l;return Ji(o,_,h)?Ko(o,_+1,g?d.call(g,h):d(h)):Cp(o,_+1)}function Nv(o,s){const l=nn();let d;const h=o+22;l.firstCreatePass?(d=function go(o,s){if(s)for(let l=s.length-1;l>=0;l--){const d=s[l];if(o===d.name)return d}}(s,l.pipeRegistry),l.data[h]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(h,d.onDestroy)):d=l.data[h];const g=d.factory||(d.factory=ko(d.type)),_=dn(th);try{const b=_e(!1),S=g();return _e(b),function Hc(o,s,l,d){l>=o.data.length&&(o.data[l]=null,o.blueprint[l]=null),s[l]=d}(l,Fe(),h,S),S}finally{dn(_)}}function Sh(o,s,l){const d=o+22,h=Fe(),g=ai(h,d);return function xh(o,s){return o[1].data[s].pure}(h,d)?Gc(h,ci(),s,g.transform,l,g):g.transform(l)}function Dp(o){return s=>{setTimeout(o,void 0,s)}}const xs=class Ip extends c.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,l,d){let h=s,g=l||(()=>null),_=d;if(s&&"object"==typeof s){const S=s;h=S.next?.bind(S),g=S.error?.bind(S),_=S.complete?.bind(S)}this.__isAsync&&(g=Dp(g),h&&(h=Dp(h)),_&&(_=Dp(_)));const b=super.subscribe({next:h,error:g,complete:_});return s instanceof q.w0&&s.add(b),b}};function Lv(){return this._results[Zo()]()}class Ah{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=Zo(),d=Ah.prototype;d[l]||(d[l]=Lv)}get changes(){return this._changes||(this._changes=new xs)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,l){return this._results.reduce(s,l)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,l){const d=this;d.dirty=!1;const h=Zr(s);(this._changesDetected=!function wc(o,s,l){if(o.length!==s.length)return!1;for(let d=0;d<o.length;d++){let h=o[d],g=s[d];if(l&&(h=l(h),g=l(g)),g!==h)return!1}return!0}(d._results,h,l))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Jl=(()=>{class o{}return o.__NG_ELEMENT_ID__=Vv,o})();const QC=Jl,yS=class extends QC{constructor(s,l,d){super(),this._declarationLView=s,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(s,l){const d=this._declarationTContainer.tViews,h=rh(this._declarationLView,d,s,16,null,d.declTNode,null,null,null,null,l||null);h[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(h[19]=_.createEmbeddedView(d)),ih(d,h,s),new Wu(h)}};function Vv(){return sd(tr(),Fe())}function sd(o,s){return 4&o.type?new yS(s,o,Yd(o,s)):null}let Mh=(()=>{class o{}return o.__NG_ELEMENT_ID__=JC,o})();function JC(){return Bv(tr(),Fe())}const XC=Mh,Uv=class extends XC{constructor(s,l,d){super(),this._lContainer=s,this._hostTNode=l,this._hostLView=d}get element(){return Yd(this._hostTNode,this._hostLView)}get injector(){return new Ha(this._hostTNode,this._hostLView)}get parentInjector(){const s=kl(this._hostTNode,this._hostLView);if(gs(s)){const l=O(s,this._hostLView),d=E(s);return new Ha(l[1].data[d+8],l)}return new Ha(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const l=eE(this._lContainer);return null!==l&&l[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,l,d){let h,g;"number"==typeof d?h=d:null!=d&&(h=d.index,g=d.injector);const _=s.createEmbeddedView(l||{},g);return this.insert(_,h),_}createComponent(s,l,d,h,g){const _=s&&!function Wi(o){return"function"==typeof o}(s);let b;if(_)b=l;else{const $=l||{};b=$.index,d=$.injector,h=$.projectableNodes,g=$.environmentInjector||$.ngModuleRef}const S=_?s:new Ku(V(s)),A=d||this.parentInjector;if(!g&&null==S.ngModule){const J=(_?A:this.parentInjector).get(Vu,null);J&&(g=J)}const k=S.create(A,h,void 0,g);return this.insert(k.hostView,b),k}insert(s,l){const d=s._lView,h=d[1];if(function ls(o){return Ir(o[3])}(d)){const k=this.indexOf(s);if(-1!==k)this.detach(k);else{const $=d[3],J=new Uv($,$[6],$[3]);J.detach(J.indexOf(s))}}const g=this._adjustIndex(l),_=this._lContainer;!function Ki(o,s,l,d){const h=10+d,g=l.length;d>0&&(l[h-1][4]=s),d<g-10?(s[4]=l[h],gu(l,10+d,s)):(l.push(s),s[4]=null),s[3]=l;const _=s[17];null!==_&&l!==_&&function Ya(o,s){const l=o[9];s[16]!==s[3][3][16]&&(o[2]=!0),null===l?o[9]=[s]:l.push(s)}(_,s);const b=s[19];null!==b&&b.insertView(o),s[2]|=64}(h,d,_,g);const b=jy(g,_),S=d[11],A=Eg(S,_[7]);return null!==A&&function at(o,s,l,d,h,g){d[0]=h,d[6]=s,vf(o,d,l,1,h,g)}(h,_[6],S,d,A,b),s.attachToViewContainerRef(),gu(ad(_),g,s),s}move(s,l){return this.insert(s,l)}indexOf(s){const l=eE(this._lContainer);return null!==l?l.indexOf(s):-1}remove(s){const l=this._adjustIndex(s,-1),d=Qa(this._lContainer,l);d&&(Bl(ad(this._lContainer),l),la(d[1],d))}detach(s){const l=this._adjustIndex(s,-1),d=Qa(this._lContainer,l);return d&&null!=Bl(ad(this._lContainer),l)?new Wu(d):null}_adjustIndex(s,l=0){return s??this.length+l}};function eE(o){return o[8]}function ad(o){return o[8]||(o[8]=[])}function Bv(o,s){let l;const d=s[o.index];if(Ir(d))l=d;else{let h;if(8&o.type)h=An(d);else{const g=s[11];h=g.createComment("");const _=Gr(o,s);ca(g,Eg(g,_),h,function Uy(o,s){return o.nextSibling(s)}(g,_),!1)}s[o.index]=l=M0(d,s,h,o),Xf(s,l)}return new Uv(l,o,s)}class Sp{constructor(s){this.queryList=s,this.matches=null}clone(){return new Sp(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hv{constructor(s=[]){this.queries=s}createEmbeddedView(s){const l=s.queries;if(null!==l){const d=null!==s.contentQueries?s.contentQueries[0]:l.length,h=[];for(let g=0;g<d;g++){const _=l.getByIndex(g);h.push(this.queries[_.indexInDeclarationView].clone())}return new Hv(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let l=0;l<this.queries.length;l++)null!==rE(s,l).matches&&this.queries[l].setDirty()}}class tE{constructor(s,l,d=null){this.predicate=s,this.flags=l,this.read=d}}class Um{constructor(s=[]){this.queries=s}elementStart(s,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(s,l)}elementEnd(s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(s)}embeddedTView(s){let l=null;for(let d=0;d<this.length;d++){const h=null!==l?l.length:0,g=this.getByIndex(d).embeddedTView(s,h);g&&(g.indexInDeclarationView=d,null!==l?l.push(g):l=[g])}return null!==l?new Um(l):null}template(s,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(s,l)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Bm{constructor(s,l=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(s,l){this.isApplyingToNode(l)&&this.matchTNode(s,l)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,l){this.elementStart(s,l)}embeddedTView(s,l){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,l),new Bm(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=s.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(s,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(s,l,_S(l,g)),this.matchTNodeWithReadOption(s,l,Ba(l,s,g,!1,!1))}else d===Jl?4&l.type&&this.matchTNodeWithReadOption(s,l,-1):this.matchTNodeWithReadOption(s,l,Ba(l,s,d,!1,!1))}matchTNodeWithReadOption(s,l,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===Of||h===Mh||h===Jl&&4&l.type)this.addMatch(l.index,-2);else{const g=Ba(l,s,h,!1,!1);null!==g&&this.addMatch(l.index,g)}else this.addMatch(l.index,d)}}addMatch(s,l){null===this.matches?this.matches=[s,l]:this.matches.push(s,l)}}function _S(o,s){const l=o.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===s)return l[d+1];return null}function Xl(o,s,l,d){return-1===l?function ld(o,s){return 11&o.type?Yd(o,s):4&o.type?sd(o,s):null}(s,o):-2===l?function Hm(o,s,l){return l===Of?Yd(s,o):l===Jl?sd(s,o):l===Mh?Bv(s,o):void 0}(o,s,d):_s(o,o[1],l,s)}function xp(o,s,l,d){const h=s[19].queries[d];if(null===h.matches){const g=o.data,_=l.matches,b=[];for(let S=0;S<_.length;S+=2){const A=_[S];b.push(A<0?null:Xl(s,g[A],_[S+1],l.metadata.read))}h.matches=b}return h.matches}function $m(o,s,l,d){const h=o.queries.getByIndex(l),g=h.matches;if(null!==g){const _=xp(o,s,h,l);for(let b=0;b<g.length;b+=2){const S=g[b];if(S>0)d.push(_[b/2]);else{const A=g[b+1],k=s[-S];for(let $=10;$<k.length;$++){const J=k[$];J[17]===J[3]&&$m(J[1],J,A,d)}if(null!==k[9]){const $=k[9];for(let J=0;J<$.length;J++){const re=$[J];$m(re[1],re,A,d)}}}}}return d}function cr(o){const s=Fe(),l=nn(),d=us();Wr(d+1);const h=rE(l,d);if(o.dirty&&function El(o){return 4==(4&o[2])}(s)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const g=h.crossesNgTemplate?$m(l,s,d,[]):xp(l,s,h,d);o.reset(g,kb),o.notifyOnChanges()}return!0}return!1}function Ap(o,s,l){const d=nn();d.firstCreatePass&&(nE(d,new tE(o,s,l),-1),2==(2&s)&&(d.staticViewQueries=!0)),$v(d,Fe(),s)}function Oh(o,s,l,d){const h=nn();if(h.firstCreatePass){const g=tr();nE(h,new tE(s,l,d),g.index),function wS(o,s){const l=o.contentQueries||(o.contentQueries=[]);s!==(l.length?l[l.length-1]:-1)&&l.push(o.queries.length-1,s)}(h,o),2==(2&l)&&(h.staticContentQueries=!0)}$v(h,Fe(),l)}function Rh(){return function vS(o,s){return o[19].queries[s].queryList}(Fe(),us())}function $v(o,s,l){const d=new Ah(4==(4&l));Yf(o,s,d,d.destroy),null===s[19]&&(s[19]=new Hv),s[19].queries.push(new Sp(d))}function nE(o,s,l){null===o.queries&&(o.queries=new Um),o.queries.track(new Bm(s,l))}function rE(o,s){return o.queries.getByIndex(s)}function iE(o,s){return sd(o,s)}function al(...o){}const Jv=new Dn("Application Initializer");let Fp=(()=>{class o{constructor(l){this.appInits=l,this.resolve=al,this.reject=al,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(hh(g))l.push(g);else if(hT(g)){const _=new Promise((b,S)=>{g.subscribe({complete:b,error:S})});l.push(_)}}Promise.all(l).then(()=>{d()}).catch(h=>{this.reject(h)}),0===l.length&&d(),this.initialized=!0}}return o.\u0275fac=function(l){return new(l||o)(xr(Jv,8))},o.\u0275prov=ke({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Xv=new Dn("AppId",{providedIn:"root",factory:function Lp(){return`${Ym()}${Ym()}${Ym()}`}});function Ym(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ew=new Dn("Platform Initializer"),Lh=new Dn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),bE=new Dn("appBootstrapListener");let Wn=(()=>{class o{log(l){console.log(l)}warn(l){console.warn(l)}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=ke({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Vh=new Dn("LocaleId",{providedIn:"root",factory:()=>$t(Vh,rt.Optional|rt.SkipSelf)||function NS(){return typeof $localize<"u"&&$localize.locale||yh}()}),cl=new Dn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class tw{constructor(s,l){this.ngModuleFactory=s,this.componentFactories=l}}let IE=(()=>{class o{compileModuleSync(l){return new vp(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),g=Kl(Xe(l).declarations).reduce((_,b)=>{const S=V(b);return S&&_.push(new Ku(S)),_},[]);return new tw(d,g)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=ke({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const DE=(()=>Promise.resolve(0))();function qc(o){typeof Zone>"u"?DE.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Ms{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xs(!1),this.onMicrotaskEmpty=new xs(!1),this.onStable=new xs(!1),this.onError=new xs(!1),typeof Zone>"u")throw new Me(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&l,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function LS(){let o=hn.requestAnimationFrame,s=hn.cancelAnimationFrame;if(typeof Zone<"u"&&o&&s){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function TE(o){const s=()=>{!function VS(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(hn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,iw(o),o.isCheckStableRunning=!0,rw(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),iw(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,h,g,_,b)=>{try{return Hp(o),l.invokeTask(h,g,_,b)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||o.shouldCoalesceRunChangeDetection)&&s(),SE(o)}},onInvoke:(l,d,h,g,_,b,S)=>{try{return Hp(o),l.invoke(h,g,_,b,S)}finally{o.shouldCoalesceRunChangeDetection&&s(),SE(o)}},onHasTask:(l,d,h,g)=>{l.hasTask(h,g),d===h&&("microTask"==g.change?(o._hasPendingMicrotasks=g.microTask,iw(o),rw(o)):"macroTask"==g.change&&(o.hasPendingMacrotasks=g.macroTask))},onHandleError:(l,d,h,g)=>(l.handleError(h,g),o.runOutsideAngular(()=>o.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ms.isInAngularZone())throw new Me(909,!1)}static assertNotInAngularZone(){if(Ms.isInAngularZone())throw new Me(909,!1)}run(s,l,d){return this._inner.run(s,l,d)}runTask(s,l,d,h){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+h,s,nw,al,al);try{return g.runTask(_,l,d)}finally{g.cancelTask(_)}}runGuarded(s,l,d){return this._inner.runGuarded(s,l,d)}runOutsideAngular(s){return this._outer.run(s)}}const nw={};function rw(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function iw(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Hp(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function SE(o){o._nesting--,rw(o)}class US{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xs,this.onMicrotaskEmpty=new xs,this.onStable=new xs,this.onError=new xs}run(s,l,d){return s.apply(l,d)}runGuarded(s,l,d){return s.apply(l,d)}runOutsideAngular(s){return s()}runTask(s,l,d,h){return s.apply(l,d)}}const cd=new Dn(""),ow=new Dn("");let $p,Di=(()=>{class o{constructor(l,d,h){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,$p||(function Wc(o){$p=o}(h),h.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ms.assertNotInAngularZone(),qc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())qc(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:g,updateCb:h})}whenStable(l,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,h){return[]}}return o.\u0275fac=function(l){return new(l||o)(xr(Ms),xr(ud),xr(ow))},o.\u0275prov=ke({token:o,factory:o.\u0275fac}),o})(),ud=(()=>{class o{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return $p?.findTestabilityInTree(this,l,d)??null}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=ke({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),Zc=null;const ze=new Dn("AllowMultipleToken"),Pr=new Dn("PlatformDestroyListeners");class BS{constructor(s,l){this.name=s,this.token=l}}function aw(o,s,l=[]){const d=`Platform: ${s}`,h=new Dn(d);return(g=[])=>{let _=lw();if(!_||_.injector.get(ze,!1)){const b=[...l,...g,{provide:h,useValue:!0}];o?o(b):function lt(o){if(Zc&&!Zc.get(ze,!1))throw new Me(400,!1);Zc=o;const s=o.get(AE);(function Ue(o){const s=o.get(ew,null);s&&s.forEach(l=>l())})(o)}(function xE(o=[],s){return Fc.create({name:s,providers:[{provide:Sf,useValue:"platform"},{provide:Pr,useValue:new Set([()=>Zc=null])},...o]})}(b,d))}return function HS(o){const s=lw();if(!s)throw new Me(401,!1);return s}()}}function lw(){return Zc?.get(AE)??null}let AE=(()=>{class o{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const h=function ME(o,s){let l;return l="noop"===o?new US:("zone.js"===o?void 0:o)||new Ms(s),l}(d?.ngZone,function cw(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:Ms,useValue:h}];return h.run(()=>{const _=Fc.create({providers:g,parent:this.injector,name:l.moduleType.name}),b=l.create(_),S=b.injector.get(Rf,null);if(!S)throw new Me(402,!1);return h.runOutsideAngular(()=>{const A=h.onError.subscribe({next:k=>{S.handleError(k)}});b.onDestroy(()=>{Kt(this._modules,b),A.unsubscribe()})}),function $S(o,s,l){try{const d=l();return hh(d)?d.catch(h=>{throw s.runOutsideAngular(()=>o.handleError(h)),h}):d}catch(d){throw s.runOutsideAngular(()=>o.handleError(d)),d}}(S,h,()=>{const A=b.injector.get(Fp);return A.runInitializers(),A.donePromise.then(()=>(function GT(o){ae(o,"Expected localeId to be defined"),"string"==typeof o&&(zT=o.toLowerCase().replace(/_/g,"-"))}(b.injector.get(Vh,yh)||yh),this._moduleDoBootstrap(b),b))})})}bootstrapModule(l,d=[]){const h=PE({},d);return function sw(o,s,l){const d=new vp(l);return Promise.resolve(d)}(0,0,l).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(l){const d=l.injector.get(jp);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!l.instance.ngDoBootstrap)throw new Me(403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Me(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(Pr,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(l){return new(l||o)(xr(Fc))},o.\u0275prov=ke({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function PE(o,s){return Array.isArray(s)?s.reduce(PE,o):{...o,...s}}let jp=(()=>{class o{constructor(l,d,h){this._zone=l,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new N.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),_=new N.y(b=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Ms.assertNotInAngularZone(),qc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{Ms.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{S.unsubscribe(),A.unsubscribe()}});this.isStable=(0,le.T)(g,_.pipe((0,fe.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const h=l instanceof Ob;if(!this._injector.get(Fp).done)throw!h&&Se(l),new Me(405,false);let _;_=h?l:this._injector.get(Pf).resolveComponentFactory(l),this.componentTypes.push(_.componentType);const b=function Rt(o){return o.isBoundToModule}(_)?void 0:this._injector.get(od),A=_.create(Fc.NULL,[],d||_.selector,b),k=A.location.nativeElement,$=A.injector.get(cd,null);return $?.registerApplication(k),A.onDestroy(()=>{this.detachView(A.hostView),Kt(this.components,A),$?.unregisterApplication(k)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new Me(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;Kt(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(bE,[]).concat(this._bootstrapListeners).forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>Kt(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Me(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(l){return new(l||o)(xr(Ms),xr(Vu),xr(Rf))},o.\u0275prov=ke({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Kt(o,s){const l=o.indexOf(s);l>-1&&o.splice(l,1)}let hr=!0,kt=!1;function zp(){return kt=!0,hr}function Tn(){if(kt)throw new Error("Cannot enable prod mode after platform setup.");hr=!1}let Jm=(()=>{class o{}return o.__NG_ELEMENT_ID__=uw,o})();function uw(o){return function hd(o,s,l){if(io(o)&&!l){const d=dr(o.index,s);return new Wu(d,d)}return 47&o.type?new Wu(s[16],s):null}(tr(),Fe(),16==(16&o))}class FE{constructor(){}supports(s){return sh(s)}create(s){return new Jo(s)}}const GS=(o,s)=>s;class Jo{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||GS}forEachItem(s){let l;for(l=this._itHead;null!==l;l=l._next)s(l)}forEachOperation(s){let l=this._itHead,d=this._removalsHead,h=0,g=null;for(;l||d;){const _=!d||l&&l.currentIndex<Bi(d,h,g)?l:d,b=Bi(_,h,g),S=_.currentIndex;if(_===d)h--,d=d._nextRemoved;else if(l=l._next,null==_.previousIndex)h++;else{g||(g=[]);const A=b-h,k=S-h;if(A!=k){for(let J=0;J<A;J++){const re=J<g.length?g[J]:g[J]=0,Oe=re+J;k<=Oe&&Oe<A&&(g[J]=re+1)}g[_.previousIndex]=k-A}}b!==S&&s(_,b,S)}}forEachPreviousItem(s){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachMovedItem(s){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}forEachIdentityChange(s){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)s(l)}diff(s){if(null==s&&(s=[]),!sh(s))throw new Me(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,g,_,l=this._itHead,d=!1;if(Array.isArray(s)){this.length=s.length;for(let b=0;b<this.length;b++)g=s[b],_=this._trackByFn(b,g),null!==l&&Object.is(l.trackById,_)?(d&&(l=this._verifyReinsertion(l,g,_,b)),Object.is(l.item,g)||this._addIdentityChange(l,g)):(l=this._mismatch(l,g,_,b),d=!0),l=l._next}else h=0,function H0(o,s){if(Array.isArray(o))for(let l=0;l<o.length;l++)s(o[l]);else{const l=o[Zo()]();let d;for(;!(d=l.next()).done;)s(d.value)}}(s,b=>{_=this._trackByFn(h,b),null!==l&&Object.is(l.trackById,_)?(d&&(l=this._verifyReinsertion(l,b,_,h)),Object.is(l.item,b)||this._addIdentityChange(l,b)):(l=this._mismatch(l,b,_,h),d=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,l,d,h){let g;return null===s?g=this._itTail:(g=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._reinsertAfter(s,g,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._moveAfter(s,g,h)):s=this._addAfter(new Gp(l,d),g,h),s}_verifyReinsertion(s,l,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?s=this._reinsertAfter(g,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const l=s._next;this._addToRemovals(this._unlink(s)),s=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,g=s._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(s,l,d),this._addToMoves(s,d),s}_moveAfter(s,l,d){return this._unlink(s),this._insertAfter(s,l,d),this._addToMoves(s,d),s}_addAfter(s,l,d){return this._insertAfter(s,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,l,d){const h=null===l?this._itHead:l._next;return s._next=h,s._prev=l,null===h?this._itTail=s:h._prev=s,null===l?this._itHead=s:l._next=s,null===this._linkedRecords&&(this._linkedRecords=new gw),this._linkedRecords.put(s),s.currentIndex=d,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const l=s._prev,d=s._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,s}_addToMoves(s,l){return s.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gw),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,l){return s.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Gp{constructor(s,l){this.item=s,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qp{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,s))return d;return null}remove(s){const l=s._prevDup,d=s._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class gw{constructor(){this.map=new Map}put(s){const l=s.trackById;let d=this.map.get(l);d||(d=new qp,this.map.set(l,d)),d.add(s)}get(s,l){const h=this.map.get(s);return h?h.get(s,l):null}remove(s){const l=s.trackById;return this.map.get(l).remove(s)&&this.map.delete(l),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Bi(o,s,l){const d=o.previousIndex;if(null===d)return d;let h=0;return l&&d<l.length&&(h=l[d]),d+s+h}class LE{constructor(){}supports(s){return s instanceof Map||B_(s)}create(){return new VE}}class VE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let l;for(l=this._mapHead;null!==l;l=l._next)s(l)}forEachPreviousItem(s){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)s(l)}forEachChangedItem(s){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}diff(s){if(s){if(!(s instanceof Map||B_(s)))throw new Me(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(s,(d,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const g=this._getOrCreateRecordForKey(h,d);l=this._insertBeforeOrAppend(l,g)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,l){if(s){const d=s._prev;return l._next=s,l._prev=d,s._prev=l,d&&(d._next=l),s===this._mapHead&&(this._mapHead=l),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(s,l){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,l);const g=h._prev,_=h._next;return g&&(g._next=_),_&&(_._prev=g),h._next=null,h._prev=null,h}const d=new ul(s);return this._records.set(s,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,l){Object.is(l,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=l,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,l){s instanceof Map?s.forEach(l):Object.keys(s).forEach(d=>l(s[d],d))}}class ul{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mw(){return new Hh([new FE])}let Hh=(()=>{class o{constructor(l){this.factories=l}static create(l,d){if(null!=d){const h=d.factories.slice();l=l.concat(h)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||mw()),deps:[[o,new ia,new Co]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(null!=d)return d;throw new Me(901,!1)}}return o.\u0275prov=ke({token:o,providedIn:"root",factory:mw}),o})();function UE(){return new yw([new LE])}let yw=(()=>{class o{constructor(l){this.factories=l}static create(l,d){if(d){const h=d.factories.slice();l=l.concat(h)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||UE()),deps:[[o,new ia,new Co]]}}find(l){const d=this.factories.find(h=>h.supports(l));if(d)return d;throw new Me(901,!1)}}return o.\u0275prov=ke({token:o,providedIn:"root",factory:UE}),o})();const KS=aw(null,"core",[]);let YS=(()=>{class o{constructor(l){}}return o.\u0275fac=function(l){return new(l||o)(xr(jp))},o.\u0275mod=gr({type:o}),o.\u0275inj=xt({}),o})();function QS(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(Dt,Ne,U)=>{"use strict";U.d(Ne,{Z:()=>Me});var c=U(2090),q=U(4859),N=U(6881),le=U(1877);class fe{constructor(De,be){this._delegate=De,this.firebase=be,(0,N._addComponent)(De,new q.wA("app-compat",()=>this,"PUBLIC")),this.container=De.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(De){this._delegate.automaticDataCollectionEnabled=De}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(De=>{this._delegate.checkDestroyed(),De()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,N.deleteApp)(this._delegate)))}_getService(De,be=N._DEFAULT_ENTRY_NAME){var wt;this._delegate.checkDestroyed();const st=this._delegate.container.getProvider(De);return!st.isInitialized()&&"EXPLICIT"===(null===(wt=st.getComponent())||void 0===wt?void 0:wt.instantiationMode)&&st.initialize(),st.getImmediate({identifier:be})}_removeServiceInstance(De,be=N._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(De).clearInstance(be)}_addComponent(De){(0,N._addComponent)(this._delegate,De)}_addOrOverwriteComponent(De){(0,N._addOrOverwriteComponent)(this._delegate,De)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const we=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function Ie(){const tt=function Ce(tt){const De={},be={__esModule:!0,initializeApp:function Pe(Ye,de={}){const Qe=N.initializeApp(Ye,de);if((0,c.r3)(De,Qe.name))return De[Qe.name];const Nt=new tt(Qe,be);return De[Qe.name]=Nt,Nt},app:st,registerVersion:N.registerVersion,setLogLevel:N.setLogLevel,onLog:N.onLog,apps:null,SDK_VERSION:N.SDK_VERSION,INTERNAL:{registerComponent:function me(Ye){const de=Ye.name,Qe=de.replace("-compat","");if(N._registerComponent(Ye)&&"PUBLIC"===Ye.type){const Nt=(mt=st())=>{if("function"!=typeof mt[Qe])throw we.create("invalid-app-argument",{appName:de});return mt[Qe]()};void 0!==Ye.serviceProps&&(0,c.ZB)(Nt,Ye.serviceProps),be[Qe]=Nt,tt.prototype[Qe]=function(...mt){return this._getService.bind(this,de).apply(this,Ye.multipleInstances?mt:[])}}return"PUBLIC"===Ye.type?be[Qe]:null},removeApp:function wt(Ye){delete De[Ye]},useAsService:function We(Ye,de){return"serverAuth"===de?null:de},modularAPIs:N}};function st(Ye){if(!(0,c.r3)(De,Ye=Ye||N._DEFAULT_ENTRY_NAME))throw we.create("no-app",{appName:Ye});return De[Ye]}return be.default=be,Object.defineProperty(be,"apps",{get:function Ee(){return Object.keys(De).map(Ye=>De[Ye])}}),st.App=tt,be}(fe);return tt.INTERNAL=Object.assign(Object.assign({},tt.INTERNAL),{createFirebaseNamespace:Ie,extendNamespace:function De(be){(0,c.ZB)(tt,be)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),tt}(),Z=new le.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const tt=self.firebase.SDK_VERSION;tt&&tt.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Me=Y;!function Ve(tt){(0,N.registerVersion)("@firebase/app-compat","0.2.13",tt)}()},6881:(Dt,Ne,U)=>{"use strict";U.r(Ne),U.d(Ne,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Hi,_DEFAULT_ENTRY_NAME:()=>br,_addComponent:()=>ft,_addOrOverwriteComponent:()=>Tt,_apps:()=>Nn,_clearComponents:()=>ur,_components:()=>Qt,_getProvider:()=>zr,_registerComponent:()=>hn,_removeServiceInstance:()=>fr,deleteApp:()=>or,getApp:()=>Kn,getApps:()=>Cn,initializeApp:()=>gn,onLog:()=>sr,registerVersion:()=>pr,setLogLevel:()=>_i});var c=U(5861),q=U(4859),N=U(1877),le=U(2090);let z,we;const Y=new WeakMap,Z=new WeakMap,ne=new WeakMap,Ke=new WeakMap,Ve=new WeakMap;let De={get(ce,se,$e){if(ce instanceof IDBTransaction){if("done"===se)return Z.get(ce);if("objectStoreNames"===se)return ce.objectStoreNames||ne.get(ce);if("store"===se)return $e.objectStoreNames[1]?void 0:$e.objectStore($e.objectStoreNames[0])}return Pe(ce[se])},set:(ce,se,$e)=>(ce[se]=$e,!0),has:(ce,se)=>ce instanceof IDBTransaction&&("done"===se||"store"===se)||se in ce};function st(ce){return"function"==typeof ce?function wt(ce){return ce!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ie(){return we||(we=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ce)?function(...se){return ce.apply(Ee(this),se),Pe(Y.get(this))}:function(...se){return Pe(ce.apply(Ee(this),se))}:function(se,...$e){const je=ce.call(Ee(this),se,...$e);return ne.set(je,se.sort?se.sort():[se]),Pe(je)}}(ce):(ce instanceof IDBTransaction&&function tt(ce){if(Z.has(ce))return;const se=new Promise(($e,je)=>{const Ft=()=>{ce.removeEventListener("complete",qt),ce.removeEventListener("error",bn),ce.removeEventListener("abort",bn)},qt=()=>{$e(),Ft()},bn=()=>{je(ce.error||new DOMException("AbortError","AbortError")),Ft()};ce.addEventListener("complete",qt),ce.addEventListener("error",bn),ce.addEventListener("abort",bn)});Z.set(ce,se)}(ce),((ce,se)=>se.some($e=>ce instanceof $e))(ce,function Ce(){return z||(z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ce,De):ce)}function Pe(ce){if(ce instanceof IDBRequest)return function Me(ce){const se=new Promise(($e,je)=>{const Ft=()=>{ce.removeEventListener("success",qt),ce.removeEventListener("error",bn)},qt=()=>{$e(Pe(ce.result)),Ft()},bn=()=>{je(ce.error),Ft()};ce.addEventListener("success",qt),ce.addEventListener("error",bn)});return se.then($e=>{$e instanceof IDBCursor&&Y.set($e,ce)}).catch(()=>{}),Ve.set(se,ce),se}(ce);if(Ke.has(ce))return Ke.get(ce);const se=st(ce);return se!==ce&&(Ke.set(ce,se),Ve.set(se,ce)),se}const Ee=ce=>Ve.get(ce),Ye=["get","getKey","getAll","getAllKeys","count"],de=["put","add","delete","clear"],Qe=new Map;function Nt(ce,se){if(!(ce instanceof IDBDatabase)||se in ce||"string"!=typeof se)return;if(Qe.get(se))return Qe.get(se);const $e=se.replace(/FromIndex$/,""),je=se!==$e,Ft=de.includes($e);if(!($e in(je?IDBIndex:IDBObjectStore).prototype)||!Ft&&!Ye.includes($e))return;const qt=function(){var bn=(0,c.Z)(function*(qn,...on){const Fr=this.transaction(qn,Ft?"readwrite":"readonly");let Ai=Fr.store;return je&&(Ai=Ai.index(on.shift())),(yield Promise.all([Ai[$e](...on),Ft&&Fr.done]))[0]});return function(on){return bn.apply(this,arguments)}}();return Qe.set(se,qt),qt}!function be(ce){De=ce(De)}(ce=>({...ce,get:(se,$e,je)=>Nt(se,$e)||ce.get(se,$e,je),has:(se,$e)=>!!Nt(se,$e)||ce.has(se,$e)}));class mt{constructor(se){this.container=se}getPlatformInfoString(){return this.container.getProviders().map($e=>{if(function Gt(ce){return"VERSION"===ce.getComponent()?.type}($e)){const je=$e.getImmediate();return`${je.library}/${je.version}`}return null}).filter($e=>$e).join(" ")}}const nt="@firebase/app",kn=new N.Yd("@firebase/app"),br="[DEFAULT]",pn={[nt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Nn=new Map,Qt=new Map;function ft(ce,se){try{ce.container.addComponent(se)}catch($e){kn.debug(`Component ${se.name} failed to register with FirebaseApp ${ce.name}`,$e)}}function Tt(ce,se){ce.container.addOrOverwriteComponent(se)}function hn(ce){const se=ce.name;if(Qt.has(se))return kn.debug(`There were multiple attempts to register component ${se}.`),!1;Qt.set(se,ce);for(const $e of Nn.values())ft($e,ce);return!0}function zr(ce,se){const $e=ce.container.getProvider("heartbeat").getImmediate({optional:!0});return $e&&$e.triggerHeartbeat(),ce.container.getProvider(se)}function fr(ce,se,$e=br){zr(ce,se).clearInstance($e)}function ur(){Qt.clear()}const Xn=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class en{constructor(se,$e,je){this._isDeleted=!1,this._options=Object.assign({},se),this._config=Object.assign({},$e),this._name=$e.name,this._automaticDataCollectionEnabled=$e.automaticDataCollectionEnabled,this._container=je,this.container.addComponent(new q.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(se){this.checkDestroyed(),this._automaticDataCollectionEnabled=se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(se){this._isDeleted=se}checkDestroyed(){if(this.isDeleted)throw Xn.create("app-deleted",{appName:this._name})}}const Hi="9.23.0";function gn(ce,se={}){let $e=ce;"object"!=typeof se&&(se={name:se});const je=Object.assign({name:br,automaticDataCollectionEnabled:!1},se),Ft=je.name;if("string"!=typeof Ft||!Ft)throw Xn.create("bad-app-name",{appName:String(Ft)});if($e||($e=(0,le.aH)()),!$e)throw Xn.create("no-options");const qt=Nn.get(Ft);if(qt){if((0,le.vZ)($e,qt.options)&&(0,le.vZ)(je,qt.config))return qt;throw Xn.create("duplicate-app",{appName:Ft})}const bn=new q.H0(Ft);for(const on of Qt.values())bn.addComponent(on);const qn=new en($e,je,bn);return Nn.set(Ft,qn),qn}function Kn(ce=br){const se=Nn.get(ce);if(!se&&ce===br&&(0,le.aH)())return gn();if(!se)throw Xn.create("no-app",{appName:ce});return se}function Cn(){return Array.from(Nn.values())}function or(ce){return $n.apply(this,arguments)}function $n(){return($n=(0,c.Z)(function*(ce){const se=ce.name;Nn.has(se)&&(Nn.delete(se),yield Promise.all(ce.container.getProviders().map($e=>$e.delete())),ce.isDeleted=!0)})).apply(this,arguments)}function pr(ce,se,$e){var je;let Ft=null!==(je=pn[ce])&&void 0!==je?je:ce;$e&&(Ft+=`-${$e}`);const qt=Ft.match(/\s|\//),bn=se.match(/\s|\//);if(qt||bn){const qn=[`Unable to register library "${Ft}" with version "${se}":`];return qt&&qn.push(`library name "${Ft}" contains illegal characters (whitespace or "/")`),qt&&bn&&qn.push("and"),bn&&qn.push(`version name "${se}" contains illegal characters (whitespace or "/")`),void kn.warn(qn.join(" "))}hn(new q.wA(`${Ft}-version`,()=>({library:Ft,version:se}),"VERSION"))}function sr(ce,se){if(null!==ce&&"function"!=typeof ce)throw Xn.create("invalid-log-argument");(0,N.Am)(ce,se)}function _i(ce){(0,N.Ub)(ce)}const K="firebase-heartbeat-store";let W=null;function B(){return W||(W=function me(ce,se,{blocked:$e,upgrade:je,blocking:Ft,terminated:qt}={}){const bn=indexedDB.open(ce,se),qn=Pe(bn);return je&&bn.addEventListener("upgradeneeded",on=>{je(Pe(bn.result),on.oldVersion,on.newVersion,Pe(bn.transaction),on)}),$e&&bn.addEventListener("blocked",on=>$e(on.oldVersion,on.newVersion,on)),qn.then(on=>{qt&&on.addEventListener("close",()=>qt()),Ft&&on.addEventListener("versionchange",Fr=>Ft(Fr.oldVersion,Fr.newVersion,Fr))}).catch(()=>{}),qn}("firebase-heartbeat-database",1,{upgrade:(ce,se)=>{0===se&&ce.createObjectStore(K)}}).catch(ce=>{throw Xn.create("idb-open",{originalErrorMessage:ce.message})})),W}function F(){return(F=(0,c.Z)(function*(ce){try{return yield(yield B()).transaction(K).objectStore(K).get(Xe(ce))}catch(se){if(se instanceof le.ZR)kn.warn(se.message);else{const $e=Xn.create("idb-get",{originalErrorMessage:se?.message});kn.warn($e.message)}}})).apply(this,arguments)}function te(ce,se){return Se.apply(this,arguments)}function Se(){return(Se=(0,c.Z)(function*(ce,se){try{const je=(yield B()).transaction(K,"readwrite");yield je.objectStore(K).put(se,Xe(ce)),yield je.done}catch($e){if($e instanceof le.ZR)kn.warn($e.message);else{const je=Xn.create("idb-set",{originalErrorMessage:$e?.message});kn.warn(je.message)}}})).apply(this,arguments)}function Xe(ce){return`${ce.name}!${ce.options.appId}`}class it{constructor(se){this.container=se,this._heartbeatsCache=null;const $e=this.container.getProvider("app").getImmediate();this._storage=new Bt($e),this._heartbeatsCachePromise=this._storage.read().then(je=>(this._heartbeatsCache=je,je))}triggerHeartbeat(){var se=this;return(0,c.Z)(function*(){const je=se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ft=ct();if(null===se._heartbeatsCache&&(se._heartbeatsCache=yield se._heartbeatsCachePromise),se._heartbeatsCache.lastSentHeartbeatDate!==Ft&&!se._heartbeatsCache.heartbeats.some(qt=>qt.date===Ft))return se._heartbeatsCache.heartbeats.push({date:Ft,agent:je}),se._heartbeatsCache.heartbeats=se._heartbeatsCache.heartbeats.filter(qt=>{const bn=new Date(qt.date).valueOf();return Date.now()-bn<=2592e6}),se._storage.overwrite(se._heartbeatsCache)})()}getHeartbeatsHeader(){var se=this;return(0,c.Z)(function*(){if(null===se._heartbeatsCache&&(yield se._heartbeatsCachePromise),null===se._heartbeatsCache||0===se._heartbeatsCache.heartbeats.length)return"";const $e=ct(),{heartbeatsToSend:je,unsentEntries:Ft}=function Jt(ce,se=1024){const $e=[];let je=ce.slice();for(const Ft of ce){const qt=$e.find(bn=>bn.agent===Ft.agent);if(qt){if(qt.dates.push(Ft.date),rn($e)>se){qt.dates.pop();break}}else if($e.push({agent:Ft.agent,dates:[Ft.date]}),rn($e)>se){$e.pop();break}je=je.slice(1)}return{heartbeatsToSend:$e,unsentEntries:je}}(se._heartbeatsCache.heartbeats),qt=(0,le.L)(JSON.stringify({version:2,heartbeats:je}));return se._heartbeatsCache.lastSentHeartbeatDate=$e,Ft.length>0?(se._heartbeatsCache.heartbeats=Ft,yield se._storage.overwrite(se._heartbeatsCache)):(se._heartbeatsCache.heartbeats=[],se._storage.overwrite(se._heartbeatsCache)),qt})()}}function ct(){return(new Date).toISOString().substring(0,10)}class Bt{constructor(se){this.app=se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,le.hl)()&&(0,le.eu)().then(()=>!0).catch(()=>!1)})()}read(){var se=this;return(0,c.Z)(function*(){return(yield se._canUseIndexedDBPromise)&&(yield function V(ce){return F.apply(this,arguments)}(se.app))||{heartbeats:[]}})()}overwrite(se){var $e=this;return(0,c.Z)(function*(){var je;if(yield $e._canUseIndexedDBPromise){const qt=yield $e.read();return te($e.app,{lastSentHeartbeatDate:null!==(je=se.lastSentHeartbeatDate)&&void 0!==je?je:qt.lastSentHeartbeatDate,heartbeats:se.heartbeats})}})()}add(se){var $e=this;return(0,c.Z)(function*(){var je;if(yield $e._canUseIndexedDBPromise){const qt=yield $e.read();return te($e.app,{lastSentHeartbeatDate:null!==(je=se.lastSentHeartbeatDate)&&void 0!==je?je:qt.lastSentHeartbeatDate,heartbeats:[...qt.heartbeats,...se.heartbeats]})}})()}}function rn(ce){return(0,le.L)(JSON.stringify({version:2,heartbeats:ce})).length}!function In(ce){hn(new q.wA("platform-logger",se=>new mt(se),"PRIVATE")),hn(new q.wA("heartbeat",se=>new it(se),"PRIVATE")),pr(nt,"0.9.13",ce),pr(nt,"0.9.13","esm2017"),pr("fire-js","")}("")},4859:(Dt,Ne,U)=>{"use strict";U.d(Ne,{H0:()=>Ce,wA:()=>N});var c=U(5861),q=U(2090);class N{constructor(Y,Z,ne){this.name=Y,this.instanceFactory=Z,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const le="[DEFAULT]";class fe{constructor(Y,Z){this.name=Y,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const Z=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(Z)){const ne=new q.BH;if(this.instancesDeferred.set(Z,ne),this.isInitialized(Z)||this.shouldAutoInitialize())try{const Ke=this.getOrInitializeService({instanceIdentifier:Z});Ke&&ne.resolve(Ke)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate(Y){var Z;const ne=this.normalizeInstanceIdentifier(Y?.identifier),Ke=null!==(Z=Y?.optional)&&void 0!==Z&&Z;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(Ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(Ve){if(Ke)return null;throw Ve}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function we(Ie){return"EAGER"===Ie.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:le})}catch{}for(const[Z,ne]of this.instancesDeferred.entries()){const Ke=this.normalizeInstanceIdentifier(Z);try{const Ve=this.getOrInitializeService({instanceIdentifier:Ke});ne.resolve(Ve)}catch{}}}}clearInstance(Y=le){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,c.Z)(function*(){const Z=Array.from(Y.instances.values());yield Promise.all([...Z.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...Z.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=le){return this.instances.has(Y)}getOptions(Y=le){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:Z={}}=Y,ne=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ke=this.getOrInitializeService({instanceIdentifier:ne,options:Z});for(const[Ve,Me]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(Ve)&&Me.resolve(Ke);return Ke}onInit(Y,Z){var ne;const Ke=this.normalizeInstanceIdentifier(Z),Ve=null!==(ne=this.onInitCallbacks.get(Ke))&&void 0!==ne?ne:new Set;Ve.add(Y),this.onInitCallbacks.set(Ke,Ve);const Me=this.instances.get(Ke);return Me&&Y(Me,Ke),()=>{Ve.delete(Y)}}invokeOnInitCallbacks(Y,Z){const ne=this.onInitCallbacks.get(Z);if(ne)for(const Ke of ne)try{Ke(Y,Z)}catch{}}getOrInitializeService({instanceIdentifier:Y,options:Z={}}){let ne=this.instances.get(Y);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(Ie=Y,Ie===le?void 0:Ie),options:Z}),this.instances.set(Y,ne),this.instancesOptions.set(Y,Z),this.invokeOnInitCallbacks(ne,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,ne)}catch{}var Ie;return ne||null}normalizeInstanceIdentifier(Y=le){return this.component?this.component.multipleInstances?Y:le:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ce{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const Z=this.getProvider(Y.name);if(Z.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);Z.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const Z=new fe(Y,this);return this.providers.set(Y,Z),Z}getProviders(){return Array.from(this.providers.values())}}},1877:(Dt,Ne,U)=>{"use strict";U.d(Ne,{Am:()=>Ie,Ub:()=>Ce,Yd:()=>we,in:()=>q});const c=[];var q=(()=>{return(Y=q||(q={}))[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",q;var Y})();const N={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},le=q.INFO,fe={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},z=(Y,Z,...ne)=>{if(Z<Y.logLevel)return;const Ke=(new Date).toISOString(),Ve=fe[Z];if(!Ve)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[Ve](`[${Ke}]  ${Y.name}:`,...ne)};class we{constructor(Z){this.name=Z,this._logLevel=le,this._logHandler=z,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in q))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?N[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...Z),this._logHandler(this,q.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...Z),this._logHandler(this,q.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,q.INFO,...Z),this._logHandler(this,q.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,q.WARN,...Z),this._logHandler(this,q.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,q.ERROR,...Z),this._logHandler(this,q.ERROR,...Z)}}function Ce(Y){c.forEach(Z=>{Z.setLogLevel(Y)})}function Ie(Y,Z){for(const ne of c){let Ke=null;Z&&Z.level&&(Ke=N[Z.level]),ne.userLogHandler=null===Y?null:(Ve,Me,...tt)=>{const De=tt.map(be=>{if(null==be)return null;if("string"==typeof be)return be;if("number"==typeof be||"boolean"==typeof be)return be.toString();if(be instanceof Error)return be.message;try{return JSON.stringify(be)}catch{return null}}).filter(be=>be).join(" ");Me>=(Ke??Ve.logLevel)&&Y({level:q[Me].toLowerCase(),message:De,args:tt,type:Ve.name})}}}},259:(Dt,Ne,U)=>{"use strict";U.d(Ne,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=U(6881);(0,c.registerVersion)("firebase","9.23.0","app")},9260:(Dt,Ne,U)=>{"use strict";U.d(Ne,{Z:()=>c.Z});var c=U(3942);c.Z.registerVersion("firebase","9.23.0","app-compat")},9568:(Dt,Ne,U)=>{"use strict";U.r(Ne);var c=U(5861),q=U(3942),N=U(1389),le=U(2090),we=(U(6881),U(1877),U(4859));function Ce(){return window}function Z(){return(Z=(0,c.Z)(function*(B,V,F){var te;const{BuildInfo:Se}=Ce();(0,N.as)(V.sessionId,"AuthEvent did not contain a session ID");const Xe=yield be(V.sessionId),bt={};return(0,N.at)()?bt.ibi=Se.packageName:(0,N.au)()?bt.apn=Se.packageName:(0,N.av)(B,"operation-not-supported-in-this-environment"),Se.displayName&&(bt.appDisplayName=Se.displayName),bt.sessionId=Xe,(0,N.aw)(B,F,V.type,void 0,null!==(te=V.eventId)&&void 0!==te?te:void 0,bt)})).apply(this,arguments)}function Ke(){return(Ke=(0,c.Z)(function*(B){const{BuildInfo:V}=Ce(),F={};(0,N.at)()?F.iosBundleId=V.packageName:(0,N.au)()?F.androidPackageName=V.packageName:(0,N.av)(B,"operation-not-supported-in-this-environment"),yield(0,N.ax)(B,F)})).apply(this,arguments)}function tt(){return(tt=(0,c.Z)(function*(B,V,F){const{cordova:te}=Ce();let Se=()=>{};try{yield new Promise((Xe,bt)=>{let xe=null;function it(){var Bt;Xe();const rn=null===(Bt=te.plugins.browsertab)||void 0===Bt?void 0:Bt.close;"function"==typeof rn&&rn(),"function"==typeof F?.close&&F.close()}function ct(){xe||(xe=window.setTimeout(()=>{bt((0,N.az)(B,"redirect-cancelled-by-user"))},2e3))}function Jt(){"visible"===document?.visibilityState&&ct()}V.addPassiveListener(it),document.addEventListener("resume",ct,!1),(0,N.au)()&&document.addEventListener("visibilitychange",Jt,!1),Se=()=>{V.removePassiveListener(it),document.removeEventListener("resume",ct,!1),document.removeEventListener("visibilitychange",Jt,!1),xe&&window.clearTimeout(xe)}})}finally{Se()}})).apply(this,arguments)}function be(B){return wt.apply(this,arguments)}function wt(){return(wt=(0,c.Z)(function*(B){const V=st(B),F=yield crypto.subtle.digest("SHA-256",V);return Array.from(new Uint8Array(F)).map(Se=>Se.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function st(B){if((0,N.as)(/[0-9a-zA-Z]+/.test(B),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(B);const V=new ArrayBuffer(B.length),F=new Uint8Array(V);for(let te=0;te<B.length;te++)F[te]=B.charCodeAt(te);return F}class Ee extends N.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(V=>{this.resolveInialized=V})}addPassiveListener(V){this.passiveListeners.add(V)}removePassiveListener(V){this.passiveListeners.delete(V)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(V){return this.resolveInialized(),this.passiveListeners.forEach(F=>F(V)),super.onEvent(V)}initialized(){var V=this;return(0,c.Z)(function*(){yield V.initPromise})()}}function Ye(B){return de.apply(this,arguments)}function de(){return(de=(0,c.Z)(function*(B){const V=yield mt()._get(Gt(B));return V&&(yield mt()._remove(Gt(B))),V})).apply(this,arguments)}function Nt(){const B=[],V="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let F=0;F<20;F++){const te=Math.floor(Math.random()*V.length);B.push(V.charAt(te))}return B.join("")}function mt(){return(0,N.aC)(N.b)}function Gt(B){return(0,N.aD)("authEvent",B.config.apiKey,B.name)}function kn(B){if(!B?.includes("?"))return{};const[V,...F]=B.split("?");return(0,le.zd)(F.join("?"))}function oe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,N.az)("no-auth-event")}}function ut(){var B;return(null===(B=self?.location)||void 0===B?void 0:B.protocol)||null}function an(B=(0,le.z$)()){return!("file:"!==ut()&&"ionic:"!==ut()&&"capacitor:"!==ut()||!B.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zn(){try{const B=self.localStorage,V=N.aL();if(B)return B.setItem(V,"1"),B.removeItem(V),!function Yt(B=(0,le.z$)()){return function Wt(){return(0,le.w1)()&&11===document?.documentMode}()||function Bn(B=(0,le.z$)()){return/Edge\/\d+/.test(B)}(B)}()||(0,le.hl)()}catch{return Mn()&&(0,le.hl)()}return!1}function Mn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Gn(){return(function xt(){return"http:"===ut()||"https:"===ut()}()||(0,le.ru)()||an())&&!function gt(){return(0,le.b$)()||(0,le.UG)()}()&&Zn()&&!Mn()}function Ut(){return an()&&typeof document<"u"}function rt(){return(rt=(0,c.Z)(function*(){return!!Ut()&&new Promise(B=>{const V=setTimeout(()=>{B(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(V),B(!0)})})})).apply(this,arguments)}const un={LOCAL:"local",NONE:"none",SESSION:"session"},dn=N.aA,yi="persistence";function pn(B){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,c.Z)(function*(B){yield B._initializationPromise;const V=ft(),F=N.aD(yi,B.config.apiKey,B.name);V&&V.setItem(F,B._getPersistence())})).apply(this,arguments)}function ft(){var B;try{return(null===(B=function Hn(){return typeof window<"u"?window:null}())||void 0===B?void 0:B.sessionStorage)||null}catch{return null}}const Tt=N.aA;class hn{constructor(){this.browserResolver=N.aC(N.k),this.cordovaResolver=N.aC(class jr{constructor(){this._redirectPersistence=N.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=N.aE,this._overrideRedirectResult=N.aF}_initialize(V){var F=this;return(0,c.Z)(function*(){const te=V._key();let Se=F.eventManagers.get(te);return Se||(Se=new Ee(V),F.eventManagers.set(te,Se),F.attachCallbackListeners(V,Se)),Se})()}_openPopup(V){(0,N.av)(V,"operation-not-supported-in-this-environment")}_openRedirect(V,F,te,Se){var Xe=this;return(0,c.Z)(function*(){!function De(B){var V,F,te,Se,Xe,bt,xe,it,ct,Jt;const Bt=Ce();(0,N.aA)("function"==typeof(null===(V=Bt?.universalLinks)||void 0===V?void 0:V.subscribe),B,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,N.aA)(typeof(null===(F=Bt?.BuildInfo)||void 0===F?void 0:F.packageName)<"u",B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,N.aA)("function"==typeof(null===(Xe=null===(Se=null===(te=Bt?.cordova)||void 0===te?void 0:te.plugins)||void 0===Se?void 0:Se.browsertab)||void 0===Xe?void 0:Xe.openUrl),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aA)("function"==typeof(null===(it=null===(xe=null===(bt=Bt?.cordova)||void 0===bt?void 0:bt.plugins)||void 0===xe?void 0:xe.browsertab)||void 0===it?void 0:it.isAvailable),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,N.aA)("function"==typeof(null===(Jt=null===(ct=Bt?.cordova)||void 0===ct?void 0:ct.InAppBrowser)||void 0===Jt?void 0:Jt.open),B,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(V);const bt=yield Xe._initialize(V);yield bt.initialized(),bt.resetRedirect(),(0,N.aG)(),yield Xe._originValidation(V);const xe=function me(B,V,F=null){return{type:V,eventId:F,urlResponse:null,sessionId:Nt(),postBody:null,tenantId:B.tenantId,error:(0,N.az)(B,"no-auth-event")}}(V,te,Se);yield function We(B,V){return mt()._set(Gt(B),V)}(V,xe);const it=yield function Y(B,V,F){return Z.apply(this,arguments)}(V,xe,F),ct=yield function Ve(B){const{cordova:V}=Ce();return new Promise(F=>{V.plugins.browsertab.isAvailable(te=>{let Se=null;te?V.plugins.browsertab.openUrl(B):Se=V.InAppBrowser.open(B,(0,N.ay)()?"_blank":"_system","location=yes"),F(Se)})})}(it);return function Me(B,V,F){return tt.apply(this,arguments)}(V,bt,ct)})()}_isIframeWebStorageSupported(V,F){throw new Error("Method not implemented.")}_originValidation(V){const F=V._key();return this.originValidationPromises[F]||(this.originValidationPromises[F]=function ne(B){return Ke.apply(this,arguments)}(V)),this.originValidationPromises[F]}attachCallbackListeners(V,F){const{universalLinks:te,handleOpenURL:Se,BuildInfo:Xe}=Ce(),bt=setTimeout((0,c.Z)(function*(){yield Ye(V),F.onEvent(oe())}),500),xe=function(){var Jt=(0,c.Z)(function*(Bt){clearTimeout(bt);const rn=yield Ye(V);let In=null;rn&&Bt?.url&&(In=function Qe(B,V){var F,te;const Se=function Nr(B){const V=kn(B),F=V.link?decodeURIComponent(V.link):void 0,te=kn(F).link,Se=V.deep_link_id?decodeURIComponent(V.deep_link_id):void 0;return kn(Se).link||Se||te||F||B}(V);if(Se.includes("/__/auth/callback")){const Xe=kn(Se),bt=Xe.firebaseError?function nt(B){try{return JSON.parse(B)}catch{return null}}(decodeURIComponent(Xe.firebaseError)):null,xe=null===(te=null===(F=bt?.code)||void 0===F?void 0:F.split("auth/"))||void 0===te?void 0:te[1],it=xe?(0,N.az)(xe):null;return it?{type:B.type,eventId:B.eventId,tenantId:B.tenantId,error:it,urlResponse:null,sessionId:null,postBody:null}:{type:B.type,eventId:B.eventId,tenantId:B.tenantId,sessionId:B.sessionId,urlResponse:Se,postBody:null}}return null}(rn,Bt.url)),F.onEvent(In||oe())});return function(rn){return Jt.apply(this,arguments)}}();typeof te<"u"&&"function"==typeof te.subscribe&&te.subscribe(null,xe);const it=Se,ct=`${Xe.packageName.toLowerCase()}://`;Ce().handleOpenURL=function(){var Jt=(0,c.Z)(function*(Bt){if(Bt.toLowerCase().startsWith(ct)&&xe({url:Bt}),"function"==typeof it)try{it(Bt)}catch(rn){console.error(rn)}});return function(Bt){return Jt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=N.a,this._completeRedirectFn=N.aE,this._overrideRedirectResult=N.aF}_initialize(V){var F=this;return(0,c.Z)(function*(){return yield F.selectUnderlyingResolver(),F.assertedUnderlyingResolver._initialize(V)})()}_openPopup(V,F,te,Se){var Xe=this;return(0,c.Z)(function*(){return yield Xe.selectUnderlyingResolver(),Xe.assertedUnderlyingResolver._openPopup(V,F,te,Se)})()}_openRedirect(V,F,te,Se){var Xe=this;return(0,c.Z)(function*(){return yield Xe.selectUnderlyingResolver(),Xe.assertedUnderlyingResolver._openRedirect(V,F,te,Se)})()}_isIframeWebStorageSupported(V,F){this.assertedUnderlyingResolver._isIframeWebStorageSupported(V,F)}_originValidation(V){return this.assertedUnderlyingResolver._originValidation(V)}get _shouldInitProactively(){return Ut()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Tt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var V=this;return(0,c.Z)(function*(){if(V.underlyingResolver)return;const F=yield function Jn(){return rt.apply(this,arguments)}();V.underlyingResolver=F?V.cordovaResolver:V.browserResolver})()}}function zr(B){return B.unwrap()}function ur(B){return Xn(B)}function Xn(B){const{_tokenResponse:V}=B instanceof le.ZR?B.customData:B;if(!V)return null;if(!(B instanceof le.ZR)&&"temporaryProof"in V&&"phoneNumber"in V)return N.P.credentialFromResult(B);const F=V.providerId;if(!F||F===N.p.PASSWORD)return null;let te;switch(F){case N.p.GOOGLE:te=N.V;break;case N.p.FACEBOOK:te=N.U;break;case N.p.GITHUB:te=N.W;break;case N.p.TWITTER:te=N.Z;break;default:const{oauthIdToken:Se,oauthAccessToken:Xe,oauthTokenSecret:bt,pendingToken:xe,nonce:it}=V;return Xe||bt||Se||xe?xe?F.startsWith("saml.")?N.aO._create(F,xe):N.L._fromParams({providerId:F,signInMethod:F,pendingToken:xe,idToken:Se,accessToken:Xe}):new N.X(F).credential({idToken:Se,accessToken:Xe,rawNonce:it}):null}return B instanceof le.ZR?te.credentialFromError(B):te.credentialFromResult(B)}function en(B,V){return V.catch(F=>{throw F instanceof le.ZR&&function It(B,V){var F;const te=null===(F=V.customData)||void 0===F?void 0:F._tokenResponse;if("auth/multi-factor-auth-required"===V?.code)V.resolver=new Kn(B,N.aq(B,V));else if(te){const Se=Xn(V),Xe=V;Se&&(Xe.credential=Se,Xe.tenantId=te.tenantId||void 0,Xe.email=te.email||void 0,Xe.phoneNumber=te.phoneNumber||void 0)}}(B,F),F}).then(F=>{const Se=F.user;return{operationType:F.operationType,credential:ur(F),additionalUserInfo:N.ao(F),user:Cn.getOrCreate(Se)}})}function Hi(B,V){return gn.apply(this,arguments)}function gn(){return(gn=(0,c.Z)(function*(B,V){const F=yield V;return{verificationId:F.verificationId,confirm:te=>en(B,F.confirm(te))}})).apply(this,arguments)}class Kn{constructor(V,F){this.resolver=F,this.auth=function fr(B){return B.wrapped()}(V)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(V){return en(zr(this.auth),this.resolver.resolveSignIn(V))}}class Cn{constructor(V){this._delegate=V,this.multiFactor=N.ar(V)}static getOrCreate(V){return Cn.USER_MAP.has(V)||Cn.USER_MAP.set(V,new Cn(V)),Cn.USER_MAP.get(V)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(V){return this._delegate.getIdTokenResult(V)}getIdToken(V){return this._delegate.getIdToken(V)}linkAndRetrieveDataWithCredential(V){return this.linkWithCredential(V)}linkWithCredential(V){var F=this;return(0,c.Z)(function*(){return en(F.auth,N.a0(F._delegate,V))})()}linkWithPhoneNumber(V,F){var te=this;return(0,c.Z)(function*(){return Hi(te.auth,N.l(te._delegate,V,F))})()}linkWithPopup(V){var F=this;return(0,c.Z)(function*(){return en(F.auth,N.d(F._delegate,V,hn))})()}linkWithRedirect(V){var F=this;return(0,c.Z)(function*(){return yield pn(N.aH(F.auth)),N.g(F._delegate,V,hn)})()}reauthenticateAndRetrieveDataWithCredential(V){return this.reauthenticateWithCredential(V)}reauthenticateWithCredential(V){var F=this;return(0,c.Z)(function*(){return en(F.auth,N.a1(F._delegate,V))})()}reauthenticateWithPhoneNumber(V,F){return Hi(this.auth,N.r(this._delegate,V,F))}reauthenticateWithPopup(V){return en(this.auth,N.e(this._delegate,V,hn))}reauthenticateWithRedirect(V){var F=this;return(0,c.Z)(function*(){return yield pn(N.aH(F.auth)),N.h(F._delegate,V,hn)})()}sendEmailVerification(V){return N.ae(this._delegate,V)}unlink(V){var F=this;return(0,c.Z)(function*(){return yield N.an(F._delegate,V),F})()}updateEmail(V){return N.aj(this._delegate,V)}updatePassword(V){return N.ak(this._delegate,V)}updatePhoneNumber(V){return N.u(this._delegate,V)}updateProfile(V){return N.ai(this._delegate,V)}verifyBeforeUpdateEmail(V,F){return N.af(this._delegate,V,F)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Cn.USER_MAP=new WeakMap;const or=N.aA;let $n=(()=>{class B{constructor(F,te){if(this.app=F,te.isInitialized())return this._delegate=te.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Se}=F.options;or(Se,"invalid-api-key",{appName:F.name}),or(Se,"invalid-api-key",{appName:F.name});const Xe=typeof window<"u"?hn:void 0;this._delegate=te.initialize({options:{persistence:sr(Se,F.name),popupRedirectResolver:Xe}}),this._delegate._updateErrorMap(N.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Cn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(F){this._delegate.languageCode=F}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(F){this._delegate.tenantId=F}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(F,te){N.I(this._delegate,F,te)}applyActionCode(F){return N.a5(this._delegate,F)}checkActionCode(F){return N.a6(this._delegate,F)}confirmPasswordReset(F,te){return N.a4(this._delegate,F,te)}createUserWithEmailAndPassword(F,te){var Se=this;return(0,c.Z)(function*(){return en(Se._delegate,N.a8(Se._delegate,F,te))})()}fetchProvidersForEmail(F){return this.fetchSignInMethodsForEmail(F)}fetchSignInMethodsForEmail(F){return N.ad(this._delegate,F)}isSignInWithEmailLink(F){return N.ab(this._delegate,F)}getRedirectResult(){var F=this;return(0,c.Z)(function*(){or(Gn(),F._delegate,"operation-not-supported-in-this-environment");const te=yield N.j(F._delegate,hn);return te?en(F._delegate,Promise.resolve(te)):{credential:null,user:null}})()}addFrameworkForLogging(F){!function Ae(B,V){(0,N.aH)(B)._logFramework(V)}(this._delegate,F)}onAuthStateChanged(F,te,Se){const{next:Xe,error:bt,complete:xe}=pr(F,te,Se);return this._delegate.onAuthStateChanged(Xe,bt,xe)}onIdTokenChanged(F,te,Se){const{next:Xe,error:bt,complete:xe}=pr(F,te,Se);return this._delegate.onIdTokenChanged(Xe,bt,xe)}sendSignInLinkToEmail(F,te){return N.aa(this._delegate,F,te)}sendPasswordResetEmail(F,te){return N.a3(this._delegate,F,te||void 0)}setPersistence(F){var te=this;return(0,c.Z)(function*(){let Se;switch(function br(B,V){dn(Object.values(un).includes(V),B,"invalid-persistence-type"),(0,le.b$)()?dn(V!==un.SESSION,B,"unsupported-persistence-type"):(0,le.UG)()?dn(V===un.NONE,B,"unsupported-persistence-type"):Mn()?dn(V===un.NONE||V===un.LOCAL&&(0,le.hl)(),B,"unsupported-persistence-type"):dn(V===un.NONE||Zn(),B,"unsupported-persistence-type")}(te._delegate,F),F){case un.SESSION:Se=N.a;break;case un.LOCAL:Se=(yield N.aC(N.i)._isAvailable())?N.i:N.b;break;case un.NONE:Se=N.N;break;default:return N.av("argument-error",{appName:te._delegate.name})}return te._delegate.setPersistence(Se)})()}signInAndRetrieveDataWithCredential(F){return this.signInWithCredential(F)}signInAnonymously(){return en(this._delegate,N._(this._delegate))}signInWithCredential(F){return en(this._delegate,N.$(this._delegate,F))}signInWithCustomToken(F){return en(this._delegate,N.a2(this._delegate,F))}signInWithEmailAndPassword(F,te){return en(this._delegate,N.a9(this._delegate,F,te))}signInWithEmailLink(F,te){return en(this._delegate,N.ac(this._delegate,F,te))}signInWithPhoneNumber(F,te){return Hi(this._delegate,N.s(this._delegate,F,te))}signInWithPopup(F){var te=this;return(0,c.Z)(function*(){return or(Gn(),te._delegate,"operation-not-supported-in-this-environment"),en(te._delegate,N.c(te._delegate,F,hn))})()}signInWithRedirect(F){var te=this;return(0,c.Z)(function*(){return or(Gn(),te._delegate,"operation-not-supported-in-this-environment"),yield pn(te._delegate),N.f(te._delegate,F,hn)})()}updateCurrentUser(F){return this._delegate.updateCurrentUser(F)}verifyPasswordResetCode(F){return N.a7(this._delegate,F)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return B.Persistence=un,B})();function pr(B,V,F){let te=B;"function"!=typeof B&&({next:te,error:V,complete:F}=B);const Se=te;return{next:bt=>Se(bt&&Cn.getOrCreate(bt)),error:V,complete:F}}function sr(B,V){const F=function Qt(B,V){const F=ft();if(!F)return[];const te=N.aD(yi,B,V);switch(F.getItem(te)){case un.NONE:return[N.N];case un.LOCAL:return[N.i,N.a];case un.SESSION:return[N.a];default:return[]}}(B,V);if(typeof self<"u"&&!F.includes(N.i)&&F.push(N.i),typeof window<"u")for(const te of[N.b,N.a])F.includes(te)||F.push(te);return F.includes(N.N)||F.push(N.N),F}class _i{constructor(){this.providerId="phone",this._delegate=new N.P(zr(q.Z.auth()))}static credential(V,F){return N.P.credential(V,F)}verifyPhoneNumber(V,F){return this._delegate.verifyPhoneNumber(V,F)}unwrap(){return this._delegate}}_i.PHONE_SIGN_IN_METHOD=N.P.PHONE_SIGN_IN_METHOD,_i.PROVIDER_ID=N.P.PROVIDER_ID;const gr=N.aA;class Cr{constructor(V,F,te=q.Z.app()){var Se;gr(null===(Se=te.options)||void 0===Se?void 0:Se.apiKey,"invalid-api-key",{appName:te.name}),this._delegate=new N.R(V,F,te.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function W(B){B.INTERNAL.registerComponent(new we.wA("auth-compat",V=>{const F=V.getProvider("app-compat").getImmediate(),te=V.getProvider("auth");return new $n(F,te)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:N.A.EMAIL_SIGNIN,PASSWORD_RESET:N.A.PASSWORD_RESET,RECOVER_EMAIL:N.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:N.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:N.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:N.A.VERIFY_EMAIL}},EmailAuthProvider:N.Q,FacebookAuthProvider:N.U,GithubAuthProvider:N.W,GoogleAuthProvider:N.V,OAuthProvider:N.X,SAMLAuthProvider:N.Y,PhoneAuthProvider:_i,PhoneMultiFactorGenerator:N.m,RecaptchaVerifier:Cr,TwitterAuthProvider:N.Z,Auth:$n,AuthCredential:N.J,Error:le.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),B.registerVersion("@firebase/auth-compat","0.4.2")}(q.Z)},5861:(Dt,Ne,U)=>{"use strict";function c(N,le,fe,z,we,Ce,Ie){try{var Y=N[Ce](Ie),Z=Y.value}catch(ne){return void fe(ne)}Y.done?le(Z):Promise.resolve(Z).then(z,we)}function q(N){return function(){var le=this,fe=arguments;return new Promise(function(z,we){var Ce=N.apply(le,fe);function Ie(Z){c(Ce,z,we,Ie,Y,"next",Z)}function Y(Z){c(Ce,z,we,Ie,Y,"throw",Z)}Ie(void 0)})}}U.d(Ne,{Z:()=>q})},7582:(Dt,Ne,U)=>{"use strict";function le(ae,oe){var Ae={};for(var pe in ae)Object.prototype.hasOwnProperty.call(ae,pe)&&oe.indexOf(pe)<0&&(Ae[pe]=ae[pe]);if(null!=ae&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(pe=Object.getOwnPropertySymbols(ae);Le<pe.length;Le++)oe.indexOf(pe[Le])<0&&Object.prototype.propertyIsEnumerable.call(ae,pe[Le])&&(Ae[pe[Le]]=ae[pe[Le]])}return Ae}function fe(ae,oe,Ae,pe){var ut,Le=arguments.length,ke=Le<3?oe:null===pe?pe=Object.getOwnPropertyDescriptor(oe,Ae):pe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ke=Reflect.decorate(ae,oe,Ae,pe);else for(var xt=ae.length-1;xt>=0;xt--)(ut=ae[xt])&&(ke=(Le<3?ut(ke):Le>3?ut(oe,Ae,ke):ut(oe,Ae))||ke);return Le>3&&ke&&Object.defineProperty(oe,Ae,ke),ke}function ne(ae,oe,Ae,pe){return new(Ae||(Ae=Promise))(function(ke,ut){function xt(Wt){try{gt(pe.next(Wt))}catch(Bn){ut(Bn)}}function an(Wt){try{gt(pe.throw(Wt))}catch(Bn){ut(Bn)}}function gt(Wt){Wt.done?ke(Wt.value):function Le(ke){return ke instanceof Ae?ke:new Ae(function(ut){ut(ke)})}(Wt.value).then(xt,an)}gt((pe=pe.apply(ae,oe||[])).next())})}function Pe(ae){return this instanceof Pe?(this.v=ae,this):new Pe(ae)}function Ee(ae,oe,Ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,pe=Ae.apply(ae,oe||[]),ke=[];return Le={},ut("next"),ut("throw"),ut("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function ut(Yt){pe[Yt]&&(Le[Yt]=function(Zn){return new Promise(function(Mn,Gn){ke.push([Yt,Zn,Mn,Gn])>1||xt(Yt,Zn)})})}function xt(Yt,Zn){try{!function an(Yt){Yt.value instanceof Pe?Promise.resolve(Yt.value.v).then(gt,Wt):Bn(ke[0][2],Yt)}(pe[Yt](Zn))}catch(Mn){Bn(ke[0][3],Mn)}}function gt(Yt){xt("next",Yt)}function Wt(Yt){xt("throw",Yt)}function Bn(Yt,Zn){Yt(Zn),ke.shift(),ke.length&&xt(ke[0][0],ke[0][1])}}function We(ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ae,oe=ae[Symbol.asyncIterator];return oe?oe.call(ae):(ae=function tt(ae){var oe="function"==typeof Symbol&&Symbol.iterator,Ae=oe&&ae[oe],pe=0;if(Ae)return Ae.call(ae);if(ae&&"number"==typeof ae.length)return{next:function(){return ae&&pe>=ae.length&&(ae=void 0),{value:ae&&ae[pe++],done:!ae}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ae),Ae={},pe("next"),pe("throw"),pe("return"),Ae[Symbol.asyncIterator]=function(){return this},Ae);function pe(ke){Ae[ke]=ae[ke]&&function(ut){return new Promise(function(xt,an){!function Le(ke,ut,xt,an){Promise.resolve(an).then(function(gt){ke({value:gt,done:xt})},ut)}(xt,an,(ut=ae[ke](ut)).done,ut.value)})}}}U.d(Ne,{FC:()=>Ee,KL:()=>We,_T:()=>le,gn:()=>fe,mG:()=>ne,qq:()=>Pe}),"function"==typeof SuppressedError&&SuppressedError}},Dt=>{Dt(Dt.s=7273)}]);